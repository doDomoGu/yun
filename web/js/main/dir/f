define("base:widget/ZeroClipboard/ZeroClipboard.js",function(e,t,i){var s={version:"1.0.7",clients:{},moviePath:"/box-static/base/widget/ZeroClipboard/_nomd5/ZeroClipboard10.swf?t=1465973956843",nextId:1,$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){for(var t=this.className.split(/\s+/),i=-1,s=0;s<t.length;s++)t[s]==e&&(i=s,s=t.length);return i>-1&&(t.splice(i,1),this.className=t.join(" ")),this},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,i){var s=this.clients[e];s&&s.receiveEvent(t,i)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e,t){for(var i={left:0,top:0,width:(e.width?e.width:e.offsetWidth)||this.defWidth,height:(e.height?e.height:e.offsetHeight)||this.defHeight};e&&e!=t;)i.left+=e.offsetLeft,i.top+=e.offsetTop,e=e.offsetParent;return i},Client:function(e){this.handlers={},this.id=s.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,s.register(this.id,this),e&&this.glue(e)}};s.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(e,t,i){this.domElement=s.$(e);var o=9999;this.domElement.style.zIndex&&(o=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof t?t=s.$(t):"undefined"==typeof t&&(t=document.getElementsByTagName("body")[0]);var a=s.getDOMObjectPosition(this.domElement,t);this.div=document.createElement("div");var n=this.div.style;if(n.position="absolute",n.left=""+a.left+"px",n.top=""+a.top+"px",n.width="100%",n.height="100%",n.zIndex=o,"object"==typeof i)for(addedStyle in i)n[addedStyle]=i[addedStyle];t.appendChild(this.div),this.div.innerHTML=this.getHTML(a.width,a.height)},getHTML:function(e,t){var i="",o="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){var a=location.href.match(/^https/i)?"https://":"http://";i+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+a+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" style="position:absolute;left:0;top:0;width:100%;height:100%;"" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+s.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+o+'"/><param name="wmode" value="transparent"/></object>'}else i+='<embed id="'+this.movieId+'" src="'+s.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+o+'" wmode="transparent" style="position:absolute;left:0;top:0;width:100%;height:100%;"/>';return i},hide:function(){this.div&&(this.div.style.left="-2000px")},setEnabled:function(e){this.div&&(this.div.style.display=e?"block":"none")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=this.div.parentNode;try{e.removeChild(this.div)}catch(t){}this.domElement=null,this.div=null}},reposition:function(e){if(e&&(this.domElement=s.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=s.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=""+t.left+"px",i.top=""+t.top+"px"}},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},setSize:function(e,t){s.defWidth=e||0,s.defHeight=t||0},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var i=this;return void setTimeout(function(){i.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var i=this;return setTimeout(function(){i.receiveEvent("load",null)},100),void(this.ready=!0)}this.ready=!0,this.movie.setText(this.clipText),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var s=0,o=this.handlers[e].length;o>s;s++){var a=this.handlers[e][s];"function"==typeof a?a(this,t):"object"==typeof a&&2==a.length?a[0][a[1]](this,t):"string"==typeof a&&window[a](this,t)}}},window.ZeroClipboard=s,i.exports=s});
;define("base:widget/libs/jquery-1.7.2.js",function(e,t,n){!function(e,t){function r(e){var t,n,r=B[e]={};for(e=e.split(/\s+/),t=0,n=e.length;n>t;t++)r[e[t]]=!0;return r}function i(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(W,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:O.isNumeric(r)?+r:q.test(r)?O.parseJSON(r):r}catch(o){}O.data(e,n,r)}else r=t}return r}function o(e){for(var t in e)if(("data"!==t||!O.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function a(e,t,n){var r=t+"defer",i=t+"queue",o=t+"mark",a=O._data(e,r);!a||"queue"!==n&&O._data(e,i)||"mark"!==n&&O._data(e,o)||setTimeout(function(){O._data(e,i)||O._data(e,o)||(O.removeData(e,r,!0),a.fire())},0)}function s(){return!1}function l(){return!0}function u(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function c(e,t,n){if(t=t||0,O.isFunction(t))return O.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return O.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=O.grep(e,function(e){return 1===e.nodeType});if(ft.test(t))return O.filter(t,r,!n);t=O.filter(t,r)}return O.grep(e,function(e){return O.inArray(e,t)>=0===n})}function f(e){var t=mt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e){return O.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e,t){if(1===t.nodeType&&O.hasData(e)){var n,r,i,o=O._data(e),a=O._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)O.event.add(t,n,s[n][r])}a.data&&(a.data=O.extend({},a.data))}}function h(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(O.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function m(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){("checkbox"===e.type||"radio"===e.type)&&(e.defaultChecked=e.checked)}function y(e){var t=(e.nodeName||"").toLowerCase();"input"===t?g(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&O.grep(e.getElementsByTagName("input"),g)}function v(e){var t=M.createElement("div");return Lt.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function b(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i="width"===t?1:0,o=4;if(r>0){if("border"!==n)for(;o>i;i+=2)n||(r-=parseFloat(O.css(e,"padding"+It[i]))||0),"margin"===n?r+=parseFloat(O.css(e,n+It[i]))||0:r-=parseFloat(O.css(e,"border"+It[i]+"Width"))||0;return r+"px"}if(r=jt(e,t),(0>r||null==r)&&(r=e.style[t]),Bt.test(r))return r;if(r=parseFloat(r)||0,n)for(;o>i;i+=2)r+=parseFloat(O.css(e,"padding"+It[i]))||0,"padding"!==n&&(r+=parseFloat(O.css(e,"border"+It[i]+"Width"))||0),"margin"===n&&(r+=parseFloat(O.css(e,n+It[i]))||0);return r+"px"}function x(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),O.isFunction(n))for(var r,i,o,a=t.toLowerCase().split(nn),s=0,l=a.length;l>s;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[o?"unshift":"push"](n)}}function T(e,n,r,i,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,l=e[o],u=0,c=l?l.length:0,f=e===sn;c>u&&(f||!s);u++)s=l[u](n,r,i),"string"==typeof s&&(!f||a[s]?s=t:(n.dataTypes.unshift(s),s=T(e,n,r,i,s,a)));return!f&&s||a["*"]||(s=T(e,n,r,i,"*",a)),s}function w(e,n){var r,i,o=O.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&O.extend(!0,e,i)}function N(e,t,n,r){if(O.isArray(t))O.each(t,function(t,i){n||zt.test(e)?r(e,i):N(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==O.type(t))r(e,t);else for(var i in t)N(e+"["+i+"]",t[i],n,r)}function C(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in r&&(n[c[o]]=r[o]);for(;"*"===u[0];)u.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){u.unshift(o);break}if(u[0]in r)a=u[0];else{for(o in r){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==u[0]&&u.unshift(a),r[a]):void 0}function E(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var r,i,o,a,s,l,u,c,f=e.dataTypes,d={},p=f.length,h=f[0];for(r=1;p>r;r++){if(1===r)for(i in e.converters)"string"==typeof i&&(d[i.toLowerCase()]=e.converters[i]);if(a=h,h=f[r],"*"===h)h=a;else if("*"!==a&&a!==h){if(s=a+" "+h,l=d[s]||d["* "+h],!l){c=t;for(u in d)if(o=u.split(" "),(o[0]===a||"*"===o[0])&&(c=d[o[1]+" "+h])){u=d[u],u===!0?l=c:c===!0&&(l=u);break}}l||c||O.error("No conversion from "+s.replace(" "," to ")),l!==!0&&(n=l?l(n):c(u(n)))}}return n}function k(){try{return new e.XMLHttpRequest}catch(t){}}function S(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function A(){return setTimeout(L,0),bn=O.now()}function L(){bn=t}function j(e,t){var n={};return O.each(Nn.concat.apply([],Nn.slice(0,t)),function(){n[this]=e}),n}function D(e){if(!xn[e]){var t=M.body,n=O("<"+e+">").appendTo(t),r=n.css("display");n.remove(),("none"===r||""===r)&&(gn||(gn=M.createElement("iframe"),gn.frameBorder=gn.width=gn.height=0),t.appendChild(gn),yn&&gn.createElement||(yn=(gn.contentWindow||gn.contentDocument).document,yn.write((O.support.boxModel?"<!doctype html>":"")+"<html><body>"),yn.close()),n=yn.createElement(e),yn.body.appendChild(n),r=O.css(n,"display"),t.removeChild(gn)),xn[e]=r}return xn[e]}function F(e){return O.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var M=e.document,_=e.navigator,H=e.location,O=function(){function n(){if(!s.isReady){try{M.documentElement.doScroll("left")}catch(e){return void setTimeout(n,1)}s.ready()}}var r,i,o,a,s=function(e,t){return new s.fn.init(e,t,r)},l=e.jQuery,u=e.$,c=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,f=/\S/,d=/^\s+/,p=/\s+$/,h=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,y=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,v=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,x=/(opera)(?:.*version)?[ \/]([\w.]+)/,T=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,N=/-([a-z]|[0-9])/gi,C=/^-ms-/,E=function(e,t){return(t+"").toUpperCase()},k=_.userAgent,S=Object.prototype.toString,A=Object.prototype.hasOwnProperty,L=Array.prototype.push,j=Array.prototype.slice,D=String.prototype.trim,F=Array.prototype.indexOf,H={};return s.fn=s.prototype={constructor:s,init:function(e,n,r){var i,o,a,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&M.body)return this.context=M,this[0]=M.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:c.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1])return n=n instanceof s?n[0]:n,l=n?n.ownerDocument||n:M,a=h.exec(e),a?s.isPlainObject(n)?(e=[M.createElement(a[1])],s.fn.attr.call(e,n,!0)):e=[l.createElement(a[1])]:(a=s.buildFragment([i[1]],[l]),e=(a.cacheable?s.clone(a.fragment):a.fragment).childNodes),s.merge(this,e);if(o=M.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=M,this.selector=e,this}return s.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),s.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return j.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=this.constructor();return s.isArray(e)?L.apply(r,e):s.merge(r,e),r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return s.each(this,e,t)},ready:function(e){return s.bindReady(),o.add(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(j.apply(this,arguments),"slice",j.call(arguments).join(","))},map:function(e){return this.pushStack(s.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:L,sort:[].sort,splice:[].splice},s.fn.init.prototype=s.fn,s.extend=s.fn.extend=function(){var e,n,r,i,o,a,l=arguments[0]||{},u=1,c=arguments.length,f=!1;for("boolean"==typeof l&&(f=l,l=arguments[1]||{},u=2),"object"==typeof l||s.isFunction(l)||(l={}),c===u&&(l=this,--u);c>u;u++)if(null!=(e=arguments[u]))for(n in e)r=l[n],i=e[n],l!==i&&(f&&i&&(s.isPlainObject(i)||(o=s.isArray(i)))?(o?(o=!1,a=r&&s.isArray(r)?r:[]):a=r&&s.isPlainObject(r)?r:{},l[n]=s.extend(f,a,i)):i!==t&&(l[n]=i));return l},s.extend({noConflict:function(t){return e.$===s&&(e.$=u),t&&e.jQuery===s&&(e.jQuery=l),s},isReady:!1,readyWait:1,holdReady:function(e){e?s.readyWait++:s.ready(!0)},ready:function(e){if(e===!0&&!--s.readyWait||e!==!0&&!s.isReady){if(!M.body)return setTimeout(s.ready,1);if(s.isReady=!0,e!==!0&&--s.readyWait>0)return;o.fireWith(M,[s]),s.fn.trigger&&s(M).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=s.Callbacks("once memory"),"complete"===M.readyState)return setTimeout(s.ready,1);if(M.addEventListener)M.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",s.ready,!1);else if(M.attachEvent){M.attachEvent("onreadystatechange",a),e.attachEvent("onload",s.ready);var t=!1;try{t=null==e.frameElement}catch(r){}M.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return"function"===s.type(e)},isArray:Array.isArray||function(e){return"array"===s.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):H[S.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==s.type(e)||e.nodeType||s.isWindow(e))return!1;try{if(e.constructor&&!A.call(e,"constructor")&&!A.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||A.call(e,r)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=s.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(g,"@").replace(y,"]").replace(v,""))?new Function("return "+t)():void s.error("Invalid JSON: "+t)):null},parseXML:function(n){if("string"!=typeof n||!n)return null;var r,i;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||s.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&f.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(N,E)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,o=0,a=e.length,l=a===t||s.isFunction(e);if(r)if(l){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;a>o&&n.apply(e[o++],r)!==!1;);else if(l){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;a>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:D?function(e){return null==e?"":D.call(e)}:function(e){return null==e?"":e.toString().replace(d,"").replace(p,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var r=s.type(e);null==e.length||"string"===r||"function"===r||"regexp"===r||s.isWindow(e)?L.call(n,e):s.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(F)return F.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=e.length,i=0;if("number"==typeof n.length)for(var o=n.length;o>i;i++)e[r++]=n[i];else for(;n[i]!==t;)e[r++]=n[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[];n=!!n;for(var o=0,a=e.length;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,n,r){var i,o,a=[],l=0,u=e.length,c=e instanceof s||u!==t&&"number"==typeof u&&(u>0&&e[0]&&e[u-1]||0===u||s.isArray(e));if(c)for(;u>l;l++)i=n(e[l],l,r),null!=i&&(a[a.length]=i);else for(o in e)i=n(e[o],o,r),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,n){if("string"==typeof n){var r=e[n];n=e,e=r}if(!s.isFunction(e))return t;var i=j.call(arguments,2),o=function(){return e.apply(n,i.concat(j.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||s.guid++,o},access:function(e,n,r,i,o,a,l){var u,c=null==r,f=0,d=e.length;if(r&&"object"==typeof r){for(f in r)s.access(e,n,f,r[f],1,a,i);o=1}else if(i!==t){if(u=l===t&&s.isFunction(i),c&&(u?(u=n,n=function(e,t,n){return u.call(s(e),n)}):(n.call(e,i),n=null)),n)for(;d>f;f++)n(e[f],r,u?i.call(e[f],f,n(e[f],r)):i,l);o=1}return o?e:c?n.call(e):d?n(e[0],r):a},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||x.exec(e)||T.exec(e)||e.indexOf("compatible")<0&&w.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}s.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof s&&!(r instanceof e)&&(r=e(r)),s.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(M);return e},browser:{}}),s.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()}),i=s.uaMatch(k),i.browser&&(s.browser[i.browser]=!0,s.browser.version=i.version),s.browser.webkit&&(s.browser.safari=!0),f.test(" ")&&(d=/^[\s\xA0]+/,p=/[\s\xA0]+$/),r=s(M),M.addEventListener?a=function(){M.removeEventListener("DOMContentLoaded",a,!1),s.ready()}:M.attachEvent&&(a=function(){"complete"===M.readyState&&(M.detachEvent("onreadystatechange",a),s.ready())}),s}(),B={};O.Callbacks=function(e){e=e?B[e]||r(e):{};var n,i,o,a,s,l,u=[],c=[],f=function(t){var n,r,i,o;for(n=0,r=t.length;r>n;n++)i=t[n],o=O.type(i),"array"===o?f(i):"function"===o&&(e.unique&&p.has(i)||u.push(i))},d=function(t,r){for(r=r||[],n=!e.memory||[t,r],i=!0,o=!0,l=a||0,a=0,s=u.length;u&&s>l;l++)if(u[l].apply(t,r)===!1&&e.stopOnFalse){n=!0;break}o=!1,u&&(e.once?n===!0?p.disable():u=[]:c&&c.length&&(n=c.shift(),p.fireWith(n[0],n[1])))},p={add:function(){if(u){var e=u.length;f(arguments),o?s=u.length:n&&n!==!0&&(a=e,d(n[0],n[1]))}return this},remove:function(){if(u)for(var t=arguments,n=0,r=t.length;r>n;n++)for(var i=0;i<u.length&&(t[n]!==u[i]||(o&&s>=i&&(s--,l>=i&&l--),u.splice(i--,1),!e.unique));i++);return this},has:function(e){if(u)for(var t=0,n=u.length;n>t;t++)if(e===u[t])return!0;return!1},empty:function(){return u=[],this},disable:function(){return u=c=n=t,this},disabled:function(){return!u},lock:function(){return c=t,n&&n!==!0||p.disable(),this},locked:function(){return!c},fireWith:function(t,r){return c&&(o?e.once||c.push([t,r]):e.once&&n||d(t,r)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p};var P=[].slice;O.extend({Deferred:function(e){var t,n=O.Callbacks("once memory"),r=O.Callbacks("once memory"),i=O.Callbacks("memory"),o="pending",a={resolve:n,reject:r,notify:i},s={done:n.add,fail:r.add,progress:i.add,state:function(){return o},isResolved:n.fired,isRejected:r.fired,then:function(e,t,n){return l.done(e).fail(t).progress(n),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,n){return O.Deferred(function(r){O.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n,i=t[0],o=t[1];l[e](O.isFunction(i)?function(){n=i.apply(this,arguments),n&&O.isFunction(n.promise)?n.promise().then(r.resolve,r.reject,r.notify):r[o+"With"](this===l?r:this,[n])}:r[o])})}).promise()},promise:function(e){if(null==e)e=s;else for(var t in s)e[t]=s[t];return e}},l=s.promise({});for(t in a)l[t]=a[t].fire,l[t+"With"]=a[t].fireWith;return l.done(function(){o="resolved"},r.disable,i.lock).fail(function(){o="rejected"},n.disable,i.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){r[e]=arguments.length>1?P.call(arguments,0):t,--s||l.resolveWith(l,r)}}function n(e){return function(t){a[e]=arguments.length>1?P.call(arguments,0):t,l.notifyWith(u,a)}}var r=P.call(arguments,0),i=0,o=r.length,a=new Array(o),s=o,l=1>=o&&e&&O.isFunction(e.promise)?e:O.Deferred(),u=l.promise();if(o>1){for(;o>i;i++)r[i]&&r[i].promise&&O.isFunction(r[i].promise)?r[i].promise().then(t(i),l.reject,n(i)):--s;s||l.resolveWith(l,r)}else l!==e&&l.resolveWith(l,o?[e]:[]);return u}}),O.support=function(){{var t,n,r,i,o,a,s,l,u,c,f,d=M.createElement("div");M.documentElement}if(d.setAttribute("className","t"),d.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!n.length||!r)return{};i=M.createElement("select"),o=i.appendChild(M.createElement("option")),a=d.getElementsByTagName("input")[0],t={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==d.className,enctype:!!M.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==M.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},O.boxModel=t.boxModel="CSS1Compat"===M.compatMode,a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!o.disabled;try{delete d.test}catch(p){t.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick")),a=M.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),d.appendChild(a),s=M.createDocumentFragment(),s.appendChild(d.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(d),d.attachEvent)for(c in{submit:1,change:1,focusin:1})u="on"+c,f=u in d,f||(d.setAttribute(u,"return;"),f="function"==typeof d[u]),t[c+"Bubbles"]=f;return s.removeChild(d),s=i=o=d=a=null,O(function(){var n,r,i,o,a,s,u,c,p,h,m,g,y=M.getElementsByTagName("body")[0];y&&(u=1,g="padding:0;margin:0;border:",h="position:absolute;top:0;left:0;width:1px;height:1px;",m=g+"0;visibility:hidden;",c="style='"+h+g+"5px solid #000;",p="<div "+c+"display:block;'><div style='"+g+"0;display:block;overflow:hidden;'></div></div><table "+c+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",n=M.createElement("div"),n.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+u+"px",y.insertBefore(n,y.firstChild),d=M.createElement("div"),n.appendChild(d),d.innerHTML="<table><tr><td style='"+g+"0;display:none'></td><td>t</td></tr></table>",l=d.getElementsByTagName("td"),f=0===l[0].offsetHeight,l[0].style.display="",l[1].style.display="none",t.reliableHiddenOffsets=f&&0===l[0].offsetHeight,e.getComputedStyle&&(d.innerHTML="",s=M.createElement("div"),s.style.width="0",s.style.marginRight="0",d.style.width="2px",d.appendChild(s),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(s,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.width=d.style.padding="1px",d.style.border=0,d.style.overflow="hidden",d.style.display="inline",d.style.zoom=1,t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=3!==d.offsetWidth),d.style.cssText=h+m,d.innerHTML=p,r=d.firstChild,i=r.firstChild,o=r.nextSibling.firstChild.firstChild,a={doesNotAddBorder:5!==i.offsetTop,doesAddBorderForTableAndCells:5===o.offsetTop},i.style.position="fixed",i.style.top="20px",a.fixedPosition=20===i.offsetTop||15===i.offsetTop,i.style.position=i.style.top="",r.style.overflow="hidden",r.style.position="relative",a.subtractsBorderForOverflowNotVisible=-5===i.offsetTop,a.doesNotIncludeMarginInBodyOffset=y.offsetTop!==u,e.getComputedStyle&&(d.style.marginTop="1%",t.pixelMargin="1%"!==(e.getComputedStyle(d,null)||{marginTop:0}).marginTop),"undefined"!=typeof n.style.zoom&&(n.style.zoom=1),y.removeChild(n),s=d=n=null,O.extend(t,a))}),t}();var q=/^(?:\{.*\}|\[.*\])$/,W=/([A-Z])/g;O.extend({cache:{},uuid:0,expando:"jQuery"+(O.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?O.cache[e[O.expando]]:e[O.expando],!!e&&!o(e)},data:function(e,n,r,i){if(O.acceptData(e)){var o,a,s,l=O.expando,u="string"==typeof n,c=e.nodeType,f=c?O.cache:e,d=c?e[l]:e[l]&&l,p="events"===n;if(d&&f[d]&&(p||i||f[d].data)||!u||r!==t)return d||(c?e[l]=d=++O.uuid:d=l),f[d]||(f[d]={},c||(f[d].toJSON=O.noop)),("object"==typeof n||"function"==typeof n)&&(i?f[d]=O.extend(f[d],n):f[d].data=O.extend(f[d].data,n)),o=a=f[d],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[O.camelCase(n)]=r),p&&!a[n]?o.events:(u?(s=a[n],null==s&&(s=a[O.camelCase(n)])):s=a,s)}},removeData:function(e,t,n){if(O.acceptData(e)){var r,i,a,s=O.expando,l=e.nodeType,u=l?O.cache:e,c=l?e[s]:s;if(u[c]){if(t&&(r=n?u[c]:u[c].data)){O.isArray(t)||(t in r?t=[t]:(t=O.camelCase(t),t=t in r?[t]:t.split(" ")));for(i=0,a=t.length;a>i;i++)delete r[t[i]];if(!(n?o:O.isEmptyObject)(r))return}(n||(delete u[c].data,o(u[c])))&&(O.support.deleteExpando||!u.setInterval?delete u[c]:u[c]=null,l&&(O.support.deleteExpando?delete e[s]:e.removeAttribute?e.removeAttribute(s):e[s]=null))}}},_data:function(e,t,n){return O.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=O.noData[e.nodeName.toLowerCase()];if(t)return!(t===!0||e.getAttribute("classid")!==t)}return!0}}),O.fn.extend({data:function(e,n){var r,o,a,s,l,u=this[0],c=0,f=null;if(e===t){if(this.length&&(f=O.data(u),1===u.nodeType&&!O._data(u,"parsedAttrs"))){for(a=u.attributes,l=a.length;l>c;c++)s=a[c].name,0===s.indexOf("data-")&&(s=O.camelCase(s.substring(5)),i(u,s,f[s]));O._data(u,"parsedAttrs",!0)}return f}return"object"==typeof e?this.each(function(){O.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",O.access(this,function(n){return n===t?(f=this.triggerHandler("getData"+o,[r[0]]),f===t&&u&&(f=O.data(u,e),f=i(u,e,f)),f===t&&r[1]?this.data(r[0]):f):(r[1]=n,void this.each(function(){var t=O(this);t.triggerHandler("setData"+o,r),O.data(this,e,n),t.triggerHandler("changeData"+o,r)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){O.removeData(this,e)})}}),O.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",O._data(e,t,(O._data(e,t)||0)+1))},_unmark:function(e,t,n){if(e!==!0&&(n=t,t=e,e=!1),t){n=n||"fx";var r=n+"mark",i=e?0:(O._data(t,r)||1)-1;i?O._data(t,r,i):(O.removeData(t,r,!0),a(t,n,"mark"))}},queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=O._data(e,t),n&&(!r||O.isArray(n)?r=O._data(e,t,O.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=O.queue(e,t),r=n.shift(),i={};"inprogress"===r&&(r=n.shift()),r&&("fx"===t&&n.unshift("inprogress"),O._data(e,t+".run",i),r.call(e,function(){O.dequeue(e,t)},i)),n.length||(O.removeData(e,t+"queue "+t+".run",!0),a(e,t,"queue"))}}),O.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?O.queue(this[0],e):n===t?this:this.each(function(){var t=O.queue(this,e,n);"fx"===e&&"inprogress"!==t[0]&&O.dequeue(this,e)})},dequeue:function(e){return this.each(function(){O.dequeue(this,e)})},delay:function(e,t){return e=O.fx?O.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function r(){--l||o.resolveWith(a,[a])}"string"!=typeof e&&(n=e,e=t),e=e||"fx";for(var i,o=O.Deferred(),a=this,s=a.length,l=1,u=e+"defer",c=e+"queue",f=e+"mark";s--;)(i=O.data(a[s],u,t,!0)||(O.data(a[s],c,t,!0)||O.data(a[s],f,t,!0))&&O.data(a[s],u,O.Callbacks("once memory"),!0))&&(l++,i.add(r));return r(),o.promise(n)}});var I,$,R,X=/[\n\t\r]/g,z=/\s+/,V=/\r/g,U=/^(?:button|input)$/i,G=/^(?:button|input|object|select|textarea)$/i,Y=/^a(?:rea)?$/i,J=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,K=O.support.getSetAttribute;O.fn.extend({attr:function(e,t){return O.access(this,O.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){O.removeAttr(this,e)})},prop:function(e,t){return O.access(this,O.prop,e,t,arguments.length>1)},removeProp:function(e){return e=O.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a,s;if(O.isFunction(e))return this.each(function(t){O(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(z),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(o=" "+i.className+" ",a=0,s=t.length;s>a;a++)~o.indexOf(" "+t[a]+" ")||(o+=t[a]+" ");i.className=O.trim(o)}else i.className=e;return this},removeClass:function(e){var n,r,i,o,a,s,l;if(O.isFunction(e))return this.each(function(t){O(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(z),r=0,i=this.length;i>r;r++)if(o=this[r],1===o.nodeType&&o.className)if(e){for(a=(" "+o.className+" ").replace(X," "),s=0,l=n.length;l>s;s++)a=a.replace(" "+n[s]+" "," ");o.className=O.trim(a)}else o.className="";return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return this.each(O.isFunction(e)?function(n){O(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var i,o=0,a=O(this),s=t,l=e.split(z);i=l[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&O._data(this,"__className__",this.className),this.className=this.className||e===!1?"":O._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=O.isFunction(e),this.each(function(r){var o,a=O(this);1===this.nodeType&&(o=i?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":O.isArray(o)&&(o=O.map(o,function(e){return null==e?"":e+""})),n=O.valHooks[this.type]||O.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=O.valHooks[o.type]||O.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(V,""):null==r?"":r)}}}),O.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,a=[],s=e.options,l="select-one"===e.type;if(0>o)return null;for(n=l?o:0,r=l?o+1:s.length;r>n;n++)if(i=s[n],!(!i.selected||(O.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&O.nodeName(i.parentNode,"optgroup"))){if(t=O(i).val(),l)return t;a.push(t)}return l&&!a.length&&s.length?O(s[o]).val():a},set:function(e,t){var n=O.makeArray(t);return O(e).find("option").each(function(){this.selected=O.inArray(O(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,r,i){var o,a,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return i&&n in O.attrFn?O(e)[n](r):"undefined"==typeof e.getAttribute?O.prop(e,n,r):(s=1!==l||!O.isXMLDoc(e),s&&(n=n.toLowerCase(),a=O.attrHooks[n]||(J.test(n)?$:I)),r!==t?null===r?void O.removeAttr(e,n):a&&"set"in a&&s&&(o=a.set(e,r,n))!==t?o:(e.setAttribute(n,""+r),r):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,r,i,o,a,s=0;if(t&&1===e.nodeType)for(r=t.toLowerCase().split(z),o=r.length;o>s;s++)i=r[s],i&&(n=O.propFix[i]||i,a=J.test(i),a||O.attr(e,i,""),e.removeAttribute(K?i:n),a&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)O.error("type property can't be changed");else if(!O.support.radioValue&&"radio"===t&&O.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return I&&O.nodeName(e,"button")?I.get(e,t):t in e?e.value:null},set:function(e,t,n){return I&&O.nodeName(e,"button")?I.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!O.isXMLDoc(e),a&&(n=O.propFix[n]||n,o=O.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):G.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),O.attrHooks.tabindex=O.propHooks.tabIndex,$={get:function(e,n){var r,i=O.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?O.removeAttr(e,n):(r=O.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},K||(R={name:!0,id:!0,coords:!0},I=O.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(R[n]?""!==r.nodeValue:r.specified)?r.nodeValue:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=M.createAttribute(n),e.setAttributeNode(r)),r.nodeValue=t+""}},O.attrHooks.tabindex.set=I.set,O.each(["width","height"],function(e,t){O.attrHooks[t]=O.extend(O.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),O.attrHooks.contenteditable={get:I.get,set:function(e,t,n){""===t&&(t="false"),I.set(e,t,n)}}),O.support.hrefNormalized||O.each(["href","src","width","height"],function(e,n){O.attrHooks[n]=O.extend(O.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),O.support.style||(O.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),O.support.optSelected||(O.propHooks.selected=O.extend(O.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),O.support.enctype||(O.propFix.enctype="encoding"),O.support.checkOn||O.each(["radio","checkbox"],function(){O.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),O.each(["radio","checkbox"],function(){O.valHooks[this]=O.extend(O.valHooks[this],{set:function(e,t){return O.isArray(t)?e.checked=O.inArray(O(e).val(),t)>=0:void 0}})});var Q=/^(?:textarea|input|select)$/i,Z=/^([^\.]*)?(?:\.(.+))?$/,et=/(?:^|\s)hover(\.\S+)?\b/,tt=/^key/,nt=/^(?:mouse|contextmenu)|click/,rt=/^(?:focusinfocus|focusoutblur)$/,it=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ot=function(e){var t=it.exec(e);
    return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},at=function(e,t){var n=e.attributes||{};return!(t[1]&&e.nodeName.toLowerCase()!==t[1]||t[2]&&(n.id||{}).value!==t[2]||t[3]&&!t[3].test((n["class"]||{}).value))},st=function(e){return O.event.special.hover?e:e.replace(et,"mouseenter$1 mouseleave$1")};O.event={add:function(e,n,r,i,o){var a,s,l,u,c,f,d,p,h,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(a=O._data(e))){for(r.handler&&(h=r,r=h.handler,o=h.selector),r.guid||(r.guid=O.guid++),l=a.events,l||(a.events=l={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof O||e&&O.event.triggered===e.type?t:O.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=O.trim(st(n)).split(" "),u=0;u<n.length;u++)c=Z.exec(n[u])||[],f=c[1],d=(c[2]||"").split(".").sort(),g=O.event.special[f]||{},f=(o?g.delegateType:g.bindType)||f,g=O.event.special[f]||{},p=O.extend({type:f,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,quick:o&&ot(o),namespace:d.join(".")},h),m=l[f],m||(m=l[f]=[],m.delegateCount=0,g.setup&&g.setup.call(e,i,d,s)!==!1||(e.addEventListener?e.addEventListener(f,s,!1):e.attachEvent&&e.attachEvent("on"+f,s))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?m.splice(m.delegateCount++,0,p):m.push(p),O.event.global[f]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g,y=O.hasData(e)&&O._data(e);if(y&&(d=y.events)){for(t=O.trim(st(t||"")).split(" "),o=0;o<t.length;o++)if(a=Z.exec(t[o])||[],s=l=a[1],u=a[2],s){for(p=O.event.special[s]||{},s=(r?p.delegateType:p.bindType)||s,m=d[s]||[],c=m.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,f=0;f<m.length;f++)g=m[f],!i&&l!==g.origType||n&&n.guid!==g.guid||u&&!u.test(g.namespace)||r&&r!==g.selector&&("**"!==r||!g.selector)||(m.splice(f--,1),g.selector&&m.delegateCount--,p.remove&&p.remove.call(e,g));0===m.length&&c!==m.length&&(p.teardown&&p.teardown.call(e,u)!==!1||O.removeEvent(e,s,y.handle),delete d[s])}else for(s in d)O.event.remove(e,s+t[o],n,r,!0);O.isEmptyObject(d)&&(h=y.handle,h&&(h.elem=null),O.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||3!==i.nodeType&&8!==i.nodeType){var a,s,l,u,c,f,d,p,h,m,g=n.type||n,y=[];if(!rt.test(g+O.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(y=g.split("."),g=y.shift(),y.sort()),i&&!O.event.customEvent[g]||O.event.global[g]))if(n="object"==typeof n?n[O.expando]?n:new O.Event(g,n):new O.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=s,n.namespace=y.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,f=g.indexOf(":")<0?"on"+g:"",i){if(n.result=t,n.target||(n.target=i),r=null!=r?O.makeArray(r):[],r.unshift(n),d=O.event.special[g]||{},!d.trigger||d.trigger.apply(i,r)!==!1){if(h=[[i,d.bindType||g]],!o&&!d.noBubble&&!O.isWindow(i)){for(m=d.delegateType||g,u=rt.test(m+g)?i:i.parentNode,c=null;u;u=u.parentNode)h.push([u,m]),c=u;c&&c===i.ownerDocument&&h.push([c.defaultView||c.parentWindow||e,m])}for(l=0;l<h.length&&!n.isPropagationStopped();l++)u=h[l][0],n.type=h[l][1],p=(O._data(u,"events")||{})[n.type]&&O._data(u,"handle"),p&&p.apply(u,r),p=f&&u[f],p&&O.acceptData(u)&&p.apply(u,r)===!1&&n.preventDefault();return n.type=g,o||n.isDefaultPrevented()||d._default&&d._default.apply(i.ownerDocument,r)!==!1||"click"===g&&O.nodeName(i,"a")||!O.acceptData(i)||f&&i[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!O.isWindow(i)&&(c=i[f],c&&(i[f]=null),O.event.triggered=g,i[g](),O.event.triggered=t,c&&(i[f]=c)),n.result}}else{a=O.cache;for(l in a)a[l].events&&a[l].events[g]&&O.event.trigger(n,r,a[l].handle.elem,!0)}}},dispatch:function(n){n=O.event.fix(n||e.event);var r,i,o,a,s,l,u,c,f,d,p=(O._data(this,"events")||{})[n.type]||[],h=p.delegateCount,m=[].slice.call(arguments,0),g=!n.exclusive&&!n.namespace,y=O.event.special[n.type]||{},v=[];if(m[0]=n,n.delegateTarget=this,!y.preDispatch||y.preDispatch.call(this,n)!==!1){if(h&&(!n.button||"click"!==n.type))for(a=O(this),a.context=this.ownerDocument||this,o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0){for(l={},c=[],a[0]=o,r=0;h>r;r++)f=p[r],d=f.selector,l[d]===t&&(l[d]=f.quick?at(o,f.quick):a.is(d)),l[d]&&c.push(f);c.length&&v.push({elem:o,matches:c})}for(p.length>h&&v.push({elem:this,matches:p.slice(h)}),r=0;r<v.length&&!n.isPropagationStopped();r++)for(u=v[r],n.currentTarget=u.elem,i=0;i<u.matches.length&&!n.isImmediatePropagationStopped();i++)f=u.matches[i],(g||!n.namespace&&!f.namespace||n.namespace_re&&n.namespace_re.test(f.namespace))&&(n.data=f.data,n.handleObj=f,s=((O.event.special[f.origType]||{}).handle||f.handler).apply(u.elem,m),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return y.postDispatch&&y.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||M,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[O.expando])return e;var n,r,i=e,o=O.event.fixHooks[e.type]||{},a=o.props?this.props.concat(o.props):this.props;for(e=O.Event(i),n=a.length;n;)r=a[--n],e[r]=i[r];return e.target||(e.target=i.srcElement||M),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),o.filter?o.filter(e,i):e},special:{ready:{setup:O.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){O.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=O.extend(new O.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?O.event.trigger(i,null,t):O.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},O.event.handle=O.event.dispatch,O.removeEvent=M.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},O.Event=function(e,t){return this instanceof O.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:s):this.type=e,t&&O.extend(this,t),this.timeStamp=e&&e.timeStamp||O.now(),void(this[O.expando]=!0)):new O.Event(e,t)},O.Event.prototype={preventDefault:function(){this.isDefaultPrevented=l;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=l;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s},O.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){O.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,r=this,i=e.relatedTarget,o=e.handleObj;o.selector}return(!i||i!==r&&!O.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),O.support.submitBubbles||(O.event.special.submit={setup:function(){return O.nodeName(this,"form")?!1:void O.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=O.nodeName(n,"input")||O.nodeName(n,"button")?n.form:t;r&&!r._submit_attached&&(O.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),r._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&O.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return O.nodeName(this,"form")?!1:void O.event.remove(this,"._submit")}}),O.support.changeBubbles||(O.event.special.change={setup:function(){return Q.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(O.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),O.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,O.event.simulate("change",this,e,!0))})),!1):void O.event.add(this,"beforeactivate._change",function(e){var t=e.target;Q.test(t.nodeName)&&!t._change_attached&&(O.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||O.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return O.event.remove(this,"._change"),Q.test(this.nodeName)}}),O.support.focusinBubbles||O.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){O.event.simulate(t,e.target,O.event.fix(e),!0)};O.event.special[t]={setup:function(){0===n++&&M.addEventListener(e,r,!0)},teardown:function(){0===--n&&M.removeEventListener(e,r,!0)}}}),O.fn.extend({on:function(e,n,r,i,o){var a,l;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(l in e)this.on(l,n,r,e[l],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=s;else if(!i)return this;return 1===o&&(a=i,i=function(e){return O().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=O.guid++)),this.each(function(){O.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){if(e&&e.preventDefault&&e.handleObj){var i=e.handleObj;return O(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if("object"==typeof e){for(var o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=s),this.each(function(){O.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return O(this.context).on(e,this.selector,t,n),this},die:function(e,t){return O(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){O.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?O.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||O.guid++,r=0,i=function(n){var i=(O._data(this,"lastToggle"+e.guid)||0)%r;return O._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),O.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){O.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},O.attrFn&&(O.attrFn[t]=!0),tt.test(t)&&(O.event.fixHooks[t]=O.event.keyHooks),nt.test(t)&&(O.event.fixHooks[t]=O.event.mouseHooks)}),function(){function e(e,t,n,r,o,a){for(var s=0,l=r.length;l>s;s++){var u=r[s];if(u){var c=!1;for(u=u[e];u;){if(u[i]===n){c=r[u.sizset];break}if(1!==u.nodeType||a||(u[i]=n,u.sizset=s),u.nodeName.toLowerCase()===t){c=u;break}u=u[e]}r[s]=c}}}function n(e,t,n,r,o,a){for(var s=0,l=r.length;l>s;s++){var u=r[s];if(u){var c=!1;for(u=u[e];u;){if(u[i]===n){c=r[u.sizset];break}if(1===u.nodeType)if(a||(u[i]=n,u.sizset=s),"string"!=typeof t){if(u===t){c=!0;break}}else if(d.filter(t,[u]).length>0){c=u;break}u=u[e]}r[s]=c}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),o=0,a=Object.prototype.toString,s=!1,l=!0,u=/\\/g,c=/\r\n/g,f=/\W/;[0,0].sort(function(){return l=!1,0});var d=function(e,t,n,i){n=n||[],t=t||M;var o=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var s,l,u,c,f,p,g,y,b=!0,x=d.isXML(t),T=[],N=e;do if(r.exec(""),s=r.exec(N),s&&(N=s[3],T.push(s[1]),s[2])){c=s[3];break}while(s);if(T.length>1&&m.exec(e))if(2===T.length&&h.relative[T[0]])l=w(T[0]+T[1],t,i);else for(l=h.relative[T[0]]?[t]:d(T.shift(),t);T.length;)e=T.shift(),h.relative[e]&&(e+=T.shift()),l=w(e,l,i);else if(!i&&T.length>1&&9===t.nodeType&&!x&&h.match.ID.test(T[0])&&!h.match.ID.test(T[T.length-1])&&(f=d.find(T.shift(),t,x),t=f.expr?d.filter(f.expr,f.set)[0]:f.set[0]),t)for(f=i?{expr:T.pop(),set:v(i)}:d.find(T.pop(),1!==T.length||"~"!==T[0]&&"+"!==T[0]||!t.parentNode?t:t.parentNode,x),l=f.expr?d.filter(f.expr,f.set):f.set,T.length>0?u=v(l):b=!1;T.length;)p=T.pop(),g=p,h.relative[p]?g=T.pop():p="",null==g&&(g=t),h.relative[p](u,g,x);else u=T=[];if(u||(u=l),u||d.error(p||e),"[object Array]"===a.call(u))if(b)if(t&&1===t.nodeType)for(y=0;null!=u[y];y++)u[y]&&(u[y]===!0||1===u[y].nodeType&&d.contains(t,u[y]))&&n.push(l[y]);else for(y=0;null!=u[y];y++)u[y]&&1===u[y].nodeType&&n.push(l[y]);else n.push.apply(n,u);else v(u,n);return c&&(d(c,o,n,i),d.uniqueSort(n)),n};d.uniqueSort=function(e){if(x&&(s=l,e.sort(x),s))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},d.matches=function(e,t){return d(e,null,null,t)},d.matchesSelector=function(e,t){return d(t,null,null,[e]).length>0},d.find=function(e,t,n){var r,i,o,a,s,l;if(!e)return[];for(i=0,o=h.order.length;o>i;i++)if(s=h.order[i],(a=h.leftMatch[s].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(u,""),r=h.find[s](a,t,n),null!=r))){e=e.replace(h.match[s],"");break}return r||(r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:r,expr:e}},d.filter=function(e,n,r,i){for(var o,a,s,l,u,c,f,p,m,g=e,y=[],v=n,b=n&&n[0]&&d.isXML(n[0]);e&&n.length;){for(s in h.filter)if(null!=(o=h.leftMatch[s].exec(e))&&o[2]){if(c=h.filter[s],f=o[1],a=!1,o.splice(1,1),"\\"===f.substr(f.length-1))continue;if(v===y&&(y=[]),h.preFilter[s])if(o=h.preFilter[s](o,v,r,y,i,b)){if(o===!0)continue}else a=l=!0;if(o)for(p=0;null!=(u=v[p]);p++)u&&(l=c(u,o,p,v),m=i^l,r&&null!=l?m?a=!0:v[p]=!1:m&&(y.push(u),a=!0));if(l!==t){if(r||(v=y),e=e.replace(h.match[s],""),!a)return[];break}}if(e===g){if(null!=a)break;d.error(e)}g=e}return v},d.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var p=d.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(c,"");for(e=e.firstChild;e;e=e.nextSibling)i+=p(e)}else if(3===r||4===r)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(i+=p(n));return i},h=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,r=n&&!f.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var o,a=0,s=e.length;s>a;a++)if(o=e[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[a]=i||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}i&&d.filter(t,e,!0)},">":function(e,t){var n,r="string"==typeof t,i=0,o=e.length;if(r&&!f.test(t)){for(t=t.toLowerCase();o>i;i++)if(n=e[i]){var a=n.parentNode;e[i]=a.nodeName.toLowerCase()===t?a:!1}}else{for(;o>i;i++)n=e[i],n&&(e[i]=r?n.parentNode:n.parentNode===t);r&&d.filter(t,e,!0)}},"":function(t,r,i){var a,s=o++,l=n;"string"!=typeof r||f.test(r)||(r=r.toLowerCase(),a=r,l=e),l("parentNode",r,s,t,a,i)},"~":function(t,r,i){var a,s=o++,l=n;"string"!=typeof r||f.test(r)||(r=r.toLowerCase(),a=r,l=e),l("previousSibling",r,s,t,a,i)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],r=t.getElementsByName(e[1]),i=0,o=r.length;o>i;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return 0===n.length?null:n}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,r,i,o){if(e=" "+e[1].replace(u,"")+" ",o)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(i^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(u,"")},TAG:function(e){return e[1].replace(u,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||d.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&d.error(e[0]);return e[0]=o++,e},ATTR:function(e,t,n,r,i,o){var a=e[1]=e[1].replace(u,"");return!o&&h.attrMap[a]&&(e[1]=h.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(u,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,i,o){if("not"===e[1]){if(!((r.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var a=d.filter(e[3],t,n,!0^o);return n||i.push.apply(i,a),!1}e[3]=d(e[3],null,null,t)}else if(h.match.POS.test(e[0])||h.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!d(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],o=h.filters[i];if(o)return o(e,n,t,r);if("contains"===i)return(e.textContent||e.innerText||p([e])||"").indexOf(t[3])>=0;if("not"===i){for(var a=t[3],s=0,l=a.length;l>s;s++)if(a[s]===e)return!1;return!0}d.error(i)},CHILD:function(e,t){var n,r,o,a,s,l,u=t[1],c=e;switch(u){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===u)return!0;c=e;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case"nth":if(n=t[2],r=t[3],1===n&&0===r)return!0;if(o=t[0],a=e.parentNode,a&&(a[i]!==o||!e.nodeIndex)){for(s=0,c=a.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=++s);a[i]=o}return l=e.nodeIndex-r,0===n?0===l:l%n===0&&l/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=d.attr?d.attr(e,n):h.attrHandle[n]?h.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),i=r+"",o=t[2],a=t[4];return null==r?"!="===o:!o&&d.attr?null!=r:"="===o?i===a:"*="===o?i.indexOf(a)>=0:"~="===o?(" "+i+" ").indexOf(a)>=0:a?"!="===o?i!==a:"^="===o?0===i.indexOf(a):"$="===o?i.substr(i.length-a.length)===a:"|="===o?i===a||i.substr(0,a.length+1)===a+"-":!1:i&&r!==!1},POS:function(e,t,n,r){var i=t[2],o=h.setFilters[i];return o?o(e,n,t,r):void 0}}},m=h.match.POS,g=function(e,t){return"\\"+(t-0+1)};for(var y in h.match)h.match[y]=new RegExp(h.match[y].source+/(?![^\[]*\])(?![^\(]*\))/.source),h.leftMatch[y]=new RegExp(/(^(?:.|\r|\n)*?)/.source+h.match[y].source.replace(/\\(\d+)/g,g));h.match.globalPOS=m;var v=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(M.documentElement.childNodes,0)[0].nodeType}catch(b){v=function(e,t){var n=0,r=t||[];if("[object Array]"===a.call(e))Array.prototype.push.apply(r,e);else if("number"==typeof e.length)for(var i=e.length;i>n;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}var x,T;M.documentElement.compareDocumentPosition?x=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(x=function(e,t){if(e===t)return s=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],a=e.parentNode,l=t.parentNode,u=a;if(a===l)return T(e,t);if(!a)return-1;if(!l)return 1;for(;u;)i.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=i.length,r=o.length;for(var c=0;n>c&&r>c;c++)if(i[c]!==o[c])return T(i[c],o[c]);return c===n?T(e,o[c],-1):T(i[c],t,1)},T=function(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=M.createElement("div"),n="script"+(new Date).getTime(),r=M.documentElement;e.innerHTML="<a name='"+n+"'/>",r.insertBefore(e,r.firstChild),M.getElementById(n)&&(h.find.ID=function(e,n,r){if("undefined"!=typeof n.getElementById&&!r){var i=n.getElementById(e[1]);return i?i.id===e[1]||"undefined"!=typeof i.getAttributeNode&&i.getAttributeNode("id").nodeValue===e[1]?[i]:t:[]}},h.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),r.removeChild(e),r=e=null}(),function(){var e=M.createElement("div");e.appendChild(M.createComment("")),e.getElementsByTagName("*").length>0&&(h.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(h.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),M.querySelectorAll&&!function(){var e=d,t=M.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){d=function(t,r,i,o){if(r=r||M,!o&&!d.isXML(r)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(1===r.nodeType||9===r.nodeType)){if(a[1])return v(r.getElementsByTagName(t),i);if(a[2]&&h.find.CLASS&&r.getElementsByClassName)return v(r.getElementsByClassName(a[2]),i)}if(9===r.nodeType){if("body"===t&&r.body)return v([r.body],i);if(a&&a[3]){var s=r.getElementById(a[3]);if(!s||!s.parentNode)return v([],i);if(s.id===a[3])return v([s],i)}try{return v(r.querySelectorAll(t),i)}catch(l){}}else if(1===r.nodeType&&"object"!==r.nodeName.toLowerCase()){var u=r,c=r.getAttribute("id"),f=c||n,p=r.parentNode,m=/^\s*[+~]/.test(t);c?f=f.replace(/'/g,"\\$&"):r.setAttribute("id",f),m&&p&&(r=r.parentNode);try{if(!m||p)return v(r.querySelectorAll("[id='"+f+"'] "+t),i)}catch(g){}finally{c||u.removeAttribute("id")}}}return e(t,r,i,o)};for(var r in e)d[r]=e[r];t=null}}(),function(){var e=M.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(M.createElement("div"),"div"),r=!1;try{t.call(M.documentElement,"[test!='']:sizzle")}catch(i){r=!0}d.matchesSelector=function(e,i){if(i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!d.isXML(e))try{if(r||!h.match.PSEUDO.test(i)&&!/!=/.test(i)){var o=t.call(e,i);if(o||!n||e.document&&11!==e.document.nodeType)return o}}catch(a){}return d(i,null,null,[e]).length>0}}}(),function(){var e=M.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(h.order.splice(1,0,"CLASS"),h.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null))}(),d.contains=M.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:M.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},d.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var w=function(e,t,n){for(var r,i=[],o="",a=t.nodeType?[t]:t;r=h.match.PSEUDO.exec(e);)o+=r[0],e=e.replace(h.match.PSEUDO,"");e=h.relative[e]?e+"*":e;for(var s=0,l=a.length;l>s;s++)d(e,a[s],i,n);return d.filter(o,i)};d.attr=O.attr,d.selectors.attrMap={},O.find=d,O.expr=d.selectors,O.expr[":"]=O.expr.filters,O.unique=d.uniqueSort,O.text=d.getText,O.isXMLDoc=d.isXML,O.contains=d.contains}();var lt=/Until$/,ut=/^(?:parents|prevUntil|prevAll)/,ct=/,/,ft=/^.[^:#\[\.,]*$/,dt=Array.prototype.slice,pt=O.expr.match.globalPOS,ht={children:!0,contents:!0,next:!0,prev:!0};O.fn.extend({find:function(e){var t,n,r=this;if("string"!=typeof e)return O(e).filter(function(){for(t=0,n=r.length;n>t;t++)if(O.contains(r[t],this))return!0});var i,o,a,s=this.pushStack("","find",e);for(t=0,n=this.length;n>t;t++)if(i=s.length,O.find(e,this[t],s),t>0)for(o=i;o<s.length;o++)for(a=0;i>a;a++)if(s[a]===s[o]){s.splice(o--,1);break}return s},has:function(e){var t=O(e);return this.filter(function(){for(var e=0,n=t.length;n>e;e++)if(O.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?pt.test(e)?O(e,this.context).index(this[0])>=0:O.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r,i=[],o=this[0];if(O.isArray(e)){for(var a=1;o&&o.ownerDocument&&o!==t;){for(n=0;n<e.length;n++)O(o).is(e[n])&&i.push({selector:e[n],elem:o,level:a});o=o.parentNode,a++}return i}var s=pt.test(e)||"string"!=typeof e?O(e,t||this.context):0;for(n=0,r=this.length;r>n;n++)for(o=this[n];o;){if(s?s.index(o)>-1:O.find.matchesSelector(o,e)){i.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===t||11===o.nodeType)break}return i=i.length>1?O.unique(i):i,this.pushStack(i,"closest",e)},index:function(e){return e?"string"==typeof e?O.inArray(this[0],O(e)):O.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?O(e,t):O.makeArray(e&&e.nodeType?[e]:e),r=O.merge(this.get(),n);return this.pushStack(u(n[0])||u(r[0])?r:O.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),O.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return O.dir(e,"parentNode")},parentsUntil:function(e,t,n){return O.dir(e,"parentNode",n)},next:function(e){return O.nth(e,2,"nextSibling")},prev:function(e){return O.nth(e,2,"previousSibling")},nextAll:function(e){return O.dir(e,"nextSibling")},prevAll:function(e){return O.dir(e,"previousSibling")},nextUntil:function(e,t,n){return O.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return O.dir(e,"previousSibling",n)},siblings:function(e){return O.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return O.sibling(e.firstChild)},contents:function(e){return O.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:O.makeArray(e.childNodes)}},function(e,t){O.fn[e]=function(n,r){var i=O.map(this,t,n);return lt.test(e)||(r=n),r&&"string"==typeof r&&(i=O.filter(r,i)),i=this.length>1&&!ht[e]?O.unique(i):i,(this.length>1||ct.test(r))&&ut.test(e)&&(i=i.reverse()),this.pushStack(i,e,dt.call(arguments).join(","))}}),O.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?O.find.matchesSelector(t[0],e)?[t[0]]:[]:O.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!O(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},nth:function(e,t,n){t=t||1;for(var r=0;e&&(1!==e.nodeType||++r!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var mt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:\d+|null)"/g,yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,Tt=/<|&#?\w+;/,wt=/<(?:script|style)/i,Nt=/<(?:script|object|embed|option|style)/i,Ct=new RegExp("<(?:"+mt+")[\\s/>]","i"),Et=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/\/(java|ecma)script/i,St=/^\s*<!(?:\[CDATA\[|\-\-)/,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Lt=f(M);At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,O.support.htmlSerialize||(At._default=[1,"div<div>","</div>"]),O.fn.extend({text:function(e){return O.access(this,function(e){return e===t?O.text(this):this.empty().append((this[0]&&this[0].ownerDocument||M).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(O.isFunction(e))return this.each(function(t){O(this).wrapAll(e.call(this,t))});if(this[0]){var t=O(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(O.isFunction(e)?function(t){O(this).wrapInner(e.call(this,t))}:function(){var t=O(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=O.isFunction(e);return this.each(function(n){O(this).wrapAll(t?e.call(this,n):e)
})},unwrap:function(){return this.parent().each(function(){O.nodeName(this,"body")||O(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=O.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,O.clean(arguments)),e}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||O.filter(e,[n]).length)&&(t||1!==n.nodeType||(O.cleanData(n.getElementsByTagName("*")),O.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&O.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return O.clone(this,e,t)})},html:function(e){return O.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):null;if(!("string"!=typeof e||wt.test(e)||!O.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(O.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?O.isFunction(e)?this.each(function(t){var n=O(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=O(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;O(this).remove(),t?O(t).before(e):O(n).append(e)})):this.length?this.pushStack(O(O.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){var i,o,a,s,l=e[0],u=[];if(!O.support.checkClone&&3===arguments.length&&"string"==typeof l&&Et.test(l))return this.each(function(){O(this).domManip(e,n,r,!0)});if(O.isFunction(l))return this.each(function(i){var o=O(this);e[0]=l.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){if(s=l&&l.parentNode,i=O.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:O.buildFragment(e,this,u),a=i.fragment,o=1===a.childNodes.length?a=a.firstChild:a.firstChild){n=n&&O.nodeName(o,"tr");for(var c=0,f=this.length,p=f-1;f>c;c++)r.call(n?d(this[c],o):this[c],i.cacheable||f>1&&p>c?O.clone(a,!0,!0):a)}u.length&&O.each(u,function(e,t){t.src?O.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):O.globalEval((t.text||t.textContent||t.innerHTML||"").replace(St,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),O.buildFragment=function(e,t,n){var r,i,o,a,s=e[0];return t&&t[0]&&(a=t[0].ownerDocument||t[0]),a.createDocumentFragment||(a=M),!(1===e.length&&"string"==typeof s&&s.length<512&&a===M&&"<"===s.charAt(0))||Nt.test(s)||!O.support.checkClone&&Et.test(s)||!O.support.html5Clone&&Ct.test(s)||(i=!0,o=O.fragments[s],o&&1!==o&&(r=o)),r||(r=a.createDocumentFragment(),O.clean(e,a,r,n)),i&&(O.fragments[s]=o?r:1),{fragment:r,cacheable:i}},O.fragments={},O.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){O.fn[e]=function(n){var r=[],i=O(n),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===i.length)return i[t](this[0]),this;for(var a=0,s=i.length;s>a;a++){var l=(a>0?this.clone(!0):this).get();O(i[a])[t](l),r=r.concat(l)}return this.pushStack(r,e,i.selector)}}),O.extend({clone:function(e,t,n){var r,i,o,a=O.support.html5Clone||O.isXMLDoc(e)||!Ct.test("<"+e.nodeName+">")?e.cloneNode(!0):v(e);if(!(O.support.noCloneEvent&&O.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||O.isXMLDoc(e)))for(h(e,a),r=m(e),i=m(a),o=0;r[o];++o)i[o]&&h(r[o],i[o]);if(t&&(p(e,a),n))for(r=m(e),i=m(a),o=0;r[o];++o)p(r[o],i[o]);return r=i=null,a},clean:function(e,t,n,r){var i,o,a,s=[];t=t||M,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||M);for(var l,u=0;null!=(l=e[u]);u++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(Tt.test(l)){l=l.replace(vt,"<$1></$2>");var c,d=(bt.exec(l)||["",""])[1].toLowerCase(),p=At[d]||At._default,h=p[0],m=t.createElement("div"),g=Lt.childNodes;for(t===M?Lt.appendChild(m):f(t).appendChild(m),m.innerHTML=p[1]+l+p[2];h--;)m=m.lastChild;if(!O.support.tbody){var v=xt.test(l),b="table"!==d||v?"<table>"!==p[1]||v?[]:m.childNodes:m.firstChild&&m.firstChild.childNodes;for(a=b.length-1;a>=0;--a)O.nodeName(b[a],"tbody")&&!b[a].childNodes.length&&b[a].parentNode.removeChild(b[a])}!O.support.leadingWhitespace&&yt.test(l)&&m.insertBefore(t.createTextNode(yt.exec(l)[0]),m.firstChild),l=m.childNodes,m&&(m.parentNode.removeChild(m),g.length>0&&(c=g[g.length-1],c&&c.parentNode&&c.parentNode.removeChild(c)))}else l=t.createTextNode(l);var x;if(!O.support.appendChecked)if(l[0]&&"number"==typeof(x=l.length))for(a=0;x>a;a++)y(l[a]);else y(l);l.nodeType?s.push(l):s=O.merge(s,l)}if(n)for(i=function(e){return!e.type||kt.test(e.type)},u=0;s[u];u++)if(o=s[u],r&&O.nodeName(o,"script")&&(!o.type||kt.test(o.type)))r.push(o.parentNode?o.parentNode.removeChild(o):o);else{if(1===o.nodeType){var T=O.grep(o.getElementsByTagName("script"),i);s.splice.apply(s,[u+1,0].concat(T))}n.appendChild(o)}return s},cleanData:function(e){for(var t,n,r,i=O.cache,o=O.event.special,a=O.support.deleteExpando,s=0;null!=(r=e[s]);s++)if((!r.nodeName||!O.noData[r.nodeName.toLowerCase()])&&(n=r[O.expando])){if(t=i[n],t&&t.events){for(var l in t.events)o[l]?O.event.remove(r,l):O.removeEvent(r,l,t.handle);t.handle&&(t.handle.elem=null)}a?delete r[O.expando]:r.removeAttribute&&r.removeAttribute(O.expando),delete i[n]}}});var jt,Dt,Ft,Mt=/alpha\([^)]*\)/i,_t=/opacity=([^)]*)/,Ht=/([A-Z]|^ms)/g,Ot=/^[\-+]?(?:\d*\.)?\d+$/i,Bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Pt=/^([\-+])=([\-+.\de]+)/,qt=/^margin/,Wt={position:"absolute",visibility:"hidden",display:"block"},It=["Top","Right","Bottom","Left"];O.fn.css=function(e,n){return O.access(this,function(e,n,r){return r!==t?O.style(e,n,r):O.css(e,n)},e,n,arguments.length>1)},O.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=jt(e,"opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":O.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s=O.camelCase(n),l=e.style,u=O.cssHooks[s];if(n=O.cssProps[s]||s,r===t)return u&&"get"in u&&(o=u.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=Pt.exec(r))&&(r=+(o[1]+1)*+o[2]+parseFloat(O.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||O.cssNumber[s]||(r+="px"),u&&"set"in u&&(r=u.set(e,r))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r){var i,o;return n=O.camelCase(n),o=O.cssHooks[n],n=O.cssProps[n]||n,"cssFloat"===n&&(n="float"),o&&"get"in o&&(i=o.get(e,!0,r))!==t?i:jt?jt(e,n):void 0},swap:function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=o[i];return r}}),O.curCSS=O.css,M.defaultView&&M.defaultView.getComputedStyle&&(Dt=function(e,t){var n,r,i,o,a=e.style;return t=t.replace(Ht,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(n=i.getPropertyValue(t),""!==n||O.contains(e.ownerDocument.documentElement,e)||(n=O.style(e,t))),!O.support.pixelMargin&&i&&qt.test(t)&&Bt.test(n)&&(o=a.width,a.width=n,n=i.width,a.width=o),n}),M.documentElement.currentStyle&&(Ft=function(e,t){var n,r,i,o=e.currentStyle&&e.currentStyle[t],a=e.style;return null==o&&a&&(i=a[t])&&(o=i),Bt.test(o)&&(n=a.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o,o=a.pixelLeft+"px",a.left=n,r&&(e.runtimeStyle.left=r)),""===o?"auto":o}),jt=Dt||Ft,O.each(["height","width"],function(e,t){O.cssHooks[t]={get:function(e,n,r){return n?0!==e.offsetWidth?b(e,t,r):O.swap(e,Wt,function(){return b(e,t,r)}):void 0},set:function(e,t){return Ot.test(t)?t+"px":t}}}),O.support.opacity||(O.cssHooks.opacity={get:function(e,t){return _t.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=O.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===O.trim(o.replace(Mt,""))&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=Mt.test(o)?o.replace(Mt,i):o+" "+i)}}),O(function(){O.support.reliableMarginRight||(O.cssHooks.marginRight={get:function(e,t){return O.swap(e,{display:"inline-block"},function(){return t?jt(e,"margin-right"):e.style.marginRight})}})}),O.expr&&O.expr.filters&&(O.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!O.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||O.css(e,"display"))},O.expr.filters.visible=function(e){return!O.expr.filters.hidden(e)}),O.each({margin:"",padding:"",border:"Width"},function(e,t){O.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],o={};for(r=0;4>r;r++)o[e+It[r]+t]=i[r]||i[r-2]||i[0];return o}}});var $t,Rt,Xt=/%20/g,zt=/\[\]$/,Vt=/\r?\n/g,Ut=/#.*$/,Gt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Yt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Jt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Kt=/^(?:GET|HEAD)$/,Qt=/^\/\//,Zt=/\?/,en=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,tn=/^(?:select|textarea)/i,nn=/\s+/,rn=/([?&])_=[^&]*/,on=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,an=O.fn.load,sn={},ln={},un=["*/"]+["*"];try{$t=H.href}catch(cn){$t=M.createElement("a"),$t.href="",$t=$t.href}Rt=on.exec($t.toLowerCase())||[],O.fn.extend({load:function(e,n,r){if("string"!=typeof e&&an)return an.apply(this,arguments);if(!this.length)return this;var i=e.indexOf(" ");if(i>=0){var o=e.slice(i,e.length);e=e.slice(0,i)}var a="GET";n&&(O.isFunction(n)?(r=n,n=t):"object"==typeof n&&(n=O.param(n,O.ajaxSettings.traditional),a="POST"));var s=this;return O.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),s.html(o?O("<div>").append(n.replace(en,"")).find(o):n)),r&&s.each(r,[n,t,e])}}),this},serialize:function(){return O.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?O.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||tn.test(this.nodeName)||Yt.test(this.type))}).map(function(e,t){var n=O(this).val();return null==n?null:O.isArray(n)?O.map(n,function(e){return{name:t.name,value:e.replace(Vt,"\r\n")}}):{name:t.name,value:n.replace(Vt,"\r\n")}}).get()}}),O.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){O.fn[t]=function(e){return this.on(t,e)}}),O.each(["get","post"],function(e,n){O[n]=function(e,r,i,o){return O.isFunction(r)&&(o=o||i,i=r,r=t),O.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),O.extend({getScript:function(e,n){return O.get(e,t,n,"script")},getJSON:function(e,t,n){return O.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?w(e,O.ajaxSettings):(t=e,e=O.ajaxSettings),w(e,t),e},ajaxSettings:{url:$t,isLocal:Jt.test(Rt[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":un},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":O.parseJSON,"text xml":O.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:x(sn),ajaxTransport:x(ln),ajax:function(e,n){function r(e,n,r,a){if(2!==x){x=2,l&&clearTimeout(l),s=t,o=a||"",w.readyState=e>0?4:0;var u,f,v,b,T,N=n,k=r?C(d,w,r):t;if(e>=200&&300>e||304===e)if(d.ifModified&&((b=w.getResponseHeader("Last-Modified"))&&(O.lastModified[i]=b),(T=w.getResponseHeader("Etag"))&&(O.etag[i]=T)),304===e)N="notmodified",u=!0;else try{f=E(d,k),N="success",u=!0}catch(S){N="parsererror",v=S}else v=N,(!N||e)&&(N="error",0>e&&(e=0));w.status=e,w.statusText=""+(n||N),u?m.resolveWith(p,[f,N,w]):m.rejectWith(p,[w,N,v]),w.statusCode(y),y=t,c&&h.trigger("ajax"+(u?"Success":"Error"),[w,d,u?f:v]),g.fireWith(p,[w,N]),c&&(h.trigger("ajaxComplete",[w,d]),--O.active||O.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,u,c,f,d=O.ajaxSetup({},n),p=d.context||d,h=p!==d&&(p.nodeType||p instanceof O)?O(p):O.event,m=O.Deferred(),g=O.Callbacks("once memory"),y=d.statusCode||{},v={},b={},x=0,w={readyState:0,setRequestHeader:function(e,t){if(!x){var n=e.toLowerCase();e=b[n]=b[n]||e,v[e]=t}return this},getAllResponseHeaders:function(){return 2===x?o:null},getResponseHeader:function(e){var n;if(2===x){if(!a)for(a={};n=Gt.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return x||(d.mimeType=e),this},abort:function(e){return e=e||"abort",s&&s.abort(e),r(0,e),this}};if(m.promise(w),w.success=w.done,w.error=w.fail,w.complete=g.add,w.statusCode=function(e){if(e){var t;if(2>x)for(t in e)y[t]=[y[t],e[t]];else t=e[w.status],w.then(t,t)}return this},d.url=((e||d.url)+"").replace(Ut,"").replace(Qt,Rt[1]+"//"),d.dataTypes=O.trim(d.dataType||"*").toLowerCase().split(nn),null==d.crossDomain&&(u=on.exec(d.url.toLowerCase()),d.crossDomain=!(!u||u[1]==Rt[1]&&u[2]==Rt[2]&&(u[3]||("http:"===u[1]?80:443))==(Rt[3]||("http:"===Rt[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=O.param(d.data,d.traditional)),T(sn,d,n,w),2===x)return!1;if(c=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Kt.test(d.type),c&&0===O.active++&&O.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(Zt.test(d.url)?"&":"?")+d.data,delete d.data),i=d.url,d.cache===!1)){var N=O.now(),k=d.url.replace(rn,"$1_="+N);d.url=k+(k===d.url?(Zt.test(d.url)?"&":"?")+"_="+N:"")}(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(i=i||d.url,O.lastModified[i]&&w.setRequestHeader("If-Modified-Since",O.lastModified[i]),O.etag[i]&&w.setRequestHeader("If-None-Match",O.etag[i])),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+un+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)w.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===x))return w.abort(),!1;for(f in{success:1,error:1,complete:1})w[f](d[f]);if(s=T(ln,d,n,w)){w.readyState=1,c&&h.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},d.timeout));try{x=1,s.send(v,r)}catch(S){if(!(2>x))throw S;r(-1,S)}}else r(-1,"No Transport");return w},param:function(e,n){var r=[],i=function(e,t){if(t=O.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t),O.browser.msie&&"9.0"===O.browser.version&&"dir"===e){var n=encodeURIComponent(t),i=n.match(/%00/g);i&&(n=n.replace(/%00/g,""),r[r.length-1]=encodeURIComponent(e)+"="+n)}};if(n===t&&(n=O.ajaxSettings.traditional),O.isArray(e)||e.jquery&&!O.isPlainObject(e)){O.each(e,function(){i(this.name,this.value)})}else for(var o in e)N(o,e[o],n,i);return r.join("&").replace(Xt,"+")}}),O.extend({active:0,lastModified:{},etag:{}});var fn=O.now(),dn=/(\=)\?(&|$)|\?\?/i;O.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return O.expando+"_"+fn++}}),O.ajaxPrefilter("json jsonp",function(t,n,r){var i="string"==typeof t.data&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(dn.test(t.url)||i&&dn.test(t.data))){var o,a=t.jsonpCallback=O.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s=e[a],l=t.url,u=t.data,c="$1"+a+"$2";return t.jsonp!==!1&&(l=l.replace(dn,c),t.url===l&&(i&&(u=u.replace(dn,c)),t.data===u&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+a))),t.url=l,t.data=u,e[a]=function(e){o=[e]},r.always(function(){e[a]=s,o&&O.isFunction(s)&&e[a](o[0])}),t.converters["script json"]=function(){return o||O.error(a+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),O.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return O.globalEval(e),e}}}),O.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),O.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=M.head||M.getElementsByTagName("head")[0]||M.documentElement;return{send:function(i,o){n=M.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var pn,hn=e.ActiveXObject?function(){for(var e in pn)pn[e](0,1)}:!1,mn=0;O.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&k()||S()}:k,function(e){O.extend(O.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(O.ajaxSettings.xhr()),O.support.ajax&&O.ajaxTransport(function(n){if(!n.crossDomain||O.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,f,d;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=O.noop,hn&&delete pn[a]),i)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),f={},d=l.responseXML,d&&d.documentElement&&(f.xml=d);try{f.text=l.responseText}catch(e){}try{u=l.statusText}catch(p){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(h){i||o(-1,h)}f&&o(s,u,f,c)},n.async&&4!==l.readyState?(a=++mn,hn&&(pn||(pn={},O(e).unload(hn)),pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var gn,yn,vn,bn,xn={},Tn=/^(?:toggle|show|hide)$/,wn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Nn=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];O.fn.extend({show:function(e,t,n){var r,i;if(e||0===e)return this.animate(j("show",3),e,t,n);for(var o=0,a=this.length;a>o;o++)r=this[o],r.style&&(i=r.style.display,O._data(r,"olddisplay")||"none"!==i||(i=r.style.display=""),(""===i&&"none"===O.css(r,"display")||!O.contains(r.ownerDocument.documentElement,r))&&O._data(r,"olddisplay",D(r.nodeName)));for(o=0;a>o;o++)r=this[o],r.style&&(i=r.style.display,(""===i||"none"===i)&&(r.style.display=O._data(r,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(j("hide",3),e,t,n);for(var r,i,o=0,a=this.length;a>o;o++)r=this[o],r.style&&(i=O.css(r,"display"),"none"===i||O._data(r,"olddisplay")||O._data(r,"olddisplay",i));for(o=0;a>o;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:O.fn.toggle,toggle:function(e,t,n){var r="boolean"==typeof e;return O.isFunction(e)&&O.isFunction(t)?this._toggle.apply(this,arguments):null==e||r?this.each(function(){var t=r?e:O(this).is(":hidden");O(this)[t?"show":"hide"]()}):this.animate(j("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){function i(){o.queue===!1&&O._mark(this);var t,n,r,i,a,s,l,u,c,f,d,p=O.extend({},o),h=1===this.nodeType,m=h&&O(this).is(":hidden");p.animatedProperties={};for(r in e)if(t=O.camelCase(r),r!==t&&(e[t]=e[r],delete e[r]),(a=O.cssHooks[t])&&"expand"in a){s=a.expand(e[t]),delete e[t];for(r in s)r in e||(e[r]=s[r])}for(t in e){if(n=e[t],O.isArray(n)?(p.animatedProperties[t]=n[1],n=e[t]=n[0]):p.animatedProperties[t]=p.specialEasing&&p.specialEasing[t]||p.easing||"swing","hide"===n&&m||"show"===n&&!m)return p.complete.call(this);!h||"height"!==t&&"width"!==t||(p.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===O.css(this,"display")&&"none"===O.css(this,"float")&&(O.support.inlineBlockNeedsLayout&&"inline"!==D(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=p.overflow&&(this.style.overflow="hidden");for(r in e)i=new O.fx(this,p,r),n=e[r],Tn.test(n)?(d=O._data(this,"toggle"+r)||("toggle"===n?m?"show":"hide":0),d?(O._data(this,"toggle"+r,"show"===d?"hide":"show"),i[d]()):i[n]()):(l=wn.exec(n),u=i.cur(),l?(c=parseFloat(l[2]),f=l[3]||(O.cssNumber[r]?"":"px"),"px"!==f&&(O.style(this,r,(c||1)+f),u=(c||1)/i.cur()*u,O.style(this,r,u+f)),l[1]&&(c=("-="===l[1]?-1:1)*c+u),i.custom(u,c,f)):i.custom(u,n,""));return!0}var o=O.speed(t,n,r);return O.isEmptyObject(e)?this.each(o.complete,[!1]):(e=O.extend({},e),o.queue===!1?this.each(i):this.queue(o.queue,i))},stop:function(e,n,r){return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var i=t[n];O.removeData(e,n,!0),i.stop(r)}var n,i=!1,o=O.timers,a=O._data(this);if(r||O._unmark(!0,this),null==e)for(n in a)a[n]&&a[n].stop&&n.indexOf(".run")===n.length-4&&t(this,a,n);else a[n=e+".run"]&&a[n].stop&&t(this,a,n);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(r?o[n](!0):o[n].saveState(),i=!0,o.splice(n,1));r&&i||O.dequeue(this,e)})}}),O.each({slideDown:j("show",1),slideUp:j("hide",1),slideToggle:j("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){O.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),O.extend({speed:function(e,t,n){var r=e&&"object"==typeof e?O.extend({},e):{complete:n||!n&&t||O.isFunction(e)&&e,duration:e,easing:n&&t||t&&!O.isFunction(t)&&t};return r.duration=O.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in O.fx.speeds?O.fx.speeds[r.duration]:O.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(e){O.isFunction(r.old)&&r.old.call(this),r.queue?O.dequeue(this,r.queue):e!==!1&&O._unmark(this)},r},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),O.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(O.fx.step[this.prop]||O.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=O.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,n,r){function i(e){return o.step(e)}var o=this,a=O.fx;this.startTime=bn||A(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=r||this.unit||(O.cssNumber[this.prop]?"":"px"),i.queue=this.options.queue,i.elem=this.elem,i.saveState=function(){O._data(o.elem,"fxshow"+o.prop)===t&&(o.options.hide?O._data(o.elem,"fxshow"+o.prop,o.start):o.options.show&&O._data(o.elem,"fxshow"+o.prop,o.end))},i()&&O.timers.push(i)&&!vn&&(vn=setInterval(a.tick,a.interval))},show:function(){var e=O._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||O.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),O(this.elem).show()},hide:function(){this.options.orig[this.prop]=O._data(this.elem,"fxshow"+this.prop)||O.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=bn||A(),o=!0,a=this.elem,s=this.options;if(e||i>=s.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),s.animatedProperties[this.prop]=!0;for(t in s.animatedProperties)s.animatedProperties[t]!==!0&&(o=!1);if(o){if(null==s.overflow||O.support.shrinkWrapBlocks||O.each(["","X","Y"],function(e,t){a.style["overflow"+t]=s.overflow[e]}),s.hide&&O(a).hide(),s.hide||s.show)for(t in s.animatedProperties)O.style(a,t,s.orig[t]),O.removeData(a,"fxshow"+t,!0),O.removeData(a,"toggle"+t,!0);r=s.complete,r&&(s.complete=!1,r.call(a))}return!1}return 1/0==s.duration?this.now=i:(n=i-this.startTime,this.state=n/s.duration,this.pos=O.easing[s.animatedProperties[this.prop]](this.state,n,0,1,s.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},O.extend(O.fx,{tick:function(){for(var e,t=O.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||O.fx.stop()},interval:13,stop:function(){clearInterval(vn),vn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){O.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),O.each(Nn.concat.apply([],Nn),function(e,t){t.indexOf("margin")&&(O.fx.step[t]=function(e){O.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),O.expr&&O.expr.filters&&(O.expr.filters.animated=function(e){return O.grep(O.timers,function(t){return e===t.elem}).length});var Cn,En=/^t(?:able|d|h)$/i,kn=/^(?:body|html)$/i;Cn="getBoundingClientRect"in M.documentElement?function(e,t,n,r){try{r=e.getBoundingClientRect()}catch(i){}if(!r||!O.contains(n,e))return r?{top:r.top,left:r.left}:{top:0,left:0};var o=t.body,a=F(t),s=n.clientTop||o.clientTop||0,l=n.clientLeft||o.clientLeft||0,u=a.pageYOffset||O.support.boxModel&&n.scrollTop||o.scrollTop,c=a.pageXOffset||O.support.boxModel&&n.scrollLeft||o.scrollLeft,f=r.top+u-s,d=r.left+c-l;return{top:f,left:d}}:function(e,t,n){for(var r,i=e.offsetParent,o=e,a=t.body,s=t.defaultView,l=s?s.getComputedStyle(e,null):e.currentStyle,u=e.offsetTop,c=e.offsetLeft;(e=e.parentNode)&&e!==a&&e!==n&&(!O.support.fixedPosition||"fixed"!==l.position);)r=s?s.getComputedStyle(e,null):e.currentStyle,u-=e.scrollTop,c-=e.scrollLeft,e===i&&(u+=e.offsetTop,c+=e.offsetLeft,!O.support.doesNotAddBorder||O.support.doesAddBorderForTableAndCells&&En.test(e.nodeName)||(u+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),o=i,i=e.offsetParent),O.support.subtractsBorderForOverflowNotVisible&&"visible"!==r.overflow&&(u+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),l=r;return("relative"===l.position||"static"===l.position)&&(u+=a.offsetTop,c+=a.offsetLeft),O.support.fixedPosition&&"fixed"===l.position&&(u+=Math.max(n.scrollTop,a.scrollTop),c+=Math.max(n.scrollLeft,a.scrollLeft)),{top:u,left:c}},O.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){O.offset.setOffset(this,e,t)});var n=this[0],r=n&&n.ownerDocument;return r?n===r.body?O.offset.bodyOffset(n):Cn(n,r,r.documentElement):null},O.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return O.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(O.css(e,"marginTop"))||0,n+=parseFloat(O.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=O.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=O(e),s=a.offset(),l=O.css(e,"top"),u=O.css(e,"left"),c=("absolute"===r||"fixed"===r)&&O.inArray("auto",[l,u])>-1,f={},d={};c?(d=a.position(),i=d.top,o=d.left):(i=parseFloat(l)||0,o=parseFloat(u)||0),O.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+i),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):a.css(f)}},O.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=kn.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(O.css(e,"marginTop"))||0,n.left-=parseFloat(O.css(e,"marginLeft"))||0,r.top+=parseFloat(O.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(O.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||M.body;e&&!kn.test(e.nodeName)&&"static"===O.css(e,"position");)e=e.offsetParent;return e})}}),O.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);O.fn[e]=function(i){return O.access(this,function(e,i,o){var a=F(e);return o===t?a?n in a?a[n]:O.support.boxModel&&a.document.documentElement[i]||a.document.body[i]:e[i]:void(a?a.scrollTo(r?O(a).scrollLeft():o,r?o:O(a).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),O.each({Height:"height",Width:"width"},function(e,n){var r="client"+e,i="scroll"+e,o="offset"+e;O.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(O.css(e,n,"padding")):this[n]():null},O.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(O.css(t,n,e?"margin":"border")):this[n]():null},O.fn[n]=function(e){return O.access(this,function(e,n,a){var s,l,u,c;return O.isWindow(e)?(s=e.document,l=s.documentElement[r],O.support.boxModel&&l||s.body&&s.body[r]||l):9===e.nodeType?(s=e.documentElement,s[r]>=s[i]?s[r]:Math.max(e.body[i],s[i],e.body[o],s[o])):a===t?(u=O.css(e,n),c=parseFloat(u),O.isNumeric(c)?c:u):void O(e).css(n,a)},n,e,arguments.length,null)}}),"object"==typeof n&&n&&"object"==typeof n.exports?n.exports=O:(e.jQuery=e.$=O,"function"==typeof define&&define.amd&&define("jquery",[],function(){return O}))}(window)});
;define("base:widget/libs/jquerypacket.js",function(r,e,t){var n=r("base:widget/libs/jquery-1.7.2.js");n.extend({stringify:function(r){var e=typeof r;if("object"!=e||null===r)return"string"==e&&(r='"'+r+'"'),String(r);if("object"==typeof JSON&&JSON.stringify)return JSON.stringify(r);var t,i,o=[],s=r&&r.constructor==Array;for(t in r)i=r[t],e=typeof i,r.hasOwnProperty(t)&&void 0!==i&&("string"==e?i='"'+i+'"':"object"==e&&null!==i&&(i=n.stringify(i)),o.push((s?"":'"'+t+'":')+String(i)));return(s?"[":"{")+String(o)+(s?"]":"}")},parseJSON:function(r){var e=/^[\],:{}\s]*$/,t=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g;return"object"==typeof r?r:"string"==typeof r&&r?(r=n.trim(r),e.test(r.replace(t,"@").replace(i,"]").replace(o,""))?window.JSON&&window.JSON.parse?window.JSON.parse(r):new Function("return "+r)():void n.error("Invalid JSON: "+r)):null}}),t.exports=n});
;define("base:widget/hash/jquery.hash.js",function(e){var n=e("base:widget/libs/jquerypacket.js");!function(e){e.hash||(e.hash=function(n,t){function o(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)}if(o(n)&&""!=n){var a=new RegExp("(&"+n+"=[^&]*)|(\\b"+n+"=[^&]*&)|(\\b"+n+"=[^&]*)","ig"),i=new RegExp("&*\\b"+n+"=[^&]*","i");if("undefined"==typeof t){var h=location.hash.match(i);return h?decodeURIComponent(e.trim(h[0].split("=")[1])):null}if(null===t)location.hash=location.hash.replace(a,"");else{t+="";var c=location.hash.replace(a,"");c+=(-1!=c.indexOf("=")?"&":"")+n+"="+encodeURIComponent(t),location.hash=c}}})}(n)});
;define("base:widget/hash/hash.js",function(n,t,e){n("base:widget/hash/jquery.hash.js");var o=n("base:widget/libs/jquerypacket.js"),i={},a={},s=function(n,t){i[n]=i[n]||[],a[n]=c.get(n),"function"==typeof t&&i[n].push(t)},h=function(n,t){var e;for(e=0;e<i[n].length;e++)i[n][e](t)},r={path:"dir/path",key:"s/key"};i.ALL=[];var f=function(){var n,t;for(n in a)a.hasOwnProperty(n)&&(t=c.get(n),t!==a[n]&&(a[n]=t,h(n,t)));h("ALL")};!function(){var n=100,t=window.location.hash,e="undefined"!=typeof window.attachEvent,o="onhashchange"in window;if(o){var i=/MSIE (\d+)/gi;i.test(navigator.userAgent)&&RegExp.$1<9&&(o=!1)}e&&!o?window.setInterval(function(){var n=window.location.hash;n!==t&&(f(),t=n)},n):window.onhashchange=f}();var c={del:function(n){var t=this.get(n);t&&""!==t&&this.set(n,null)},get:function(n){var t,e=r[n];return t=o.hash(e?o.hash(n)?n:e:n),"string"==typeof t&&(t=window.decodeURIComponent(t)),t},set:function(n,t){"string"==typeof t&&(t=window.encodeURIComponent(t)),o.hash(n,t)},listen:function(n,t){var e=[];"function"==typeof n&&(e.push("ALL"),t=n),"string"==typeof n&&(e=n.split(",")),e.forEach(function(n){n=n.trim(),s(n,t)})}};e.exports=c});
;define("base:widget/historyManager/historyStackEmulator.js",function(t,n,e){var i=function(){this._mIFrame=null,this._mState="",this._mTimer=null};i.singleton=null,i.getDefault=function(){return i.singleton||(i.singleton=new i,i.singleton.init()),i.singleton},i.HISTORY_IFRAME_ID="historyIFrameEmulator",i.prototype={_buildIFrame:function(){var t=document.getElementById(i.HISTORY_IFRAME_ID);if(!t)throw new Error("History Iframe Not Found");this._mIFrame=t},init:function(){this._buildIFrame(),this._startTimer(),this._addState("")},dispatchIFrameLoaded:function(t){this._mState=t,this.onHistoryChanged(t)},_startTimer:function(){if(!this._mTimer){var t=this;this._mTimer=setInterval(function(){if(t._mIFrame)try{var n=t._mIFrame.contentWindow.document.body.innerText.trim();n!=t._mState&&t.dispatchIFrameLoaded(n)}catch(e){}},50)}},_stopTimer:function(){this._mTimer&&(clearInterval(this._mTime),this._mTimer=null)},onHistoryChanged:function(){},_addState:function(t){var n=null,e="<html><body>"+t+"</body></html>";try{return n=this._mIFrame.contentWindow.document,n.open(),n.writeln(e),n.close(),!0}catch(i){return!1}},replaceHistoryState:function(t){try{return this._mIFrame.contentWindow.document.body.innerHTML=t,!0}catch(n){return!1}},addHistoryState:function(t){var n=this._addState(t);return n}},e.exports=i});
;define("base:widget/historyManager/historyManager.js",function(t,n,i){var e=!1,r=t("base:widget/historyManager/historyStackEmulator.js"),s=function(){this._mEmulator=null,this._mModules={},this._mLastHistoryState=null};s.PATTERN_HISTORY_STATE=/^([\w-]+)((\/(?:[\w-]+)=[^&]*(&(?:[\w-]+)=[^&]*)*)*)$/gi,s.parseHistory=function(t){if(s.PATTERN_HISTORY_STATE.lastIndex=0,s.PATTERN_HISTORY_STATE.test(t)){var n=RegExp.$2.trim(),i={};if(n.length>0)for(var e=n.substring(1).split("&"),r=0,o=e.length;o>r;r++){var a=e[r].split("=");i[a[0]]=decodeURIComponent(a[1])}return[RegExp.$1.trim(),i]}return null},s.getCurrentParams=function(){var t=s.getCurrentHash();return t&&2===t.length?t[1]:{}},s.getCurrentHash=function(){var t=s.parseHistory(location.hash.slice(1));return t},s.getCurrentModule=function(){var t=location.hash,n=t.indexOf("/");return n>-1?t.substring(1,n):t.substring(1)},s.assignUrlHash=function(t,n){if(0!=t.trim().length||n!==!0)try{location.hash=t}catch(i){e&&console.log("Exception On Assigning Url Hash = ",t)}},s.replaceUrlHash=function(t,n){if(0!=t.trim().length||n!==!0)try{location.replace("#"+t)}catch(i){e&&console.log("Exception On Assigning Url Hash = ",t)}},s.buildHistory=function(t,n){var i=[];for(var e in n)n.hasOwnProperty(e)&&void 0!=n[e]&&i.push(e+"="+encodeURIComponent(n[e]));return t+(i.length>0?"/"+i.join("&"):"")},s.interpretCurrentWindow=function(t){var n=location.href.indexOf("#");if(-1!=n){var i=location.href.substring(n+1);if(i.length>0){var e=s.parseHistory(i);if(null!=e)return t===!0?e:(s.getDefault().dispatchHistoryChanged(i),!0)}}return t===!0?null:!1},s.instance=null,s.getDefault=function(){return s.instance||(s.instance=new s,s.instance.init()),s.instance},s.prototype={init:function(){var t="undefined"!=typeof window.attachEvent,n="onhashchange"in window,i=this;if(n){var s=/MSIE (\d+)/gi;s.test(navigator.userAgent)&&RegExp.$1<9&&(n=!1)}if(t&&!n)this._mEmulator=r.getDefault(),this._mEmulator.onHistoryChanged=function(t){i.dispatchHistoryChanged(t)};else{var o=function(){e&&console.log("[LOG]new hash = ",location.hash);var t=location.href.indexOf("#"),n="";-1!=t&&(n=location.href.substring(t+1)),i.dispatchHistoryChanged(n)};"undefined"!=typeof window.addEventListener?window.addEventListener("hashchange",o,!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onhashchange",o)}},listen:function(t,n){this._mModules[t]=n},unlisten:function(t){delete this._mModules[t]},addHistory:function(t){t=t.trim(),t.length>0&&(s.assignUrlHash(t),null!=this._mEmulator&&this._mEmulator.addHistoryState(t))},replaceHistory:function(t){t=t.trim(),t.length>0&&(s.replaceUrlHash(t),null!=this._mEmulator&&this._mEmulator.replaceHistoryState(t))},dispatchHistoryChanged:function(t){if(null!=this._mEmulator&&s.assignUrlHash(t),!t||this._mLastHistoryState!==t)if(this._mLastHistoryState=t,0==t.trim().length){e&&console.log(">>>>>notify all clients");for(var n in this._mModules)this._mModules.hasOwnProperty(n)&&this._mModules[n].call(this,{},!0)}else{var i=s.parseHistory(t);if(null!=i){var n=this._mModules[i[0]];n&&n.call(this,i[1])}}},getCurrentHistoryState:function(){return this._mLastHistoryState},navigate:function(t,n,i){if("undefined"==typeof t||null==t)throw new Error("Arguments 'module' required to navigate history");var e=s.buildHistory(t,n);return e==this._mLastHistoryState?!1:(i===!0?this.replaceHistory(e):this.addHistory(e),!0)},go:function(t){history.go(t)}},i.exports=s});
;define("base:widget/httpProxy/swfobject.js",function(e,t,n){var a=function(){function e(){if(!G){try{var e=V.getElementsByTagName("body")[0].appendChild(m("span"));e.parentNode.removeChild(e)}catch(t){return}G=!0;for(var n=D.length,a=0;n>a;a++)D[a]()}}function t(e){G?e():D[D.length]=e}function n(e){if(typeof M.addEventListener!=k)M.addEventListener("load",e,!1);else if(typeof V.addEventListener!=k)V.addEventListener("load",e,!1);else if(typeof M.attachEvent!=k)g(M,"onload",e);else if("function"==typeof M.onload){var t=M.onload;M.onload=function(){t(),e()}}else M.onload=e}function i(){R?r():o()}function r(){var e=V.getElementsByTagName("body")[0],t=m(B);t.setAttribute("type",x);var n=e.appendChild(t);if(n){var a=0;!function(){if(typeof n.GetVariable!=k){var i=n.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),z.pv=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)])}else if(10>a)return a++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,o()}()}else o()}function o(){var e=W.length;if(e>0)for(var t=0;e>t;t++){var n=W[t].id,a=W[t].callbackFn,i={success:!1,id:n};if(z.pv[0]>0){var r=h(n);if(r)if(!w(W[t].swfVersion)||z.wk&&z.wk<312)if(W[t].expressInstall&&l()){var o={};o.data=W[t].expressInstall,o.width=r.getAttribute("width")||"0",o.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(o.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(o.align=r.getAttribute("align"));for(var f={},u=r.getElementsByTagName("param"),p=u.length,v=0;p>v;v++)"movie"!=u[v].getAttribute("name").toLowerCase()&&(f[u[v].getAttribute("name")]=u[v].getAttribute("value"));c(o,f,n,a)}else d(r),a&&a(i);else C(n,!0),a&&(i.success=!0,i.ref=s(n),a(i))}else if(C(n,!0),a){var y=s(n);y&&typeof y.SetVariable!=k&&(i.success=!0,i.ref=y),a(i)}}}function s(e){var t=null,n=h(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=k)t=n;else{var a=n.getElementsByTagName(B)[0];a&&(t=a)}return t}function l(){return!J&&w("6.0.65")&&(z.win||z.mac)&&!(z.wk&&z.wk<312)}function c(e,t,n,a){J=!0,I=a||null,N={success:!1,id:n};var i=h(n);if(i){"OBJECT"==i.nodeName?(S=f(i),A=null):(S=i,A=n),e.id=F,(typeof e.width==k||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==k||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),V.title=V.title.slice(0,47)+" - Flash Player Installation";var r=z.ie&&z.win?"ActiveX":"PlugIn",o="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+V.title;if(typeof t.flashvars!=k?t.flashvars+="&"+o:t.flashvars=o,z.ie&&z.win&&4!=i.readyState){var s=m("div");n+="SWFObjectNew",s.setAttribute("id",n),i.parentNode.insertBefore(s,i),i.style.display="none",function(){4==i.readyState?i.parentNode.removeChild(i):setTimeout(arguments.callee,10)}()}u(e,t,n)}}function d(e){if(z.ie&&z.win&&4!=e.readyState){var t=m("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(f(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(f(e),e)}function f(e){var t=m("div");if(z.win&&z.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(B)[0];if(n){var a=n.childNodes;if(a)for(var i=a.length,r=0;i>r;r++)1==a[r].nodeType&&"PARAM"==a[r].nodeName||8==a[r].nodeType||t.appendChild(a[r].cloneNode(!0))}}return t}function u(e,t,n){var a,i=h(n);if(z.wk&&z.wk<312)return a;if(i)if(typeof e.id==k&&(e.id=n),z.ie&&z.win){var r="";for(var o in e)e[o]!=Object.prototype[o]&&("data"==o.toLowerCase()?t.movie=e[o]:"styleclass"==o.toLowerCase()?r+=' class="'+e[o]+'"':"classid"!=o.toLowerCase()&&(r+=" "+o+'="'+e[o]+'"'));var s="";for(var l in t)t[l]!=Object.prototype[l]&&(s+='<param name="'+l+'" value="'+t[l]+'" />');i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+s+"</object>",H[H.length]=e.id,a=h(e.id)}else{var c=m(B);c.setAttribute("type",x);for(var d in e)e[d]!=Object.prototype[d]&&("styleclass"==d.toLowerCase()?c.setAttribute("class",e[d]):"classid"!=d.toLowerCase()&&c.setAttribute(d,e[d]));for(var f in t)t[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&p(c,f,t[f]);i.parentNode.replaceChild(c,i),a=c}return a}function p(e,t,n){var a=m("param");a.setAttribute("name",t),a.setAttribute("value",n),e.appendChild(a)}function v(e){var t=h(e);t&&"OBJECT"==t.nodeName&&(z.ie&&z.win?(t.style.display="none",function(){4==t.readyState?y(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function y(e){var t=h(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function h(e){var t=null;try{t=V.getElementById(e)}catch(n){}return t}function m(e){return V.createElement(e)}function g(e,t,n){e.attachEvent(t,n),U[U.length]=[e,t,n]}function w(e){var t=z.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function b(e,t,n,a){if(!z.ie||!z.mac){var i=V.getElementsByTagName("head")[0];if(i){var r=n&&"string"==typeof n?n:"screen";if(a&&(T=null,L=null),!T||L!=r){var o=m("style");o.setAttribute("type","text/css"),o.setAttribute("media",r),T=i.appendChild(o),z.ie&&z.win&&typeof V.styleSheets!=k&&V.styleSheets.length>0&&(T=V.styleSheets[V.styleSheets.length-1]),L=r}z.ie&&z.win?T&&typeof T.addRule==B&&T.addRule(e,t):T&&typeof V.createTextNode!=k&&T.appendChild(V.createTextNode(e+" {"+t+"}"))}}}function C(e,t){if(X){var n=t?"visible":"hidden";G&&h(e)?h(e).style.visibility=n:b("#"+e,"visibility:"+n)}}function E(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=k?encodeURIComponent(e):e}{var S,A,I,N,T,L,k="undefined",B="object",O="Shockwave Flash",j="ShockwaveFlash.ShockwaveFlash",x="application/x-shockwave-flash",F="SWFObjectExprInst",$="onreadystatechange",M=window,V=document,P=navigator,R=!1,D=[i],W=[],H=[],U=[],G=!1,J=!1,X=!0,z=function(){var e=typeof V.getElementById!=k&&typeof V.getElementsByTagName!=k&&typeof V.createElement!=k,t=P.userAgent.toLowerCase(),n=P.platform.toLowerCase(),a=/win/.test(n?n:t),i=/mac/.test(n?n:t),r=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,o=!1,s=[0,0,0],l=null;if(typeof P.plugins!=k&&typeof P.plugins[O]==B)l=P.plugins[O].description,!l||typeof P.mimeTypes!=k&&P.mimeTypes[x]&&!P.mimeTypes[x].enabledPlugin||(R=!0,o=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof M.ActiveXObject!=k)try{var c=new ActiveXObject(j);c&&(l=c.GetVariable("$version"),l&&(o=!0,l=l.split(" ")[1].split(","),s=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(d){}return{w3:e,pv:s,wk:r,ie:o,win:a,mac:i}}();!function(){z.w3&&((typeof V.readyState!=k&&"complete"==V.readyState||typeof V.readyState==k&&(V.getElementsByTagName("body")[0]||V.body))&&e(),G||(typeof V.addEventListener!=k&&V.addEventListener("DOMContentLoaded",e,!1),z.ie&&z.win&&(V.attachEvent($,function(){"complete"==V.readyState&&(V.detachEvent($,arguments.callee),e())}),M==top&&!function(){if(!G){try{V.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e()}}()),z.wk&&!function(){return G?void 0:/loaded|complete/.test(V.readyState)?void e():void setTimeout(arguments.callee,0)}(),n(e)))}(),function(){z.ie&&z.win&&window.attachEvent("onunload",function(){for(var e=U.length,t=0;e>t;t++)U[t][0].detachEvent(U[t][1],U[t][2]);for(var n=H.length,i=0;n>i;i++)v(H[i]);for(var r in z)z[r]=null;z=null;for(var o in a)a[o]=null;a=null})}()}return{registerObject:function(e,t,n,a){if(z.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=a,W[W.length]=i,C(e,!1)}else a&&a({success:!1,id:e})},getObjectById:function(e){return z.w3?s(e):void 0},embedSWF:function(e,n,a,i,r,o,s,d,f,p){var v={success:!1,id:n};z.w3&&!(z.wk&&z.wk<312)&&e&&n&&a&&i&&r?(C(n,!1),t(function(){a+="",i+="";var t={};if(f&&typeof f===B)for(var y in f)t[y]=f[y];t.data=e,t.width=a,t.height=i;var h={};if(d&&typeof d===B)for(var m in d)h[m]=d[m];if(s&&typeof s===B)for(var g in s)typeof h.flashvars!=k?h.flashvars+="&"+g+"="+s[g]:h.flashvars=g+"="+s[g];if(w(r)){var b=u(t,h,n);t.id==n&&C(n,!0),v.success=!0,v.ref=b}else{if(o&&l())return t.data=o,void c(t,h,n,p);C(n,!0)}p&&p(v)})):p&&p(v)},switchOffAutoHideShow:function(){X=!1},ua:z,getFlashPlayerVersion:function(){return{major:z.pv[0],minor:z.pv[1],release:z.pv[2]}},hasFlashPlayerVersion:w,createSWF:function(e,t,n){return z.w3?u(e,t,n):void 0},showExpressInstall:function(e,t,n,a){z.w3&&l()&&c(e,t,n,a)},removeSWF:function(e){z.w3&&v(e)},createCSS:function(e,t,n,a){z.w3&&b(e,t,n,a)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=V.location.search||V.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return E(t);for(var n=t.split("&"),a=0;a<n.length;a++)if(n[a].substring(0,n[a].indexOf("="))==e)return E(n[a].substring(n[a].indexOf("=")+1))}return""},expressInstallCallback:function(){if(J){var e=h(F);e&&S&&(e.parentNode.replaceChild(S,e),A&&(C(A,!0),z.ie&&z.win&&(S.style.display="block")),I&&I(N)),J=!1}}}}();n.exports=a});
;define("base:widget/httpProxy/httpProxy.js",function(t,o,e){var r=t("base:widget/libs/jquerypacket.js"),a=t("base:widget/httpProxy/swfobject.js"),c=0,n=[];window.httpProxyFunc={};var s=function(){var t=document.getElementById("httpProxy");r.each(n,function(o,e){t.ajax(r.stringify(e))}),n=[]},y=function(){r("body").append('<div class="httpProxy-container"><div id="httpProxy" class="httpProxy"></div></div>');var t="11.1.0",o="",e={};httpProxyFunc.onReady=s,e.onReady="httpProxyFunc.onReady";var c={};c.quality="high",c.wmode="opaque",c.allowscriptaccess="always",c.allowfullscreen="false";var n={};n.id="httpProxy",n.name="httpProxy",a.embedSWF("http://s1.pan.bdstatic.com/box-static/base-cdn/widget/httpProxy/HttpProxy_048dc2a.swf","httpProxy","1","1",t,o,e,c,n)},i=function(t){if(c++,c%=1e7,"function"==typeof t.success){var o="success_callback_"+c;httpProxyFunc[o]=t.success,t.success="httpProxyFunc."+o}if("function"==typeof t.error){var e="error_callback_"+c;httpProxyFunc[e]=t.error,t.error="httpProxyFunc."+e}var a=document.getElementById("httpProxy");"function"==typeof a.ajax?a.ajax(r.stringify(t)):n.push(t)};y(),e.exports={ajax:i}});
;define("base:widget/identify/identify.js",function(n,o,e){"use strict";var t={init:function(n,o){var e={eyun:"/enterprise/404",pan:"/error/404"},t=new Image;t.src=location.protocol+"//"+location.host+e[n],t.onload=t.onerror=function(){"function"==typeof o&&o()}}};e.exports=t});
;define("base:widget/libs/MutationObserver.js",function(){window.MutationObserver=window.MutationObserver||function(t){"use strict";function e(t){this._watched=[],this._listener=t}function n(t){!function n(){var r=t.takeRecords();r.length&&t._listener(r,t),t._timeout=setTimeout(n,e._period)}()}function r(e){var n={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(var r in e)b(n,r)&&e[r]!==t&&(n[r]=e[r]);return n}function a(t,e){var n=l(t,e);return function(r){var a,i=r.length;e.attr&&n.attr&&o(r,t,n.attr,e.afilter),(e.kids||e.descendents)&&(a=s(r,t,n,e)),(a||r.length!==i)&&(n=l(t,e))}}function i(t,e){return e.value}function u(t,e){return"style"!==e.name?e.value:t.style.cssText}function o(t,e,n,a){for(var i,u,o={},s=e.attributes,l=s.length;l--;)i=s[l],u=i.name,(!a||b(a,u))&&(m(e,i)!==n[u]&&t.push(r({type:"attributes",target:e,attributeName:u,oldValue:n[u],attributeNamespace:i.namespaceURI})),o[u]=!0);for(u in n)o[u]||t.push(r({target:e,type:"attributes",attributeName:u,oldValue:n[u]}))}function s(e,n,a,i){function u(t,n,a,u,l){for(var d,c,h,f=t.length-1,p=-~((f-l)/2);h=t.pop();)d=a[h.i],c=u[h.j],i.kids&&p&&Math.abs(h.i-h.j)>=f&&(e.push(r({type:"childList",target:n,addedNodes:[d],removedNodes:[d],nextSibling:d.nextSibling,previousSibling:d.previousSibling})),p--),i.attr&&c.attr&&o(e,d,c.attr,i.afilter),i.charData&&3===d.nodeType&&d.nodeValue!==c.charData&&e.push(r({type:"characterData",target:d})),i.descendents&&s(d,c)}function s(n,a){for(var h,f,b,g,v,m,y,N=n.childNodes,D=a.kids,_=N.length,k=D?D.length:0,S=0,w=0,V=0;_>w||k>V;)m=N[w],v=D[V],y=v&&v.node,m===y?(i.attr&&v.attr&&o(e,m,v.attr,i.afilter),i.charData&&v.charData!==t&&m.nodeValue!==v.charData&&e.push(r({type:"characterData",target:m})),f&&u(f,n,N,D,S),i.descendents&&(m.childNodes.length||v.kids&&v.kids.length)&&s(m,v),w++,V++):(l=!0,h||(h={},f=[]),m&&(h[b=c(m)]||(h[b]=!0,-1===(g=d(D,m,V))?i.kids&&(e.push(r({type:"childList",target:n,addedNodes:[m],nextSibling:m.nextSibling,previousSibling:m.previousSibling})),S++):f.push({i:w,j:g})),w++),y&&y!==N[w]&&(h[b=c(y)]||(h[b]=!0,-1===(g=p(N,y,w))?i.kids&&(e.push(r({type:"childList",target:a.node,removedNodes:[y],nextSibling:D[V+1],previousSibling:D[V-1]})),S--):f.push({i:g,j:V})),V++));f&&u(f,n,N,D,S)}var l;return s(n,a),l}function l(t,e){var n=!0;return function r(t){var a={node:t};return!e.charData||3!==t.nodeType&&8!==t.nodeType?(e.attr&&n&&1===t.nodeType&&(a.attr=f(t.attributes,function(n,r){return(!e.afilter||e.afilter[r.name])&&(n[r.name]=m(t,r)),n},{})),n&&(e.kids||e.charData||e.attr&&e.descendents)&&(a.kids=h(t.childNodes,r)),n=e.descendents):a.charData=t.nodeValue,a}(t)}function d(t,e,n){return p(t,e,n,g("node"))}function c(t){try{return t.id||(t[N]=t[N]||y++)}catch(e){try{return t.nodeValue}catch(n){return y++}}}function h(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r,t);return n}function f(t,e,n){for(var r=0;r<t.length;r++)n=e(n,t[r],r,t);return n}function p(t,e,n,r){for(;n<t.length;n++)if((r?t[n][r]:t[n])===e)return n;return-1}function b(e,n){return e[n]!==t}function g(t){return t}e._period=30,e.prototype={observe:function(t,e){for(var r={attr:!!(e.attributes||e.attributeFilter||e.attributeOldValue),kids:!!e.childList,descendents:!!e.subtree,charData:!(!e.characterData&&!e.characterDataOldValue)},i=this._watched,u=0;u<i.length;u++)i[u].tar===t&&i.splice(u,1);e.attributeFilter&&(r.afilter=f(e.attributeFilter,function(t,e){return t[e]=!0,t},{})),i.push({tar:t,fn:a(t,r)}),this._timeout||n(this)},takeRecords:function(){for(var t=[],e=this._watched,n=0;n<e.length;n++)e[n].fn(t);return t},disconnect:function(){this._watched=[],clearTimeout(this._timeout),this._timeout=null}};var v=document.createElement("i");v.style.top=0,v="null"!=v.attributes.style.value;var m=v?i:u,y=1,N="mo_id";return e}(void 0)});
;define("base:widget/libs/underscore.js",function(n,t,r){(function(){var n=this,e=n._,u=Array.prototype,i=Object.prototype,a=Function.prototype,o=u.push,l=u.slice,c=u.concat,f=i.toString,s=i.hasOwnProperty,p=Array.isArray,h=Object.keys,g=a.bind,v=function(n){return n instanceof v?n:this instanceof v?void(this._wrapped=n):new v(n)};"undefined"!=typeof t?("undefined"!=typeof r&&r.exports&&(t=r.exports=v),t._=v):n._=v,v.VERSION="1.7.0";var y=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}};v.iteratee=function(n,t,r){return null==n?v.identity:v.isFunction(n)?y(n,t,r):v.isObject(n)?v.matches(n):v.property(n)},v.each=v.forEach=function(n,t,r){if(null==n)return n;t=y(t,r);var e,u=n.length;if(u===+u)for(e=0;u>e;e++)t(n[e],e,n);else{var i=v.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},v.map=v.collect=function(n,t,r){if(null==n)return[];t=v.iteratee(t,r);for(var e,u=n.length!==+n.length&&v.keys(n),i=(u||n).length,a=Array(i),o=0;i>o;o++)e=u?u[o]:o,a[o]=t(n[e],e,n);return a};var m="Reduce of empty array with no initial value";v.reduce=v.foldl=v.inject=function(n,t,r,e){null==n&&(n=[]),t=y(t,e,4);var u,i=n.length!==+n.length&&v.keys(n),a=(i||n).length,o=0;if(arguments.length<3){if(!a)throw new TypeError(m);r=n[i?i[o++]:o++]}for(;a>o;o++)u=i?i[o]:o,r=t(r,n[u],u,n);return r},v.reduceRight=v.foldr=function(n,t,r,e){null==n&&(n=[]),t=y(t,e,4);var u,i=n.length!==+n.length&&v.keys(n),a=(i||n).length;if(arguments.length<3){if(!a)throw new TypeError(m);r=n[i?i[--a]:--a]}for(;a--;)u=i?i[a]:a,r=t(r,n[u],u,n);return r},v.find=v.detect=function(n,t,r){var e;return t=v.iteratee(t,r),v.some(n,function(n,r,u){return t(n,r,u)?(e=n,!0):void 0}),e},v.filter=v.select=function(n,t,r){var e=[];return null==n?e:(t=v.iteratee(t,r),v.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e)},v.reject=function(n,t,r){return v.filter(n,v.negate(v.iteratee(t)),r)},v.every=v.all=function(n,t,r){if(null==n)return!0;t=v.iteratee(t,r);var e,u,i=n.length!==+n.length&&v.keys(n),a=(i||n).length;for(e=0;a>e;e++)if(u=i?i[e]:e,!t(n[u],u,n))return!1;return!0},v.some=v.any=function(n,t,r){if(null==n)return!1;t=v.iteratee(t,r);var e,u,i=n.length!==+n.length&&v.keys(n),a=(i||n).length;for(e=0;a>e;e++)if(u=i?i[e]:e,t(n[u],u,n))return!0;return!1},v.contains=v.include=function(n,t){return null==n?!1:(n.length!==+n.length&&(n=v.values(n)),v.indexOf(n,t)>=0)},v.invoke=function(n,t){var r=l.call(arguments,2),e=v.isFunction(t);return v.map(n,function(n){return(e?t:n[t]).apply(n,r)})},v.pluck=function(n,t){return v.map(n,v.property(t))},v.where=function(n,t){return v.filter(n,v.matches(t))},v.findWhere=function(n,t){return v.find(n,v.matches(t))},v.max=function(n,t,r){var e,u,i=-1/0,a=-1/0;if(null==t&&null!=n){n=n.length===+n.length?n:v.values(n);for(var o=0,l=n.length;l>o;o++)e=n[o],e>i&&(i=e)}else t=v.iteratee(t,r),v.each(n,function(n,r,e){u=t(n,r,e),(u>a||u===-1/0&&i===-1/0)&&(i=n,a=u)});return i},v.min=function(n,t,r){var e,u,i=1/0,a=1/0;if(null==t&&null!=n){n=n.length===+n.length?n:v.values(n);for(var o=0,l=n.length;l>o;o++)e=n[o],i>e&&(i=e)}else t=v.iteratee(t,r),v.each(n,function(n,r,e){u=t(n,r,e),(a>u||1/0===u&&1/0===i)&&(i=n,a=u)});return i},v.shuffle=function(n){for(var t,r=n&&n.length===+n.length?n:v.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=v.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},v.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=v.values(n)),n[v.random(n.length-1)]):v.shuffle(n).slice(0,Math.max(0,t))},v.sortBy=function(n,t,r){return t=v.iteratee(t,r),v.pluck(v.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var d=function(n){return function(t,r,e){var u={};return r=v.iteratee(r,e),v.each(t,function(e,i){var a=r(e,i,t);n(u,e,a)}),u}};v.groupBy=d(function(n,t,r){v.has(n,r)?n[r].push(t):n[r]=[t]}),v.indexBy=d(function(n,t,r){n[r]=t}),v.countBy=d(function(n,t,r){v.has(n,r)?n[r]++:n[r]=1}),v.sortedIndex=function(n,t,r,e){r=v.iteratee(r,e,1);for(var u=r(t),i=0,a=n.length;a>i;){var o=i+a>>>1;r(n[o])<u?i=o+1:a=o}return i},v.toArray=function(n){return n?v.isArray(n)?l.call(n):n.length===+n.length?v.map(n,v.identity):v.values(n):[]},v.size=function(n){return null==n?0:n.length===+n.length?n.length:v.keys(n).length},v.partition=function(n,t,r){t=v.iteratee(t,r);var e=[],u=[];return v.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},v.first=v.head=v.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:l.call(n,0,t)},v.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},v.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:l.call(n,Math.max(n.length-t,0))},v.rest=v.tail=v.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},v.compact=function(n){return v.filter(n,v.identity)};var b=function(n,t,r,e){if(t&&v.every(n,v.isArray))return c.apply(e,n);for(var u=0,i=n.length;i>u;u++){var a=n[u];v.isArray(a)||v.isArguments(a)?t?o.apply(e,a):b(a,t,r,e):r||e.push(a)}return e};v.flatten=function(n,t){return b(n,t,!1,[])},v.without=function(n){return v.difference(n,l.call(arguments,1))},v.uniq=v.unique=function(n,t,r,e){if(null==n)return[];v.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=v.iteratee(r,e));for(var u=[],i=[],a=0,o=n.length;o>a;a++){var l=n[a];if(t)a&&i===l||u.push(l),i=l;else if(r){var c=r(l,a,n);v.indexOf(i,c)<0&&(i.push(c),u.push(l))}else v.indexOf(u,l)<0&&u.push(l)}return u},v.union=function(){return v.uniq(b(arguments,!0,!0,[]))},v.intersection=function(n){if(null==n)return[];for(var t=[],r=arguments.length,e=0,u=n.length;u>e;e++){var i=n[e];if(!v.contains(t,i)){for(var a=1;r>a&&v.contains(arguments[a],i);a++);a===r&&t.push(i)}}return t},v.difference=function(n){var t=b(l.call(arguments,1),!0,!0,[]);return v.filter(n,function(n){return!v.contains(t,n)})},v.zip=function(n){if(null==n)return[];for(var t=v.max(arguments,"length").length,r=Array(t);t-->0;)r[t]=v.pluck(arguments,t);return r},v.unzip=function(n){return v.zip.apply(null,n)},v.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},v.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=v.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}for(;u>e;e++)if(n[e]===t)return e;return-1},v.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=n.length;for("number"==typeof r&&(e=0>r?e+r+1:Math.min(e,r+1));--e>=0;)if(n[e]===t)return e;return-1},v.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var _=function(){};v.bind=function(n,t){var r,e;if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!v.isFunction(n))throw new TypeError("Bind must be called on a function");return r=l.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(l.call(arguments)));_.prototype=n.prototype;var u=new _;_.prototype=null;var i=n.apply(u,r.concat(l.call(arguments)));return v.isObject(i)?i:u}},v.partial=function(n){var t=l.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===v&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},v.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=v.bind(n[r],n);return n},v.memoize=function(n,t){var r=function(e){var u=r.cache,i=t?t.apply(this,arguments):e;return v.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},v.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},v.defer=function(n){return v.delay.apply(v,[n,1].concat(l.call(arguments,1)))},v.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var l=function(){o=r.leading===!1?0:v.now(),a=null,i=n.apply(e,u),a||(e=u=null)};return function(){var c=v.now();o||r.leading!==!1||(o=c);var f=t-(c-o);return e=this,u=arguments,0>=f||f>t?(clearTimeout(a),a=null,o=c,i=n.apply(e,u),a||(e=u=null)):a||r.trailing===!1||(a=setTimeout(l,f)),i}},v.debounce=function(n,t,r){var e,u,i,a,o,l=function(){var c=v.now()-a;t>c&&c>0?e=setTimeout(l,t-c):(e=null,r||(o=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,a=v.now();var c=r&&!e;return e||(e=setTimeout(l,t)),c&&(o=n.apply(i,u),i=u=null),o}},v.wrap=function(n,t){return v.partial(t,n)},v.negate=function(n){return function(){return!n.apply(this,arguments)}},v.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},v.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},v.before=function(n,t){var r;return function(){return--n>0?r=t.apply(this,arguments):t=null,r}},v.once=v.partial(v.before,2),v.keys=function(n){if(!v.isObject(n))return[];if(h)return h(n);var t=[];for(var r in n)v.has(n,r)&&t.push(r);return t},v.values=function(n){for(var t=v.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},v.pairs=function(n){for(var t=v.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},v.invert=function(n){for(var t={},r=v.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},v.functions=v.methods=function(n){var t=[];for(var r in n)v.isFunction(n[r])&&t.push(r);return t.sort()},v.extend=function(n){if(!v.isObject(n))return n;for(var t,r,e=1,u=arguments.length;u>e;e++){t=arguments[e];for(r in t)s.call(t,r)&&(n[r]=t[r])}return n},v.pick=function(n,t,r){var e,u={};if(null==n)return u;if(v.isFunction(t)){t=y(t,r);for(e in n){var i=n[e];t(i,e,n)&&(u[e]=i)}}else{var a=c.apply([],l.call(arguments,1));n=new Object(n);for(var o=0,f=a.length;f>o;o++)e=a[o],e in n&&(u[e]=n[e])}return u},v.omit=function(n,t,r){if(v.isFunction(t))t=v.negate(t);else{var e=v.map(c.apply([],l.call(arguments,1)),String);t=function(n,t){return!v.contains(e,t)}}return v.pick(n,t,r)},v.defaults=function(n){if(!v.isObject(n))return n;for(var t=1,r=arguments.length;r>t;t++){var e=arguments[t];for(var u in e)void 0===n[u]&&(n[u]=e[u])}return n},v.clone=function(n){return v.isObject(n)?v.isArray(n)?n.slice():v.extend({},n):n},v.tap=function(n,t){return t(n),n};var w=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof v&&(n=n._wrapped),t instanceof v&&(t=t._wrapped);var u=f.call(n);if(u!==f.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var a=n.constructor,o=t.constructor;if(a!==o&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1}for(var l=r.length;l--;)if(r[l]===n)return e[l]===t;r.push(n),e.push(t);var c,s;if(i){if(c=n.length,s=c===t.length)for(;c--&&(s=w(n[c],t[c],r,e)););}else{var p,h=v.keys(n);if(c=h.length,s=v.keys(t).length===c)for(;c--&&(p=h[c],s=v.has(t,p)&&w(n[p],t[p],r,e)););}return r.pop(),e.pop(),s};v.isEqual=function(n,t){return w(n,t,[],[])},v.isEmpty=function(n){if(null==n)return!0;if(v.isArray(n)||v.isString(n)||v.isArguments(n))return 0===n.length;for(var t in n)if(v.has(n,t))return!1;return!0},v.isElement=function(n){return!(!n||1!==n.nodeType)},v.isArray=p||function(n){return"[object Array]"===f.call(n)},v.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},v.each(["Arguments","Function","String","Number","Date","RegExp"],function(n){v["is"+n]=function(t){return f.call(t)==="[object "+n+"]"}}),v.isArguments(arguments)||(v.isArguments=function(n){return v.has(n,"callee")}),"function"!=typeof/./&&(v.isFunction=function(n){return"function"==typeof n||!1}),v.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},v.isNaN=function(n){return v.isNumber(n)&&n!==+n},v.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===f.call(n)},v.isNull=function(n){return null===n},v.isUndefined=function(n){return void 0===n},v.has=function(n,t){return null!=n&&s.call(n,t)},v.noConflict=function(){return n._=e,this},v.identity=function(n){return n},v.constant=function(n){return function(){return n}},v.noop=function(){},v.property=function(n){return function(t){return t[n]}},v.matches=function(n){var t=v.pairs(n),r=t.length;return function(n){if(null==n)return!r;n=new Object(n);for(var e=0;r>e;e++){var u=t[e],i=u[0];if(u[1]!==n[i]||!(i in n))return!1}return!0}},v.times=function(n,t,r){var e=Array(Math.max(0,n));t=y(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},v.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},v.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=v.invert(j),A=function(n){var t=function(t){return n[t]},r="(?:"+v.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};v.escape=A(j),v.unescape=A(x),v.result=function(n,t){if(null==n)return void 0;var r=n[t];return v.isFunction(r)?n[t]():r};var k=0;v.uniqueId=function(n){var t=++k+"";return n?n+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},E=/\\|'|\r|\n|\u2028|\u2029/g,S=function(n){return"\\"+F[n]};v.template=function(n,t,r){!t&&r&&(t=r),t=v.defaults({},t,v.templateSettings);var e=RegExp([(t.escape||O).source,(t.interpolate||O).source,(t.evaluate||O).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,a,o){return i+=n.slice(u,o).replace(E,S),u=o+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(t.variable||"obj","_",i)}catch(o){throw o.source=i,o}var l=function(n){return a.call(this,n,v)},c=t.variable||"obj";return l.source="function("+c+"){\n"+i+"}",l},v.chain=function(n){var t=v(n);return t._chain=!0,t};var M=function(n,t){return n._chain?v(t).chain():t};v.mixin=function(n){v.each(v.functions(n),function(t){var r=v[t]=n[t];v.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),M(this,r.apply(v,n))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];v.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],M(this,r)}}),v.each(["concat","join","slice"],function(n){var t=u[n];v.prototype[n]=function(){return M(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}).call(this)});
;define("base:widget/scroll-utils/scroll-utils.js",function(t,o,e){"use strict";var l={getScrollTop:function(t){return t.scrollTop()},getScrollBottom:function(t){var o=t.height(),e=Math.max(t[0].scrollHeight,o),l=t.scrollTop(),r=Math.max(e-l-o,0);return r},resolveHasScroll:function(t){return l.getScrollTop(t)>0||l.getScrollBottom(t)>0?!0:!1},getScrollBarWidth:function(){var t,o=document.createElement("div");return o.style.cssText="display:block;width:40px;height:40px;overflow-x:hidden;overflow-y:scroll;position:absolute;left:-20px;top:0px;",document.body.appendChild(o),t=o.offsetWidth-o.clientWidth,o.parentNode.removeChild(o),t}};e.exports=l});
;define("base:widget/mouse-utils/mouse-drag.js",function(e,t,n){var i=e("base:widget/scroll-utils/scroll-utils.js"),o=e("base:widget/libs/jquerypacket.js"),s=function(){var e={},t={},n=function(t){e.$mod=t,e.bindEvent(),e.$filesIco=o("<div>").css({position:"absolute",background:"url(/res/static/images/sprite_icon.gif?t=201301175055) 0px -1208px no-repeat",opacity:.5,"z-index":99999,width:"32px",height:"32px","font-size":"9px"}),e.$filesIco.html("<em>1</em>"),e.$filesIco.find("em").css({top:"14px",left:"19px",position:"relative",color:"#FFFFFF","font-size":"10px"})};return e.$mod=null,e.$filesIco=null,e.isMove=0,e.isCreateMisk=!1,e.createMisk=function(){e.$filesIco.appendTo(o("body")).show()},e.destoryMisk=function(){e.$filesIco.hide()},e.bindEvent=function(){var n=function(){return!1};e.$mod.bind("mousedown",function(s){if(1===s.which&&("function"!=typeof t.onStart||t.onStart(s))){var c=0;i.resolveHasScroll(e.$mod)&&(c=e.$mod.offset().left+e.$mod.outerWidth(),c-=i.getScrollBarWidth(e.$mod),s.clientX>c-5)||(o(document).bind("selectstart",n),e.isMove=!0,e.clientX=s.clientX,e.clientY=s.clientY)}}),o(document).bind("mouseup",function(){e.isMove&&(e.isMove=!1,e.destoryMisk(),"function"==typeof t.onDragEnd&&t.onDragEnd(),o(document).unbind("selectstart",n))}),o(document).bind("mousemove",function(n){var i,o,s,c,l,r,u;e.isMove&&(n.preventDefault(),s=32,c=32,i=n.clientX,o=n.clientY,r=n.clientX-e.clientX,u=n.clientY-e.clientY,l={top:o,left:i,width:s,height:c},e.$filesIco.css(l),(-10>r||r>10||-10>u||u>10)&&(e.isCreateMisk||e.createMisk(),"function"==typeof t.onSelect&&t.onSelect(l)))})},t.onSelect=function(){},t.onStart=function(){return!0},t.onDragEnd=function(){},t.setNum=function(t){t>=99&&(t=99),e.$filesIco.find("em").html(t||0)},n.apply(t,arguments),t};n.exports=s});
;define("base:widget/mouse-utils/mouse-selection.js",function(t,i,n){var e=(t("base:widget/scroll-utils/scroll-utils.js"),t("base:widget/libs/jquerypacket.js")),o=function(t){var i={},n={},o=function(t){i.$mod=t,i.bindEvent(),i.$misk=e("<div>").css({position:"absolute","background-color":"#8BBFF9",border:"1px solid #1362B4",opacity:.5,"z-index":99999})};return i.$mod=null,i.$misk=null,i.clientX=0,i.clientY=0,i.isMove=0,i.isStart=0,i.isCreateMisk=!1,i.createMisk=function(){i.$misk.appendTo(e("body")).show()},i.destoryMisk=function(){i.$misk.hide().css({height:0,width:0})},i.bindEvent=function(){var t=function(){return!1};i.$mod.bind("mousedown",function(e){1===e.which&&("function"!=typeof n.onStart||n.onStart(e))&&(i.$mod.bind("selectstart",t),i.isStart=!0,i.clientX=e.clientX,i.clientY=e.clientY)}),e(document).bind("mouseup",function(){return i.isMove?(i.isMove=!1,i.isStart=!1,i.destoryMisk(),"function"==typeof n.onEnd&&n.onEnd(),void i.$mod.unbind("selectstart",t)):void(i.isStart=!1)}),e(document).bind("mousemove",function(t){var e,o;if(i.isStart){e=t.clientX-i.clientX,o=t.clientY-i.clientY,!i.isMove&&(Math.abs(e)>5||Math.abs(o)>5)&&(i.isMove=!0);var s,c,r;i.isMove&&(t.preventDefault(),s=i.clientX,c=i.clientY,0>e&&(s+=e,e=-e),0>o&&(c+=o,o=-o),r={top:c,left:s,width:e,height:o},i.$misk.css(r),i.isCreateMisk||i.createMisk(),"function"==typeof n.onSelect&&n.onSelect(r))}})},n.onSelect=function(){},n.onStart=function(){return!0},n.onEnd=function(){},o.call(n,t),n};n.exports=o});
;define("base:widget/passAPI/passAPI.js",function(o,n,i){var e=o("base:widget/libs/jquerypacket.js"),s={},t="https:"===document.location.protocol?"https://passport.baidu.com/":"http://passport.bdimg.com/",a=s.PassLoginDialog=function(){};a._mLoginStatic=0,a.reload=!1,a.flagSendReport=!0,a.singleton=null;var l="";s.setDisplayUserName=function(o){l=o},a.obtain=function(){return a.singleton?a.singleton:a.singleton=new a},a.onLoginSuccessCallback=function(){window.disk&&window.disk.DEBUG&&console.log("login hide!")},a.onLoginHideCallback=function(){window.disk&&window.disk.DEBUG&&console.log("login hide!")};var c=s.PassBindMobileDialog=function(){};c.onBindSuccessCallback=function(){},c.onBindFailCallback=function(){},c.reload=!1;var p=e.ajax({async:!0,url:t+"passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),dataType:"script",success:function(){var o=encodeURIComponent(location.href);s.PassportInit=window.passport.pop.init({apiOpt:{staticPage:location.protocol+"//"+location.host+"/box-static/base/widget/passAPI/pass_v3_jump.html",product:"netdisk",subpro:"netdisk_web",u:location.href,memberPass:!0,safeFlag:0},cache:!1,registerLink:"https://passport.baidu.com/v2/?reg&regphone=1&tpl=netdisk&u="+o,authsite:["tsina","qzone","renren"],authsiteCfg:{act:"implicit"},onLoginSuccess:function(o){a.flagSendReport===!0?window.disk&&window.disk.sendBaiduLog("网盘弹框登录","web_dialog_login"):a.flagSendReport=!0,o.returnValue=a.reload,a.reload&&window.location.reload(),a.onLoginSuccessCallback(o)},onHide:function(){},onShow:function(){if(l){var o=e("#passport-login-pop");o.find("input[name='userName']").val(l),o.find("input[name='password']").val("").focus(),s.setDisplayUserName("")}},tangram:!0}),s.PassportInit.netdiskLogin=function(o){a.reload=o.reload,o.flagSendReport===!1&&(a.flagSendReport=o.flagSendReport),setTimeout(function(){s.PassportInit.show()},100)}}}),d={done:function(o){"function"==typeof o&&o()}};i.exports={promise:p,promiseBindMobile:d,passAPI:s}});
;define("base:widget/passAPI/wrapperPassAPI.js",function(s,o,n){var e=s("base:widget/libs/jquerypacket.js"),t={},a="https:"===document.location.protocol?"https://passport.baidu.com/":"http://passport.bdimg.com/",i=t.PassLoginDialog=function(){};i._mLoginStatic=0,i.reload=!1,i.flagSendReport=!0,i.singleton=null;var r="";t.setDisplayUserName=function(s){r=s},i.obtain=function(){return i.singleton?i.singleton:i.singleton=new i},i.onLoginSuccessCallback=function(){},i.onLoginHideCallback=function(){},i.onRenderCallback=function(){};var l=function(s){if(s&&"[object object]"===Object.prototype.toString.call(s).toLowerCase())var s=s;else var s={};return null!==l.promise?l.promise:l.promise=e.ajax({async:!0,url:a+"passApi/js/wrapper.js?cdnversion="+(new Date).getTime(),dataType:"script",success:function(){window.passport.use("login",{tangram:!0},function(o){t.PassportInit=new o.passport.login({product:s.product||"netdisk",staticPage:location.protocol+"//"+location.host+"/box-static/base/widget/passAPI/pass_v3_jump.html",subpro:"netdisk_web",u:location.href,isPhone:!1,sms:1,safeFlag:0,autosuggest:!1,defaultCss:!1,hasPlaceholder:!0,loginMerge:!0,memberPass:!0,hasFeedback:!0,hasRegUrl:!1}),t.PassportInit.on("loginSuccess",function(s){s.returnValue=!1,i.onLoginSuccessCallback(s)}),t.PassportInit.on("render",function(s){e(".module-pass-login-regLink").show(),i.onRenderCallback(s)}),t.PassportInit.render("login")})}})};l.promise=null,n.exports={loadPassLogin:l,passAPI:t}});
;define("base:widget/storage/storage.js",function(e,t,o){if("undefined"==typeof document||"undefined"==typeof document.body)throw new Error("Storage Module Need Document Availability");var a;if("undefined"!=typeof window.attachEvent&&"object"!=typeof window.localStorage){var n="_simulateLocalStorage",d=365,i=null,r=new Date;r.setDate(d+r.getDate()),i=document.createElement("input"),i.type="hidden",i.addBehavior("#default#userData"),document.body.appendChild(i),i.expires=r.toUTCString(),a={setItem:function(e,t){i.load(n),i.setAttribute(e,t),i.save(n)},getItem:function(e){return i.load(n),i.getAttribute(e)},removeItem:function(e){i.load(n),i.removeAttribute(e),i.save(n)},clear:function(){i.load(n);var e=new Date;e.setDate(e.getDate()-1),i.expires=e.toUTCString(),i.save(n)}}}else a=window.localStorage;o.exports=a});
;define("base:widget/tools/service/tools.browser.js",function(e,r,t){var i=window,s=i.document,o=null,a=null;t.exports={client:function(){if(o)return o;var e={ie:0,gecko:0,webkit:0,khtml:0,opera:0,ver:null},r={ie:0,firefox:0,safari:0,konq:0,opera:0,chrome:0,ver:null},t="",s=i.navigator.userAgent;if(i.opera)e.ver=i.opera.version(),e.opera=parseFloat(e.ver),t="opera"+e.opera;else if(/AppleWebKit\/(\S+)/.test(s))if(e.ver=RegExp.$1,e.webkit=parseFloat(e.ver),/Chrome\/(\S+)/.test(s))r.ver=RegExp.$1,r.chrome=parseFloat(r.ver),t="chrome"+r.chrome;else if(/Version\/(\S)/.test(s))r.ver=RegExp.$1,r.safari=parseFloat(r.ver),t="safari"+r.safari;else{var a=1;a=e.webkit<100?1:e.webkit<312?1.2:e.webkit<412?1.3:2,r.safari=r.ver=a,t="safari"+r.safari}else/KHTML\/(\S+)/.test(s)||/Konqueror\/(\S+)/.test(s)?(e.ver=RegExp.$1,e.khtml=parseFloat(e.ver)):/rv:([^\)]+)[)] Gecko\/\d{8}/.test(s)?(e.ver=RegExp.$1,e.gecko=parseFloat(e.ver),/Firefox\/(\S)/.test(s)&&(r.ver=RegExp.$1,r.firefox=parseFloat(r.ver),t="firefox"+r.firefox)):/MSIE\s([^;]+)/.test(s)?(e.ver=RegExp.$1,e.ie=parseFloat(e.ver),t="ie"+e.ie):/WOW64\;\sTrident\/7.0/i.test(s)&&(e.ver=11,e.ie=11,t="ie11");return r.ie=e.ie,r.opera=e.opera,o={engine:e,browser:r,browserString:t}},os:function(){if(a)return a;var e=navigator.userAgent;return/windows\s/i.test(e)?a="windows":/iphone/i.test(e)?a="ios":/ipad/i.test(e)?a="ios":/mac\sos\s/i.test(e)?a="mac":/android\s/i.test(e)?a="android":/linux/i.test(e)?a="linux":/unix/i.test(e)&&(a="unix"),a},css3Support:function(e){var r=s.createElement("div"),t="Khtml O Moz Webkit".split(" "),i=t.length;if(e in r.style)return!0;if("-ms-"+e in r.style)return!0;for(e=e.replace(/^[a-z]/,function(e){return e.toUpperCase()});i--;)if(t[i]+e in r.style)return!0;return!1}}});
;define("base:widget/tools/service/tools.cookie.js",function(e,o,t){var i=window,n=i.document,c=i.decodeURI;t.exports={setCookie:function(e,o,t,i,c){var s=new Date,a="",r="";s.setDate(s.getDate()+t),c&&(a=";domain="+c),i&&(r=";path="+i),n.cookie=e+"="+escape(o)+(null==t?"":";expires="+s.toGMTString())+r+a},getCookie:function(e){var o,t;return n.cookie.length>0&&(o=n.cookie.indexOf(e+"="),-1!=o)?(o=o+e.length+1,t=n.cookie.indexOf(";",o),-1==t&&(t=n.cookie.length),c(n.cookie.substring(o,t))):""}}});
;define("base:widget/tools/service/tools.date.js",function(e,t,n){var g=window,o=g.String,i=g.Date,r=e("base:widget/libs/underscore.js");n.exports={toDateString:function(){var e=new i,t=e.getMonth()+1,n=e.getDate(),g=e.getHours(),r=e.getMinutes();return e.getFullYear()+"-"+(o(t).length<2?"0"+t:t)+"-"+(o(n).length<2?"0"+n:n)+" "+(o(g).length<2?"0"+g:g)+":"+(o(r).length<2?"0"+r:r)},parseDate:function(e){var t,n;return t=new i(1e3*e),n=[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()],r.each(n,function(e,t){9>=e&&(n[t]="0"+e)}),n=n.slice(0,3).join("-")+" "+n.slice(3,5).join(":")}}});
;define("base:widget/tools/service/tools.event.js",function(e,n,t){t.exports={mouseWheel:function(e,n,t){var o=function(e){var e=e||window.event||arguments[0],o=0;e.wheelDelta?o=-e.wheelDelta/120:e.detail&&(o=e.detail/3),o&&("string"==typeof t||t instanceof String?n(o>0?!0:!1):("number"==typeof t||t instanceof Number)&&n(o*t)),e.preventDefault?e.preventDefault():e.returnValue=!1};"undefined"!=typeof window.attachEvent?e.attachEvent("onmousewheel",o):"onmousewheel"in window?e.onmousewheel=o:"undefined"!=typeof window.addEventListener&&e.addEventListener("DOMMouseScroll",o,!1)}}});
;define("base:widget/tools/service/tools.flash.js",function(require,exports,module){var win=window,String=win.String,Date=win.Date;module.exports={getFlashVersion:function(){var f=null,n=navigator;if(n.plugins&&n.plugins.length){for(var ii=0,len=n.plugins.length;len>ii;ii++)if(-1!=n.plugins[ii].name.indexOf("Shockwave Flash")){f=n.plugins[ii].description.split("Shockwave Flash ")[1];break}}else if(window.ActiveXObject)for(var ii=11;ii>=2;ii--)try{var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if(fl){f=ii+".0";break}}catch(e){}return f}}});
;define("base:widget/tools/service/tools.format.js",function(e,t,o){o.exports={toFriendlyFileSize:function(e,t){return t&&"number"==typeof e&&(e/=8),"number"==typeof e||"string"==typeof e&&/^[\d\.]+$/.test(e)?1024>e?Math.round(e)+"B":1048576>e&&e>=1024?Math.round(e/1024)+"KB":1073741824>e&&e>=1048576?10*(e/1024/1024).toFixed(1)/10+"M":100*(e/1024/1024/1024).toFixed(2)/100+"G":"-"}}});
;define("base:widget/tools/service/tools.html.js",function(e,t,c){c.exports={encodeHTML:function(e){return"string"!=typeof e&&(e=""),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},selectTextField:function(e,t,c){var a;e.createTextRange?(a=e.createTextRange(),a.collapse(!0),a.moveStart("character",t),a.moveEnd("character",c),a.select()):e.setSelectionRange?e.setSelectionRange(t,c):e.selectionStart&&(e.selectionStart=t,e.selectionEnd=c),e.focus()}}});
;define("base:widget/tools/service/tools.object.js",function(r,t,o){o.exports={cloneObject:function(r){var t=r.constructor===Array?[]:{};for(var o in r)r.hasOwnProperty(o)&&(t[o]="object"==typeof r[o]?this.cloneObject(r[o]):r[o]);return t},isArray:function(r){return Array.isArray?Array.isArray(r):"[object Array]"===Object.prototype.toString.call(r)}}});
;define("base:widget/tools/service/tools.observer.js",function(e,o,r){var t=function(o){var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(r||(e("base:widget/libs/MutationObserver.js"),r=window.MutationObserver),"object"!=typeof o)throw new Error("[Observer error]: config is not a object");if(!o.target)throw new Error("[Observer error]: please add the observer dom");if("object"!=typeof o.options)throw new Error("[Observer error]: please point the Specific change");this.observer=new r(o.callback||function(e){for(var o=0,r=e.length;r>o;o++){var t=e[o];console.log("Mutation type: "+t.type),console.log("Mutation target: "+t.target)}}),this.observer.observe(o.target,o.options)};t.prototype.disconnect=function(){this.observer.disconnect()},t.prototype.takeRecords=function(){this.Observer.takeRecords()},r.exports.observerDom=t});
;define("base:widget/tools/service/tools.path.js",function(t,e,n){n.exports={parseDirPath:function(t){return t.substring(t.indexOf(":/")+1)},parseRootDir:function(t){return t.length<2?"/":(t=t.slice(1),t=t.slice(0,t.indexOf("/")),"/"+t)},isRootDir:function(t){return 0===t.lastIndexOf("/")?!0:!1},parseDirFromPath:function(t,e){if(t.lastIndexOf("/")===t.length-1){if(e)return"";t=t.substring(0,t.lastIndexOf("/"))}var n=t.substring(t.lastIndexOf("/")+1);return""===n&&(n="/"),n},parseFullDirFromPath:function(t){return t.substring(0,t.lastIndexOf("/"))},parseParentPath:function(t){var e=t.lastIndexOf("/");return e+1===t.length&&(t=t.substring(0,e),e=t.lastIndexOf("/")),t.substring(0,e+1)},getFileCategory:function(t){return-1!==t.lastIndexOf(".")?t.substring(t.lastIndexOf(".")+1).toLowerCase():void 0},PARTICULAR_DIR_MAP:{"/apps":"/我的应用数据","/百度云收藏":"/百度云收藏","/来自PC的备份文件":"/来自PC的备份文件","/我的分享":"/我的分享","/我的作品":"/我的作品"},sliceDir:function(t){return"/"==t&&(t=""),t.split("/")},getNormalizedPath:function(t,e){var n=this.PARTICULAR_DIR_MAP,r=n[t],i=r;if("undefined"==typeof r){var s=this.sliceDir(t),a="/"+s[1],u=n[a];i="undefined"!=typeof u?t.replace(a,u):t}return e===!0?this.parseDirFromPath(i):i}}});
;define("base:widget/tools/service/tools.string.js",function(t,r,e){e.exports={len:function(t){var r=/[^\x00-\xFF]/g;return t.replace(r,"..").length},trim:function(t){return t.replace(/^\s+|\s+$/gi,"")},chineseSubstr:function(t,r,e){for(var n,c=/[^\x00-\xFF]/g,a=0;r>a;)a++&&t.charAt(a).match(c)&&r--;for(a=r,n=r+e;n>a;)a++&&t.charAt(a).match(c)&&n--;return t.substring(r,n)},toEntity:function(t){return t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},padStart:function(t,r,e){t=String(t);var n=-1;for(e||0===e||(e=" "),r-=t.length;++n<r;)t=e+t;return t}}});
;define("base:widget/tools/service/tools.tmpl.js",function(e,t,s){var o=e("base:widget/libs/underscore.js");s.exports={tmpl:function(e,t){return o.template(e,t)}}});
;define("base:widget/tools/service/tools.url.js",function(e,t,o){var n=window,r=n.location,R=n.RegExp;o.exports={getParam:function(e,t){var o,n;return o=new R("(?:^|\\?|#|&)"+e+"=([^&#]*)(?:$|&|#)","i"),n=o.exec(t||r.href),n?encodeURI(n[1]):""},setParam:function(e,t,o){var n,i;return n=new R("(?:^|\\?|#|&)"+e+"=([^&#]*)(?:$|&|#)","i"),i=n.exec(o||r.href),null!=i?o.replace(i[1],t):null},URL_PROTOCOL:1,URL_PORT:2,URL_HOST:3,URL_PRIMARY:4,URL:5,getURLComponent:function(e,t){return t=t||r,e===this.URL_PROTOCOL?t.protocol:e===this.URL_PORT?t.port:e===this.URL_HOST?t.host:e===this.URL_PRIMARY?t.protocol+"//"+t.host:null}}});
;define("base:widget/tools/tools.js",function(e,s,t){var o=e("base:widget/libs/jquerypacket.js"),i={};o.extend(i,e("base:widget/tools/service/tools.browser.js")),o.extend(i,e("base:widget/tools/service/tools.cookie.js")),o.extend(i,e("base:widget/tools/service/tools.date.js")),o.extend(i,e("base:widget/tools/service/tools.flash.js")),o.extend(i,e("base:widget/tools/service/tools.format.js")),o.extend(i,e("base:widget/tools/service/tools.html.js")),o.extend(i,e("base:widget/tools/service/tools.path.js")),o.extend(i,e("base:widget/tools/service/tools.string.js")),o.extend(i,e("base:widget/tools/service/tools.object.js")),o.extend(i,e("base:widget/tools/service/tools.tmpl.js")),o.extend(i,e("base:widget/tools/service/tools.url.js")),o.extend(i,e("base:widget/tools/service/tools.event.js")),o.extend(i,e("base:widget/tools/service/tools.observer.js")),t.exports=i});define("system-core:data/faceData.js",function(e,t,n){var o={},i={};o.interface=[],o.button={},o.fileIcon={},o.contextMenu={file:[],blank:[],share:[]},o.checkButtonType=function(e,t){if(void 0===o.button[e])throw new Error("[Plugin declare error] [Button Plugin]: The buttons/position of "+t+' is must be "aside-bottom" or "aside-middle" or "tools" or "listTools" or "list" !')},i.pushInterfacePosition=function(e,t){var n=t;n.pluginId=e,o.interface.push(n)},i.pushButtonFuntion=function(e,t,n){var i=t;if(i.length)for(var u=0,f=i.length;f>u;u++){i[u].pluginId=e;var l=i[u].position;o.button[l]&&(n&&(i[u].filesType=n.replace(/\*\.|\./g,"")),o.button[l].push(i[u]),delete i[u].position)}else if("object"==typeof i){var l=i.position;o.button[l]&&(n&&(i.filesType=n.replace(/\*\.|\./g,""),i.filesType=n.replace(/\*\.|\./g,"")),o.button[l].push(i),delete i.position)}},i.pushFileHandle=function(e,t){if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&"undefined"==typeof o.fileIcon[n]&&(o.fileIcon[n]=t[n])},i.pushContextMenu=function(e,t){var n=function(t){t.pluginId=e,"object"==typeof t&&"undefined"==typeof t.length?"string"==typeof t.title&&("file"===t.type?(delete t.type,o.contextMenu.file.push(t)):(delete t.type,o.contextMenu.blank.push(t)),"share"===t.product&&(delete t.product,o.contextMenu.share.push(t))):t.length&&("undefined"!=typeof t[0].index&&(t.index=t[0].index),"file"===t[0].type?(delete t[0].type,o.contextMenu.file.push(t)):(delete t[0].type,o.contextMenu.blank.push(t)))};if("object"==typeof t&&"undefined"==typeof t.length)n(t);else if(t.length)if(1===t.length&&"string"==typeof t[0].title)n(t);else for(var i=0,u=t.length;u>i;i++)n(t[i])},i.setButtonContainer=function(e){if(e&&e.length){o.button={};for(var t=0,n=e.length;n>t;t++)o.button[e[t]]=[]}},i.getData=function(){return{"interface":o.interface,button:o.button,getButton:function(e){return"string"==typeof e&&o.button[e]?o.button[e]:[]},buttonMap:o.buttonMap,fileIcon:o.fileIcon,contextMenu:o.contextMenu}},n.exports=i});
;define("system-core:data/regedit.js",function(e,n,t){var r=function(e){var n=e.constructor===Array?[]:{};for(var t in e)e.hasOwnProperty(t)&&(n[t]="object"==typeof e[t]?r(e[t]):e[t]);return n},i={},l={};i.nameHash={},i.otherInfo={},i.fileHandle={},i.defaultFileHandle={},i.plugin={},i.preload=[],i.autoExecute=[],i.randomID=function(){var e=String.fromCharCode(i.prefix++);i.prefix>90&&(i.prefix=65);for(var n=0,t=12;t>n;n++)e+=Math.random()>.5?Math.floor(10*Math.random()):String.fromCharCode(Math.floor(26*Math.random()+65));return e},i.prefix=65,i.handleFile=function(e,n,t){if("undefined"==typeof t)return void(i.fileHandle._?i.fileHandle._.push(e):i.fileHandle._=[e]);if("string"==typeof t){if("*"===t)return void(i.fileHandle["*"]?i.fileHandle["*"].push(e):i.fileHandle["*"]=[e]);t=t.replace(/\"|\.|\*/g,"").split(",")}if("object"==typeof t&&t.length)for(var r=0,l=t.length;l>r;r++)i.fileHandle[t[r]]?i.fileHandle[t[r]].push(e):i.fileHandle[t[r]]=[e],2!=n||i.defaultFileHandle[t[r]]||(i.defaultFileHandle[t[r]]=e)},i.getPluginIdsByExtension=function(e){if("object"==typeof e&&e.length&&"undefined"!=typeof i.fileHandle[e[0]]){for(var n=i.fileHandle[e[0]],t=n.length,l=1,a=e.length;a>l;l++){if("undefined"==typeof i.fileHandle[e[l]]){n=null;break}i.fileHandle[e[l]].length<t&&(n=i.fileHandle[e[l]],t=t.length)}if(n){n=r(n);for(var o=0,f=n.length;f>o;o++)for(var u=0,d=e.length;d>u;u++){var p=i.plugin;if(-1===p[n[o]].filesType.indexOf(e[u])||-1===p[n[o]].type.indexOf("2")){n.splice(o,1),--o,f=n.length;break}}}return n}return null},i.getPluginsByIds=function(e){var n=[];if("object"==typeof e&&e.length)for(var t=0,r=e.length;r>t;t++)n.push(i.plugin[e[t]]);return n},l.register=function(e,n){var t=i.randomID(),r=e.name,l=e.group;if("string"!=typeof l||"string"!=typeof r)throw"[PLUGIN REGISTER ERROR] `name` and `group` for plugin "+r+" is nessary!";return i.nameHash[l]=i.nameHash[l]||{},i.nameHash[l][r]=t,i.plugin[t]={pluginId:t,name:r,loaded:!1,type:e.type,filesType:e.filesType,entranceFile:e.entranceFile},i.otherInfo[t]={group:l,depsFiles:e.depsFiles,description:e.description,version:e.version,supportManage:e.supportManage===!1||"false"===e.supportManage?!1:!0},n?void 0:(i.handleFile(t,e.type,e.filesType),e.preload===!0&&i.preload.push(e),e.autoExecute===!0&&i.autoExecute.push(e),t)},l.getAllPlugins=function(){var e=[];for(var n in i.plugin)i.plugin.hasOwnProperty(n)&&e.push(i.plugin[n]);return e},l.getPluginById=function(e){return void 0===i.plugin[e]?null:i.plugin[e]},l.getPluginByNameAndGroup=function(e,n){var t;if("string"!=typeof e)throw new Error("[regedit.js] The plugin name is must be a string !");var r=e.match(/^(.+)\@(([\w\-]+\.)+[\w\-]+)$/);return void 0===n&&r&&(e=r[1],n=r[2]),t=i.nameHash[n]&&i.nameHash[n][e],this.getPluginById(t)},l.getPluginsByExtension=function(e){var n=i.fileHandle["*"];"string"==typeof e&&(e=e.replace(/\"|\.|\*/g,"").split(","));for(var t=i.getPluginIdsByExtension(e),r=[],l=0,a=n.length;a>l;l++)-1!==i.plugin[n[l]].type.indexOf("2")&&r.push(n[l]);return null!==t&&(r=r.concat(t)),i.getPluginsByIds(r)},l.getDefaultPluginIdByExtension=function(e){return e=e.replace(/\"|\.|\*/g,""),i.defaultFileHandle[e]?i.defaultFileHandle[e]:i.fileHandle[e]&&i.fileHandle[e][0]},l.getOtherInfoById=function(e){return void 0===i.otherInfo[e]?null:i.otherInfo[e]},l.getAutoExecutePlugins=function(){return i.autoExecute},l.getPreloadPlugins=function(){return i.preload},t.exports=l});
;define("system-core:pluginControl/loader/loader.js",function(n,e,t){var i=!1,l=n("system-core:context/context.js"),o=n("system-core:data/regedit.js"),s=n("base:widget/libs/underscore.js"),u=n("system-core:system/baseService/message/message.js"),a={},g={};a.pluginContextMap={},a.loadDepsFilesAndEntranceFile=function(e,t){var i,l=[],u=[],a=function(){n.async(e.entranceFile,function(n){e.loaded=!0,s.isFunction(t)===!0&&t(n)})};if(e.loaded===!0)a();else{if(i=o.getOtherInfoById(e.pluginId).depsFiles,""===i||void 0===i)return void a();if("string"==typeof i)/^.+\.css$/.test(i)===!0?l.push(i):/^.+\.js$/.test(i)===!0&&u.push(i);else if("object"==typeof i&&i.length)for(var g=0,c=i.length;c>g;g++)/^.+\.css$/.test(i[g])===!0?l.push(i[g]):/^.+\.js$/.test(i[g])===!0&&u.push(i[g]);0===l.length&&0===u.length?a():0!==l.length&&0===u.length?n.loadCss(l,function(){a()}):0===l.length&&0!==u.length?n.async(u,function(){a()}):0!==l.length&&0!==u.length&&n.loadCss(l,function(){n.async(u,function(){a()})})}},a.loadPlugin=function(n,e){a.loadDepsFilesAndEntranceFile(n,function(t){var i;if(a.pluginContextMap[n.pluginId]?i=a.pluginContextMap[n.pluginId]:(i=new l,a.pluginContextMap[n.pluginId]=i),e&&e.run&&t[e.run]){var o=e.run;delete e.run,t[o]&&t[o].call(void 0,i,e,n)}else t.start&&t.start.call(void 0,i,e,n)})},a.initAutoExcutePlugins=function(){for(var n=o.getAutoExecutePlugins(),e=0,t=n.length;t>e;e++)a.loadPlugin(n[e])},a.initPreloadPlugins=function(){for(var n=o.getPreloadPlugins(),e=0,t=n.length;t>e;e++)a.loadDepsFilesAndEntranceFile(n[e])},a.init=function(n){n&&n.canAutoExecute!==!1&&(a.initAutoExcutePlugins(),setTimeout(function(){a.initPreloadPlugins()},1e3))},u.manage(function(n,e){var t,l,s;"string"==typeof n&&n.match(/^plugin\:[A-Z0-9]+$/)?(t=n.match(/^plugin\:([A-Z0-9]+)$/),null!==t&&(t=t[1],l=o.getPluginById(t),i&&console.log("[PLUGIN LOADER ERROR] can not find plugin for the id `"+t+"`"))):"string"==typeof n&&n.match(/^plugin\:.+\@([\w\-]+\.)+[\w\-]+$/)&&(s=n.match(/^plugin\:(.+)$/),null!==s&&(s=s[1],l=o.getPluginByNameAndGroup(s),i&&console.log("[PLUGIN LOADER ERROR] can not find plugin for the name `"+s+"`"))),l&&a.loadPlugin(l,e)}),u.listen("manage-plugin",function(){n.async("system-core:pluginControl/manage/manage.js",function(n){n.show()})}),g.init=function(n){a.init(n||{})},t.exports=g});
;define("system-core:pluginControl/register/register.js",function(e,n,t){var r=e("system-core:data/faceData.js"),o=e("system-core:data/regedit.js"),i=e("base:widget/storage/storage.js"),a=e("base:widget/tools/tools.js"),u=window.manifest,c={},s={};c.conf={},c.browser=function(){return a.client().browserString}(),c.initInterfacePosition=function(e){r.pushInterfacePosition(e.pluginId,e.interface)},c.initButtonFuntion=function(e){var n=e.buttons;if(!n)throw new Error("[Plugin declare error] [Button Plugin]: The buttons of "+e.name+" is must !");if("object"!=typeof n&&$.isArray(n)===!1)throw new Error("[Plugin declare error] [Button Plugin]: The buttons of "+e.name+" must be an object or array !");r.pushButtonFuntion(e.pluginId,e.buttons,e.filesType,e)},c.initFileHandle=function(e){if(e.filesIcon){var n=e.filesIcon;if("object"!=typeof n)throw new Error("[Plugin declare error] [FileHandle Plugin]: The filesIcon of "+e.name+" must be an object !")}r.pushFileHandle(e.pluginId,e.filesIcon)},c.initContextMenu=function(e){r.pushContextMenu(e.pluginId,e.contextMenu)},c.initEmptyPlugin=function(){},c.checkUtil=function(){var e={};return e.checkName=function(e){if(!e)throw new Error("[Plugin declare error]: The name of plugin is must !");if("string"!=typeof e)throw new Error("[Plugin declare error]: The name of plugin must be a string !")},e.checkType=function(e){var n=e.type;if("undefined"==typeof n||null===n)throw new Error("[Plugin declare error]: The type of plugin is must !");if("string"!=typeof n&&"number"!=typeof n&&("object"!=typeof n||void 0===n.length))throw new Error("[Plugin declare error]: The type of ` "+e.name+" must be an string or array !")},e.checkEntanceFile=function(e){var n=e.entranceFile;if(!n)throw new Error("[Plugin declare error]: The entranceFile of "+e.name+" is must !");if("string"!=typeof n)throw new Error("[Plugin declare error]: The entranceFile of "+e.name+" must be a string !")},e.checkVersion=function(e){var n=/^\d{1,2}\.\d{1,2}$/,t=/^\d{1,2}\.\d{1,2}\.\d{1,2}$/,r=e.version;if(n.test(r)!==!0&&t.test(r)!==!0)throw new Error("[Plugin declare error]: The version of ` "+e.name+" must like 88.88 or 88.88.88 !")},e.checkBoolean=function(e,n){if("boolean"!=typeof e[n])throw new Error("[Plugin declare error]: The "+n+" of ` "+e.name+" must be a boolean !")},e}(),c.initPlugin=function(n){if(n){var t=c.checkUtil;if(i){var r=i.getItem("pan_plugin_cursor");if(r===n.cursor)return}for(var a=0,u=n.length;u>a;a++){var s=n[a];if(t.checkName(s.name),t.checkType(s),"string"==typeof s.notSupport){var l=c.browser.match(/[a-zA-Z]+/);if(l&&(l=new RegExp("(^|,)"+l[0]+"(,|$)")),-1!==s.notSupport.indexOf(c.browser)||l.test(s.notSupport))continue}s.version&&t.checkVersion(s),s.preload&&t.checkBoolean(s,"preload"),s.autoExecute&&t.checkBoolean(s,"autoExecute");var f=!1;if("false"===i.getItem("plugin-"+s.name+"-"+s.group)&&(f=!0),/^\-\d$/.test(s.type)===!1){var g=o.register(s,f);s.pluginId=g}if(!f){var p="string"==typeof s.type?s.type.split(","):s.type;if(p.length)for(var h=0,d=p.length;d>h;h++){var m=p[h];switch(m){case 0:case"0":c.initInterfacePosition(s);break;case 1:case"1":c.initButtonFuntion(s);break;case-2:case"-2":case 2:case"2":c.initFileHandle(s);break;case 3:case"3":c.initEmptyPlugin(s);break;default:throw new Error("[register] The manifest.json of plugin must has type!")}}"object"==typeof s.contextMenu&&c.initContextMenu(s)}}e.async("system-core:pluginControl/loader/loader.js",function(e){e.init(c.conf)})}},s={setButtonContainer:function(e){e&&e.length&&r.setButtonContainer(e)},getFaceData:function(){return r.getData()},getPluginData:function(){return o},init:function(e){c.conf=e||{},c.initPlugin(u)}},t.exports=s});
;define("system-core:pluginControl/manage/manage.js",function(e,t,a){var i=(e("system-core:data/faceData.js"),e("system-core:data/regedit.js")),s=e("base:widget/libs/jquerypacket.js"),n=e("base:widget/storage/storage.js"),l=(e("base:widget/tools/tools.js"),e("system-core:context/context.js").instanceForSystem),o={config:{dialog:null},node:{},templ:{},uiEvent:function(){o.config.dialog.delegate(".operate","click",function(){var e=s(this).siblings(".title").data("name"),t=s(this).siblings(".title").data("group");s(this).hasClass("enable")?(n.setItem("plugin-"+e+"-"+t,"false"),s(this).closest(".one-plugin").addClass("enable-false"),s(this).removeClass("enable").addClass("disable").text("启用")):(n.removeItem("plugin-"+e+"-"+t),s(this).closest(".one-plugin").removeClass("enable-false"),s(this).removeClass("disable").addClass("enable").text("禁用"))})},util:{getPluginInfo:function(){var e=i.getAllPlugins();return e},storeStorage:function(){},getContent:function(){for(var e='<div class="attention">注意：设置后刷新浏览器起效</div><ul class="all-plugins">',t=o.util.getPluginInfo(),a=0,s=t.length;s>a;a++){var l=i.getOtherInfoById(t[a].pluginId);if(l.supportManage!==!1){var g=!0;"false"===n.getItem("plugin-"+t[a].name+"-"+l.group)&&(g=!1),e+='<li class="one-plugin enable-'+g+'">',e+='<div class="title" data-group="'+l.group+'" data-name="'+t[a].name+'">'+t[a].name+"</div>",e+='<div class="desc">'+l.description+"</div>",e+=g?'<a class="operate enable" href="javascript:;">禁用</a>':'<a class="operate disable" href="javascript:;">启用</a>',e+="</li>"}}return e+="</ul>"},initData:function(){o.config.dialog=l.ui.window({id:"plugin-manage",title:"插件管理器",width:600,height:"60%",body:o.util.getContent()})}},init:function(){this.util.initData(),this.uiEvent()}},g={show:function(){o.config.dialog.show()},hide:function(){o.config.dialog.hide()}};o.init(),a.exports=g});
;define("system-core:system/baseService/message/message.js",function(e,t,s){var n=e("base:widget/libs/underscore.js"),i="quota-change",r=function(){this.events={}};r.prototype={constructor:r,_define:function(e){"string"==typeof e&&(this.exist(e)||(this.events[e]={handlers:[]}))},exist:function(e){return this.events[e]?!0:!1},listen:function(e,t){if("string"!=typeof e)throw new Error("[message] The eventName must be a string !");this.exist(e)||this._define(e),"function"==typeof t&&this.events[e].handlers.push(t)},remove:function(e){this.exist(e)&&(this.events[e].handlers=[])},trigger:function(){var e=/^plugin\:.+$/;return function(t){if(e.test(t)===!0)return void r.doPlugins(t);if(this.exist(t)===!1)return void r.doPlugins(arguments);for(var s=this.events[t].handlers,n=[].slice.call(arguments,1),i=0,o=s.length;o>i;i++)s[i].apply(void 0,n)}}(),callPlugin:function(e,t){if("string"!=typeof e)throw new Error("[message] The pluginName must be a string !");r.trigger("plugin:"+e,t)},callSystem:function(e,t){if("string"!=typeof e)throw new Error("[message] The systemServiceName must be a string !");r.trigger(e,t)},listenSystem:function(e,t){if("string"!=typeof e||-1===i.indexOf(e))throw new Error("[message] Permission denied or the event name is error!");r.listen(e,t)}},n.extend(r,r.prototype,{events:{},pluginHandlers:[],checkFormatKey:function(e){var t,s;if(/_/g.test(e)===!0)throw new Error('[message.define] the key should not use "_"');if(/-/g.test(e)===!1)throw new Error('[message.define] the key should use "moduleName-method[-method[-method]]"');if(t=e.split("-"),s=t.shift(),/^[a-zA-Z]+$/.test(s)===!1)throw new Error('[message.define] the key should use "moduleName-method[-method[-method]]"');for(var n=0,i=t.length;i>n;n++)if(/^[a-z]+$/.test(t[n])===!1)throw new Error('[message.define] the key should use "moduleName-method[-method[-method]]"');return!0},doPlugins:function(e){var t=this.pluginHandlers;if(0!==t.length)for(var s=0,n=t.length;n>s;s++)t[s].apply(void 0,e)},trigger:function(e){if(this.exist(e)===!1)return void this.doPlugins(arguments);for(var t=this.events[e].handlers,s=[].slice.call(arguments,1),n=0,i=t.length;i>n;n++)t[n].apply(void 0,s)},manage:function(e){"function"==typeof e&&this.pluginHandlers.push(e)}}),s.exports=r});
;define("system-core:system/uiService/log/log.js",function(require,exports,module){function Log(e){var e=e||{};this.url=e.url||"/api/analytics",this.logObjectName=e.logObjectName||"fe_log_",this.sendBaseParamTag=!0,this.baseParam={clienttype:0},this.UrlLength=900,this.data=null,this.eventData={},this.ajaxData={},this.mixData={},this.init()}var $=require("base:widget/libs/jquerypacket.js"),tools=require("base:widget/tools/tools.js");Log.mid=1,Log.globalInit=0,Log.prototype={init:function(){var e=this;$(document).ajaxComplete(function(t,a,o){e._ajaxCallback(t,o,a)})},_addMid:function(e,t){return"[object object]"===Object.prototype.toString.call(e).toLowerCase()?(e.mid=t||1,e):"[object string]"===Object.prototype.toString.call(e).toLowerCase()?{name:e,mid:t||1}:void 0},_checkLogExist:function(e){if(e&&"[object object]"!==Object.prototype.toString.call(e).toLowerCase())throw new Error("[Log declare error]: The data of log must be a object !");if(e.name){var t=e.name||"";return this.mixData[t]?!0:!1}throw new Error("[Log declare error]: The name of log must !")},_checkData:function(e){if(e&&"[object object]"!==Object.prototype.toString.call(e).toLowerCase())throw new Error("[Log declare error]: The data of log must be a object !")},_sendServerLog:function(e){var t,a=e.url||this.url,o=(new Date).getTime(),n={};if(this.sendBaseParamTag)for(t in this.baseParam)n[t]="function"==typeof this.baseParam[t]?this.baseParam[t]():this.baseParam[t];var i={};for(t in e)"url"!==t&&(i[t]="function"==typeof e?e[t]():e[t]);for(var r=this._getRequestUrl(o,a,n,i),s=0,l=r.length;l>s;s++)this._request(o,s,r[s])},_request:function(e,t,a){var o=this.logObjectName+"_"+e+"_"+t;window[o]=new Image;var n=window[o];n.onload=n.onerror=function(){window[o]=null},n.src=a,n=null},_getRequestUrl:function(e,t,a,o){var n,i=[],r=[];if(a)for(n in a)r.push(n+"="+a[n]);r=r.join("&"),r=""===r?"":"&"+r;var s=t+"?_lsid="+e+"&_lsix=1"+r,l=1;for(n in o)if("[object Array]"===Object.prototype.toString.apply(o[n])){for(var c=o[n],u=[],g=s.length+n.length+2,d=0,p=c.length;p>d;d++)g+=c[d].length+1,g>this.UrlLength?(i.push(s+"&"+n+"="+u.join()),l++,u=[],g=s.length+n.length+2,s=t+"?_lsid="+e+"&_lsix="+l+r,d--):u.push(c[d]);u.length>0&&(s+="&"+n+"="+u.join())}else s.length+n.length>this.UrlLength&&(i.push(s),l++,s=t+"?_lsid="+e+"&_lsix="+l+r),s+="&"+n+"="+o[n];return i.push(s),i},_ajaxCallback:function(e,conf,data){var $self=this,conf=conf||{},data=data||{},httpStatus,responseData={},url=conf.url,result={},time=0,sendServerLog=!1,endTime=(new Date).getTime(),configItem,value;for(var i in $self.ajaxData)if(url.indexOf(i)>-1){url=i;break}configItem=$self.ajaxData[url],configItem&&(httpStatus=data.status,"[object string]"===Object.prototype.toString.call(data.responseText).toLowerCase()?responseData=$.parseJSON(data.responseText)?$.parseJSON(data.responseText):eval("("+data.responseText+")"):"[object object]"===Object.prototype.toString.call(data.responseText).toLowerCase()&&(responseData=data.responseText),e.timeStamp&&endTime>e.timeStamp&&(time=endTime-e.timeStamp),configItem.callback&&(result=configItem.callback(conf,{httpStatus:httpStatus,responseData:responseData,time:time}),$self._sendLogData(configItem.logType,result)))},sendDpTimeLog:function(e){var e=e||{},t=e.name||"default",a={},o=window.alog||function(){};a["z_"+t]=e.value||"",o&&"[object function]"===Object.prototype.toString.call(o).toLowerCase()&&o("cus.fire","time",a)},sendDpDisLog:function(e){var e=e||{};"[object array]"!==Object.prototype.toString.call(e).toLowerCase()&&(e=[e]);for(var t=0,a=e.length;a>t;t++){var o=e[t],n=o.name||"default",i={};i["z_"+n]=o.value||"",alog("cus.fire","dis",i)}},sendBaiduLog:function(e,t){var e=e||{},a=window._hmt||[];if("object"==typeof a)if("[object string]"===Object.prototype.toString.call(e).toLowerCase())a.push(["_trackEvent",e,t?e+t:""]);else if("[object object]"===Object.prototype.toString.call(e).toLowerCase()&&"pageView"===e.name)a.push(["_trackPageview",e.value]);else if("[object array]"===Object.prototype.toString.call(e.value).toLowerCase()){var o=["_trackEvent",e.name];o.push(e.value[0]?e.name+"-"+e.value[0]:""),o.push(e.value[1]?e.name+"-"+e.value[1]:""),o.push(e.mid),a.push(o)}else if("[object string]"===Object.prototype.toString.call(e.value).toLowerCase()){var o=["_trackEvent",e.name];o.push(e.name+"-"+e.value),o.push("default"),o.push(e.mid),a.push(o)}},sendUserReport:function(e){var t="/api/report/user";$.ajax(t,{type:"POST",data:{timestamp:Math.round(new Date/1e3),action:tools.getParam("from")||e||"web_home"}})},_sendCountTypeLog:function(e){var e=e||{};if(e.sendServerLog!==!1){var t={type:e.name,url:e.url};if("[object array]"===Object.prototype.toString.call(e.value).toLowerCase())t.value=e.value[0];else if("[object object]"===Object.prototype.toString.call(e.value).toLowerCase())for(var a in e.value)!e.value.hasOwnProperty(a)||"name"===a&&"mid"===a||(t[a]=e.value[a]);else t.value=e.value;this._sendServerLog(t)}this.sendBaiduLog(e)},_sendLogData:function(e,t){var t=t||{},e=e||"count";"count"===e?this._sendCountTypeLog(t):"time"===e?this.sendDpTimeLog(t):"dis"===e&&this.sendDpDisLog(t)},_eventHandle:function(e){var t,a,o=this;this._checkData(e);for(var n in e)e.hasOwnProperty(n)&&(t=e[n],e[n].mid=++Log.mid,o.eventData[n]=t,a=t.parentDom||$("body"),a instanceof $?a=a:"string"==typeof a&&(a=$(a)),t.eventType||(t.eventType="click"),function(e){"click"===e.eventType?a.delegate(n,"mousedown",function(t){e.posX=t.clientX,e.posY=t.clientY}).delegate(n,"mouseup",function(t){if(e.posX===t.clientX&&e.posY===t.clientY&&e.callback){var a=e.callback(t,$);a=o._addMid(a,e.mid),o._sendLogData(e.logType,a)}}):a.delegate(n,e.eventType,function(t){if(e.callback){var a=e.callback(t,$);a=o._addMid(a,e.mid),o._sendLogData(e.logType,a)}})}(t))},arrjaxHandle:function(e){var t,a=this;this._checkData(e);for(var o in e)e.hasOwnProperty(o)&&(t=e[o],e[o].mid=++Log.mid,a.ajaxData[o]=t)},_mixHandle:function(e){var t,a=this;this._checkData(e);for(var o in e)e.hasOwnProperty(o)&&(t=e[o],e[o].mid=++Log.mid,a.mixData[o]=t)},initDataHandle:function(e,t){var a=this,e=e;"[object array]"!==Object.prototype.toString.call(e).toLowerCase()&&(e=[e]);for(var o=0,n=e.length;n>o;o++){var i=e[o];"global"===t&&1===Log.globalInit?a._mixHandle(i.mix):(a._eventHandle(i.event),a.arrjaxHandle(i.ajax),a._mixHandle(i.mix))}(t="global")&&(Log.globalInit=1)},send:function(e){if(e.type)this._sendServerLog(e);else if(this._checkLogExist(e)){var t=this._addMid(e,this.mixData[e.name].mid);this._sendLogData(this.mixData[e.name].logType,t)}},add:function(e){this.initDataHandle(e)},define:function(e,t){this.data||(this.data=e,this.initDataHandle(this.data,t))}},Log.instanceForSystem=new Log;var logConfigs=[];logConfigs.push({
        "event" : {

        },
        "ajax" : {

        },
        "mix" : {
            "buttonCreate" : {
                "logType": "time",
                "description" : "button从创建到展现的时间"
            },
            "buttonHover" : {
                "logType": "time",
                "description" : "button状态变化的时间"
            }
        }
    },{
        "mix": {
            "listAllSel": {
                "logType": "time",
                "description" : "列表全选响应时间统计"
            },
            "listInitTime": {
                "logType": "time",
                "description" : "列表初始化时间统计"
            },
            "listScrollTime": {
                "logType": "time",
                "description" : "列表滚动响应时间统计"
            }
        }
    },{
        "event" : {

        },
        "ajax" : {

        },
        "mix" : {
            "tipShow" : {
                "logType": "time",
                "description" : "tip展现时间"
            }
        }
    }
),Log.instanceForSystem.define(logConfigs),module.exports=Log});
;define("system-core:system/uiService/button/button.js",function(t,i,n){var e=t("base:widget/libs/jquerypacket.js"),s=t("base:widget/libs/underscore.js"),o=t("base:widget/tools/tools.js"),h=t("system-core:system/uiService/log/log.js").instanceForSystem,a=o.client().browserString,d=function(t){d._length++,this.startTime=(new Date).getTime(),this.dom=null,this.width=0,this.height=0,this.container=null,this.menu={},this.menuLength=0,this.id="b"+d._length++,this.type=t.type||"default",this.config=t,this.config.buttonDefaultConfig=t.buttonDefaultConfig||{},this._init()};d._map={},d._length=0,d.getButton=function(t){return d._map["b"+t]?d._map["b"+t]:null},d.TPL=s.template('<a class="g-button<%- tips ? \' g-button-hastips\' : ""%>" data-button-id="<%- id %>" data-button-index="<%- index %>" href="<%- link %>" ><span class="g-button-right"><% if (typeof icon !== "undefined") { %><em class="icon <%- icon %>" title="<%- tips ? "" : title %>"></em><% } %><span class="text"><%- title %></span></span><% if (tips !== "") { %><span class="g-button-tips"><%- tips%></span><% } %></a>'),d.prototype={constructor:d,_init:function(){this._initUserEvent(),this._renderButton(),d._map[this.id]=this},_renderButton:function(){var t="javascript:void(0);";/^(\/|(https?\:\/\/)?(([a-zA-Z0-9]|[\.\-])+){1,3}(cn|com|co|io|gov|org|tv|hk|tw|me))\/?/i.test(this.config.link)&&(t=this.config.link);var i={title:this.config.title||"",icon:this.config.icon,id:this.id,index:this.config.index,link:t,tips:this.config.tips||""},n=d.TPL(i);if("dropdown"===this.type){var s='<span class="g-dropdown-button"></span>';if(this.dom=e(s),this.dom.append(n),this.dom.menu=e('<span class="menu"></span>'),this.dom.append(this.dom.menu),this.dom.mainButton=this.dom.find(".g-button"),"object"==typeof this.config.menu&&this.config.menu.length){var o=this._renderMenuList(this.config.menu);this.dom.menu.append(o)}}else this.dom=e(n),this.dom.mainButton=this.dom;var a=this._caulateClassName();this.dom.mainButton.addClass(a),this._initSizeAndPosition(),this._initDomEvent(),this.isShow=!0,this.isEnable=!0,"none"===this.config.display&&(this.dom[0].style.display="none",this.isShow=!1);var u=(new Date).getTime()-this.startTime;h.send({name:"buttonCreate",value:u})},_initSizeAndPosition:function(){"left"===this.config.position?this.dom.css("float","left"):"right"===this.config.position&&this.dom.css("float","right");var t=0,i=0;this.dom.mainButton.find(".text").width("undefined"!=typeof this.config.textWidth?this.config.textWidth:"auto"),"undefined"!=typeof this.config.iconMarginRight&&this.dom.mainButton.find(".icon").css("margin-right",this.config.iconMarginRight);var n=this.dom.mainButton;this.config.padding instanceof Array&&2===this.config.padding.length&&(t=this.config.padding[0],i=this.config.padding[1],n.css("padding-left",t),n.find(".g-button-right").css("padding-right",i)),"string"==typeof this.config.margin&&n.css("margin",this.config.margin)},_renderMenuOne:function(t){var i="b-menu"+this.menuLength++;this.menu[i]=t;var n="",e="",s="";return"none"===t.display&&(e=' style="display:none;"'),"function"==typeof t.display&&(s=t.display()),"string"==typeof t.icon?(n='<em class="icon '+t.icon+'"></em>',"<a"+e+' data-menu-id="'+i+'" class="g-button-menu g-menu-hasIcon" href="javascript:void(0);">'+n+t.title+"</a>"):t.symLink&&t.symLink.config.buttonClass&&t.symLink.config.filesType?"<a"+e+' data-menu-id="'+i+'" data-excludetype="'+t.symLink.config.filesType+'"  class="g-button-menu '+t.symLink.config.buttonClass+'" href="javascript:void(0);">'+t.title+"</a>":t.symLink&&t.symLink.config.buttonClass&&t.symLink.config.excludeDirType?"<a"+e+' data-menu-id="'+i+'" data-excludedir="'+t.symLink.config.excludeDirType+'"  class="g-button-menu '+t.symLink.config.buttonClass+'" href="javascript:void(0);">'+t.title+"</a>":"<a "+e+' data-menu-id="'+i+'" class="g-button-menu '+s+'" href="javascript:void(0);">'+t.title+"</a>"},_renderMenuList:function(t,i){var n="";if("object"==typeof t){if(t.length)for(var s=0,o=t.length;o>s;s++)n+=this._renderMenuOne(t[s])}else n=this._renderMenuOne(t);return i&&e(i).html(n),n},_initDomEvent:function(){this.dom.undelegate();var t=this,i=(e(this.dom),function(){var i=(new Date).getTime();t.onMouseEnter(),"dropdown"===t.type&&(t.onBeforeOpen()!==!1&&t.dom.addClass("button-open"),"function"==typeof t.config.menu&&t.config.menu(t.dom.menu,function(i){t._renderMenuList(i,t.dom.menu),t.config.resize===!0&&t.resizeButtonWidth()})),e(this).hasClass("g-button-hastips")&&e(".g-button-tips").css({visibility:"visible"});var n=(new Date).getTime()-i;h.send({name:"buttonHover",value:n})}),n=function(){t.onMouseLeave(),e(this).hasClass("g-button-hastips")&&e(".g-button-tips").css({visibility:"hidden"})},s=function(){t.isEnable&&t.onClick()};this.dom.bind("mouseleave",function(){"dropdown"===t.type&&t.onBeforeClose()!==!1&&t.dom.removeClass("button-open")}).bind("mouseenter",i).bind("mouseleave",n).bind("click",s).delegate(".g-button","mouseenter",i).delegate(".g-button","mouseleave",n).delegate(".g-button","click",s).delegate(".g-button-menu","click",function(i){if(i.stopPropagation(),!e(this).hasClass("g-disabled")){var n=e(this).data("menu-id"),s=t.menu[n];s&&"function"==typeof s.click&&s.click()}})},_initUserEvent:function(){"function"==typeof this.config.click&&(this.onClick=this.config.click),"function"==typeof this.config.mouseEnter&&(this.onMouseEnter=this.config.mouseEnter),"function"==typeof this.config.mouseLeave&&(this.onMouseLeave=this.config.mouseLeave),"function"==typeof this.config.beforeOpen&&(this.onBeforeOpen=this.config.beforeOpen),"function"==typeof this.config.beforeClose&&(this.onBeforeClose=this.config.beforeClose),"function"==typeof this.config.visibleChange&&(this.onVisibleChange=this.config.visibleChange),"dropdown"!==this.type?(this.onBeforeOpen=null,this.onBeforeClose=null):this.onBeforeOpen=this.onBeforeClose=function(){}},_caulateClassName:function(){var t="",i=this.config.color;return t="big"===this.type?i?"g-button-"+i+"-large":"g-button-large":i?"g-button-"+i:""},appendTo:function(t){return t=e(t),t.append(this.dom),this.resizeButtonWidth(),this.container=t,this},resizeButtonWidth:function(){if("dropdown"===this.type){var t,i=this.dom.menu[0].children,n=0,s=this.dom.outerWidth();if("ie6"===a||"ie7"===a){var t=d.caculateDropButtonWidth(null,this.config);this.width=t.width,this.height=t.height,this.dom.menu.width(this.width-2)}else{for(var o=0,h=i.length;h>o;o++)t=d.caculateDropButtonWidth(e(i[o]),this.config),n<t.width&&(n=t.width);t=d.caculateDropButtonWidth(null,this.config),n<t.width&&(n=t.width),s>n&&(n=s),this.dom.menu.width(n-2),this.width=n,this.height=t.height}}else if(this.width=this.dom.outerWidth(),this.height=this.dom.outerHeight(),"dropdown"!==this.type&&(this.width<=20||0===this.height)){var t=d.caculataButtonWidth(this.config);this.width=t.width,this.height=t.height}},change:function(t,i){if(this.config=e.extend(this.config,t),t.type&&t.type!==this.type||i){var n=this.dom;this.type=t.type,this._init(),n.after(this.dom).remove(),this.resizeButtonWidth(),n=null}else{this.dom.mainButton.attr("class","g-button "+this._caulateClassName());var s=this.dom.mainButton.find(".icon");s.length&&!this.config.icon?s.remove():0===s.length&&this.config.icon?this.dom.mainButton.prepend('<em class="icon '+this.config.icon+'"></em>'):s.length&&s.attr("class","icon "+this.config.icon),this.dom.mainButton.find(".text").text(this.config.title),this._initSizeAndPosition()}return this},addToMenu:function(t,i){if("dropdown"===this.type){"object"!=typeof t||t.length||(t=[t]);var n=this._renderMenuList(t)}return 0===i?this.dom.menu.prepend(n):this.dom.menu.append(n),this.config.resize===!0&&this.resizeButtonWidth(),this},triggerClick:function(t){this.isEnable&&this.onClick(t)},removeFromMenu:function(t){var i=e(this.dom.menu.find(".g-button-menu")[t]),n=i.data("menu-id");return i.remove(),delete this.menu[n],this.config.resize===!0&&this.resizeButtonWidth(),this},getMenuDom:function(t){return"dropdown"===this.type?e(this.dom.menu.find(".g-button-menu")[t]):null},menuShow:function(t,i){if("dropdown"===this.type){var n=e(this.dom.menu.find(".g-button-menu")[t]);return i===!1?n.hide():n.css("display","block"),this.config.resize===!0&&this.resizeButtonWidth(),n}return null},menuDisable:function(t,i){if("dropdown"===this.type){var n=e(this.dom.menu.find(".g-button-menu")[t]);return i===!1?n.removeClass("g-disabled"):n.addClass("g-disabled")}return null},hide:function(){return this.dom.hide(),this.isShow=!1,this},show:function(){return this.dom.css("display","inline-block"),this.isShow=!0,this},disable:function(t){return t===!1?(this.dom.removeClass("g-disabled"),this.isEnable=!0):(this.dom.addClass("g-disabled"),this.isEnable=!1),this},onClick:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onBeforeOpen:function(){},onBeforeClose:function(){},onVisibleChange:function(){}},d.caculataButtonWidth=function(t){var i=2,n=t.title,e=t.icon,s=t.iconMarginRight,o=t.padding,h=t.textWidth;return i+=h?parseInt(h,10):12*n.length,"string"==typeof e&&(i+="undefined"!=typeof s?20+parseInt(s,10):24),i+=o?parseInt(o[0],10)+parseInt(o[1],10):30,{width:i,height:33}},d.caculateDropButtonWidth=function(t,i){var n=2,e=i.title,s=i.icon,o=i.iconMarginRight,h=i.padding,a=i.textWidth,d=i.buttonDefaultConfig.paddingLeft,u=i.buttonDefaultConfig.paddingRight,c=i.buttonDefaultConfig.paddingHeight;return t?"none"!==t.css("display")?(n+=12*t.text().length,n+=h?parseInt(h[0],10)+parseInt(h[1],10):24):n=0:(n+=a?parseInt(a,10):12*e.length,"string"==typeof s&&(n+="undefined"!=typeof o?20+parseInt(o,10):24),n+=h?parseInt(h[0],10)+parseInt(h[1],10):d&&u?d+u:30),{width:n,height:c||33}},n.exports=d});
;define("system-core:system/uiService/dialog/dialog.drag.js",function(o,e,i){var a=o("base:widget/libs/jquerypacket.js"),d={dialogs:{},getDialogById:function(o){return this.dialogs[o]},hasBind:!1,events:function(){var o,e,i,t,n,s=this,g=!1,l=!1,f=function(d){if(o){var s=a(window).scrollTop();a.browser.msie&&"6.0"===a.browser.version&&!a.support.style&&(s=0);var g=(o.dialogHeight+d.pageY-i,o.dialogWidth+d.pageX-e),f=d.pageY-i-s<0?0:d.pageY-i-s,r=d.pageX-e<0?0:d.pageX-e;g>n&&(r=n-o.dialogWidth),f>t-15&&(f=t-15),o.position({top:f,left:r}),l||(l=!0,e=d.pageX-o.$ele.find(".dialog-drag").offset().left,i=d.pageY-o.$ele.find(".dialog-drag").offset().top)}};a(document).on("mousedown",".dialog-drag",function(d){t=a(window).height(),n=a(window).width(),o=s.getDialogById(a(this).parent().data("dialogId")),l=!0,a(document).on("mousemove",f),e=d.pageX-a(this).offset().left+3,i=d.pageY-a(this).offset().top+3}),a(document).on("mouseup",function(){g||(o=null,a(document).off("mousemove",f)),g=!1,l=!1}),a(document).on("mousedown",".dialog",function(){a(this).data("dialogId")}),d.hasBind=!0}},t={enableDrag:function(o,e){d.dialogs[o]=e,e.$dialog.find(".dialog-header").addClass("dialog-drag"),d.hasBind===!1&&d.events()}};i.exports=t});
;define("system-core:system/uiService/canvas/canvas.js",function(n,a,i){var e=n("base:widget/libs/jquerypacket.js"),t={$canvas:null,animateConfig:null,render:function(){var n=e('<div class="module-canvas"></div>');n.css({left:0,top:0,zIndex:50,background:"#000",filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",opacity:0}),this.$canvas=n,e("body").append(n),this.animateConfig&&(n.animate(t.animateConfig,"normal"),this.resetAnimateConfig())},bindCanvas:function(){var n=this;e(window).off("resize.canvas").on("resize.canvas",function(){var a=e(this),i=a.width(),t=a.height();n.$canvas.width(i),n.$canvas.height(t)})},unbindCanvas:function(){e(window).off("resize.canvas")},resetAnimateConfig:function(){this.animateConfig=null},referCount:0},s={show:function(){return t.$canvas?t.animateConfig?(t.$canvas.show(),t.$canvas.animate(t.animateConfig,"normal"),t.resetAnimateConfig()):t.$canvas.show():t.render(),t.bindCanvas(),e(window).trigger("resize.canvas"),t.referCount++,this},hide:function(){return t.referCount--,t.referCount<=0&&(t.referCount=0,t.$canvas&&t.$canvas.hide(),e(window).trigger("resize.canvas"),t.unbindCanvas()),this},addAnimate:function(n){return t.animateConfig=n,this}};i.exports=s});
;define("system-core:system/uiService/dialog/dialog.js",function(i,t,o){var n=i("base:widget/libs/jquerypacket.js"),e=i("base:widget/libs/underscore.js"),a=i("system-core:system/uiService/dialog/dialog.drag.js"),s=i("system-core:system/uiService/button/button.js"),l=i("system-core:system/uiService/canvas/canvas.js"),d=function(i){i||(i={}),this.buttonIns=[],this.buttonMap={},this.minimizeBottom=0,this.dialogId=i.id||e.uniqueId("dialog"),i.className=i.className||"",this.status=d.STATUS_NORMAL,this.$dialog=n('<div class="'+d.MODULE_NAME+" dialog-"+this.dialogId+" "+i.className+'" id="'+this.dialogId+'" />'),this.$dialog.data("dialogId",this.dialogId),this.$header=null,this.zIndex=0,this.$minHeader=null,this.setConfig(i),this.init()};d.THEME_DEFAULT="gray",d.THEME_BLUE="blue",d.MODULE_NAME="dialog",d.STATUS_NORMAL="normal",d.STATUS_MIN="min",d.STATUS_MAX="max",d.MIN_ZINDEX=51,d.MAX_ZINDEX=70,d.zIndexTop=d.MIN_ZINDEX,d.DEFAULT_CONFIG={title:"",titleIcon:"",theme:"",dialogClass:"",max:!1,back:!1,min:!1,close:!0,onClose:!1,width:"520px",minDialogWidth:"auto",draggable:!0,show:!1,lock:!0,body:"",noHeader:!1,noFooter:!0,position:{xy:"center",offset:null}},d.TEMPLATE_HEAD='<div class="dialog-header"><% if (!titleIcon) { %><h3><span class="dialog-header-title"><em class="select-text"><%= title %></em></span></h3><% } else { %><h3 class="hasicon"><i class="<%- titleIcon %>"></i><span class="dialog-header-title"><em class="select-text"><%= title %></em></span></h3><% } %><div class="dialog-control"><% if (close) { %><span class="dialog-icon dialog-close">×</span><% } %><% if (max) { %><span class="dialog-icon dialog-max">□</span><% } %><% if (min) { %><span class="dialog-icon dialog-min">-</span><% } %></div></div>',d.TEMPLATE_HEAD_FOR_MIN='<div class="dialog-min-header"><% if (!titleIcon) { %><h3><span class="dialog-header-title"><em class="select-text"><%= title %></em></span></h3><% } else { %><h3 class="hasicon"><i class="<%- titleIcon %>"></i><span class="dialog-header-title"><em class="select-text"><%= title %></em></span></h3><% } %><div class="dialog-control"><% if (close) { %><span class="dialog-icon dialog-close">×</span><% } %><% if (min || max) { %><span class="dialog-icon dialog-back">□</span><% } %></div></div>',d.TEMPLATE_FOOT='<div class="dialog-footer g-clearfix"></div>',d.TEMPLATE_EXTRA='<div class="dialog-extra g-clearfix"></div>',d.QUERY={body:"body",dialogHeader:".dialog-header",dialogMinHeader:".dialog-min-header",dialogClose:".dialog-close",dialogTitle:".dialog-header-title .select-text",dialogBody:".dialog-body",dialogFooter:".dialog-footer",dialogExtra:".dialog-extra"},d.dialogList=[],d.prototype={setConfig:function(i){this.config=n.extend(!0,{},d.DEFAULT_CONFIG,i)},init:function(){d.dialogList.push(this),this._render(),this.config.show===!0&&this.show(),this._events()},_render:function(){var i='<div class="dialog-body"><%= body %></div>';this.config.dialogClass&&this.$dialog.addClass(this.config.dialogClass),this.config.min&&(i=d.TEMPLATE_HEAD_FOR_MIN+i),this.config.noHeader||(i=d.TEMPLATE_HEAD+i),this.config.buttons&&(i+=d.TEMPLATE_FOOT),this.config.extra&&(i+=d.TEMPLATE_EXTRA);var t=null;"object"==typeof this.config.body&&(t=this.config.body,this.config.body="");var o=e.template(i)(this.config);this.$dialog.html(o),t&&this.$dialog.find(".dialog-body").append(t),this.createButtons(),this.setTheme(),this.setExtraContent(),this.config.width&&(/([\d\.]+)\%$/.test(this.config.width)&&(this.config.width=parseFloat(RegExp.$1)/100*n(window).width()),this.width(this.config.width)),this.config.height&&(/([\d\.]+)\%$/.test(this.config.height)&&(this.config.height=parseFloat(RegExp.$1)/100*n(window).height()),this.height(this.config.height)),this.$dialog.appendTo("body"),this.$header=this.$dialog.find(".dialog-header"),this.$minHeader=this.$dialog.find(".dialog-min-header")},setTheme:function(){this.$dialog.addClass(this.config.theme?this.config.theme===d.THEME_BLUE?"dialog-"+d.THEME_BLUE:"dialog-"+d.THEME_DEFAULT:"dialog-"+d.THEME_DEFAULT)},createButtons:function(){var i=this.config.buttons,t=this,o=null;t.buttonIns.length=0,e.map(i,function(i){o=new s(i),t.buttonIns.push(o),i.name&&(t.buttonMap[i.name]=o);var n=o.dom;t.$dialog.find(d.QUERY.dialogFooter).append(n)})},setExtraContent:function(){var i=this.config.extra;this.$dialog.find(d.QUERY.dialogExtra).append(i)},setButtonDisable:function(i,t){var o=this.buttonIns.length;if(void 0===t)e.map(this.buttonIns,function(t){t.disable(i)});else for(var n=0;o>n;n++)n==t&&this.buttonIns[n].disable(i)},_events:function(){var i=this;this.config.draggable===!0&&this.enableDrag(),this.$dialog.on("click.dialog",d.QUERY.dialogClose,function(t){return t.stopPropagation(),e.isFunction(i.onClose)===!0?i.onClose.call(i,arguments)!==!1&&i.hide():i.hide(),!1}),e.each(["min","back","max"],function(t){this.$dialog.on("click",".dialog-"+t,function(o){o.stopPropagation(),"min"===t?i.minimize():"back"===t&&i.restore()})},this),this.$dialog.on("mousedown.dialog",function(){i._top()})},_top:function(){var i=function(){d.zIndexTop>d.MAX_ZINDEX&&t()},t=function(){var i=d.dialogList,t=d.MIN_ZINDEX;i.sort(function(i,t){return i.$dialog.css("zIndex")>t.$dialog.css("zIndex")}),e.map(i,function(i){i.$dialog.css("zIndex",t++)}),d.zIndexTop=t};return function(){this.zIndex!==d.zIndexTop&&(d.zIndexTop++,this.zIndex=d.zIndexTop,this.$dialog.css("zIndex",d.zIndexTop),i())}}(),_unbindEvents:function(){this.$dialog.off()},delegate:function(i,t,o){this.$dialog.delegate(i,t,o)},show:function(){return this.$dialog.is(":visible")?void 0:(e.isString(this.config.position.xy)?this.position(this.config.position.xy,this.config.position.offset):e.isArray(this.config.position.xy)&&this.position({top:this.config.position.xy[0],left:this.config.position.xy[1]}),this.$dialog.show().css("visibility","visible"),this.config.lock===!0&&this.lock(),this._top(),/IE\s[67]/.test(navigator.userAgent)&&n("body").css("zoom",0),this)},getMinDom:function(){return this.$dialog.find(d.QUERY.dialogMinHeader)},move:function(){},setMinimizeBottom:function(i){"number"==typeof i&&(this.minimizeBottom=i)},minimize:function(){var i=this;if(this.status===d.STATUS_MIN)return this;if("bottom-left"===this.config.position.xy||"bottom-right"===this.config.position.xy){var t=function(){i.$dialog.find(d.QUERY.dialogHeader).hide(),"bottom-left"===i.config.position.xy?i.$dialog.find(d.QUERY.dialogBody).css("height","0"):i.$dialog.find(d.QUERY.dialogBody).hide(),i.$dialog.find(d.QUERY.dialogHeader).hide(),i.$dialog.find(d.QUERY.dialogMinHeader).show(),"auto"!==i.config.minDialogWidth&&i.$dialog.width(i.config.minDialogWidth),i.dialogWidth=i.$dialog.outerWidth(),i.dialogHeight=i.$dialog.outerHeight();var t=0===i.minimizeBottom?0:i.minimizeBottom,o=function(){i.config.min&&"function"==typeof i.config.min&&i.config.min.call(this),i.status=d.STATUS_MIN,i.onSizeChange({status:"minimize"})};/IE\s[67]/.test(navigator.userAgent)?(i.$dialog.css({bottom:t}),o(),n("body").css("zoom",1)):i.$dialog.animate({bottom:t},"fast","linear",o)},o=this.dialogHeight;i.$dialog.is(":visible")&&!/IE\s[67]/.test(navigator.userAgent)?this.$dialog.animate({bottom:-o},"fast","linear",t):(this.$dialog.css("bottom",-o),t(),n("body").css("zoom",1))}return this},restore:function(){var i=this;if(this.status===d.STATUS_NORMAL)return this;if("bottom-left"===this.config.position.xy||"bottom-right"===this.config.position.xy){var t=this.dialogHeight,o=function(){i.$dialog.find(d.QUERY.dialogMinHeader).hide(),"bottom-left"===i.config.position.xy?i.$dialog.find(d.QUERY.dialogBody).css("height","auto"):i.$dialog.find(d.QUERY.dialogBody).show(),i.$dialog.find(d.QUERY.dialogHeader).show(),i.$dialog.find(d.QUERY.dialogFooter).show(),"auto"!==i.config.minDialogWidth&&i.$dialog.width(i.config.width),i.dialogWidth=i.$dialog.outerWidth(),i.dialogHeight=i.$dialog.outerHeight();var t=function(){i.config.max&&"function"==typeof i.config.max&&i.config.max.call(this),i.status=d.STATUS_NORMAL,i.onSizeChange({status:"normal"})};/IE\s[67]/.test(navigator.userAgent)?(i.$dialog.css({bottom:0}),t(),n("body").css("zoom",0)):i.$dialog.animate({bottom:0},300,"linear",t)};/IE\s[67]/.test(navigator.userAgent)?(this.$dialog.css({bottom:-t}),o(),n("body").css("zoom",0)):this.$dialog.is(":animated")||this.$dialog.animate({bottom:-t},"fast","linear",o)}return this},maximize:function(){},isVisible:function(){return this.$dialog.is(":visible")},hide:function(){return this.isVisible()?(this.$dialog.hide(),l.hide(),/IE\s[67]/.test(navigator.userAgent)&&n("body").css("zoom",1),this):void 0},destroy:function(){this.detachedElement=this.$dialog.detach()},title:function(i){return this.$dialog.find(d.QUERY.dialogTitle).text(i),this},icon:function(i){if(i){var t=this.$header.find("h3 i"),o=this.$minHeader.find("h3 i");0===t.length&&(t=n("<i></i>"),this.$header.find("h3").addClass("hasicon").prepend(t)),0===o.length&&(o=n("<i></i>"),this.$minHeader.find("h3").addClass("hasicon").prepend(o)),t.attr("class",i),o.attr("class",i)}else this.$header.find("h3").removeClass("hasicon"),this.$minHeader.find("h3").removeClass("hasicon");return this},width:function(i){return this.$dialog.width(i),this},height:function(i){return this.$dialog.height(i),this},content:function(i){this.$dialog.find(d.QUERY.dialogBody).html(i)},find:function(i){return this.$dialog.find(i)},enableDrag:function(){a.enableDrag(this.dialogId,this)},lock:function(){l.show()},reset:function(i){null===this.detachedElement&&this.hide(),this.detachedElement.appendTo("body"),i&&i(),this.hasInitialPosition&&this.position(this.hasInitialPosition)},position:function(i,t){var o={top:"auto",bottom:"auto",left:"auto",right:"auto"};if(this.dialogWidth=this.$dialog.outerWidth(),this.dialogHeight=this.$dialog.outerHeight(),"center"===i){var e=n(window).height(),a=n(window).width();o=n.extend(o,{top:(e-this.dialogHeight)/2,left:(a-this.dialogWidth)/2,bottom:"auto",right:"auto"}),o.top<0&&(o.top=0)}else"bottom-left"===i?(t||(t={}),o=n.extend(o,{bottom:0+(t.bottom||0),left:t.left||0,top:"auto",right:"auto"})):"bottom-right"===i?(t||(t={}),o=n.extend(o,{bottom:0+(t.bottom||0),right:t.right||0,top:"auto",left:"auto"})):o=n.extend(o,i);this.$dialog.css(o),this.$dialog.css("zIndex",d.DEFAULT_ZINDEX++),void 0===this.hasInitialPosition&&(this.hasInitialPosition=o)},onSizeChange:function(){return void 0},onClose:function(){var i,t=this;return"function"==typeof this.config.onClose&&(i=this.config.onClose.call(t)),i}},d._confirmDialog=null,d.confirm=function(i,t,o,n,a,s){var l;if(e.isObject(i)===!0){if(!i.title)throw new Error("[context] 确认对话框名称是必须的！");if(!i.body)throw new Error("[context] 对话框内容是必须的！");l=i}else if(e.isString(i)===!0){if(!t)throw new Error("[context] 对话框内容是必须的！");l={title:i,body:t,onSure:o,onCancel:n,extra:a}}l.dialogDefaultConfig=s||{};var g={id:"confirm",show:i.show||!0,title:l.title,body:'<div style="text-align:center;padding:22px;">'+l.body+"</div>",buttons:[{name:"confirm",title:l.sureText||"确定",type:l.dialogDefaultConfig.buttonType||"",color:"blue",padding:l.dialogDefaultConfig.buttonPadding||["36px","36px"],click:function(){e.isFunction(l.onSure)===!0?l.onSure.call(d._confirmDialog,arguments)!==!1&&d._confirmDialog.hide():d._confirmDialog.hide()}},{name:"cancel",title:l.cancelText||"取消",type:l.dialogDefaultConfig.buttonType||"",padding:l.dialogDefaultConfig.buttonPadding||["36px","36px"],click:function(){e.isFunction(l.onCancel)===!0?l.onCancel.call(d._confirmDialog,arguments)!==!1&&d._confirmDialog.hide():d._confirmDialog.hide()}}],onClose:function(){e.isFunction(l.onClose)===!0?l.onClose.call(d._confirmDialog,arguments)!==!1&&d._confirmDialog.hide():d._confirmDialog.hide()}};return(l.extra||e.isString(l.extra))&&(g.extra=l.extra),null===d._confirmDialog?d._confirmDialog=new d(g):(d._confirmDialog.setConfig(g),d._confirmDialog.createButtons(),d._confirmDialog.init()),d._confirmDialog.onCancel=l.onCancel,d._confirmDialog},d._alertDialog=null,d.alert=function(i,t,o){var n;if(e.isObject(i)===!0){if(!i.body)throw new Error("[context] 警告内容是必须的！");n=i}else e.isString(i)===!0&&(n={body:i,onSure:t});n.dialogDefaultConfig=o||{};var a={title:n.title||"提示",body:'<div style="text-align:center;padding:22px;">'+n.body+"</div>",width:n.width||"540px",buttons:[{name:"confirm",title:n.sureText||"确定",type:n.dialogDefaultConfig.buttonType||"",color:n.dialogDefaultConfig.buttonColor||"",click:function(){e.isFunction(n.onSure)===!0?n.onSure.call(d._alertDialog,arguments)!==!1&&d._alertDialog.hide():d._alertDialog.hide()}}],onClose:function(){e.isFunction(n.onClose)===!0?n.onClose.call(d._alertDialog,arguments)!==!1&&d._alertDialog.hide():d._alertDialog.hide()}};return a.noFooter=!1,null===d._alertDialog?d._alertDialog=new d(a):(d._alertDialog.setConfig(a),d._alertDialog.createButtons(),d._alertDialog.init()),d._alertDialog.show(),d._alertDialog},d._verifyDialog=null,d.verify=function(i,t,o,a,s,l){var g,r,c="/api/getvcode?prod=pan",h=function(i){n.get(c+"&t="+Math.random(),function(t){0===t.errno?(r=t.vcode,i(t.img)):i(!1)},"json")};e.isObject(i)===!0?(g=i,r=g.vcode):e.isString(i)===!0&&(r=t.vcode,g={title:i,img:t.img,onSure:o,onCancel:a,hasError:s}),g.dialogDefaultConfig=l||{},g.title=g.title||"提示",g.body=['<div class="download-verify" style="margin-top: 10px;padding: 0 28px;text-align: left;font-size: 12px;" id="downloadVerify">','<div class="verify-body">','请输入验证码：<input type="text" style="padding: 3px;width: 85px;height: 23px;border: 1px solid #C6C6C6;background-color: white;vertical-align: middle;" class="input-code" maxlength="4">','<img class="img-code" style="margin-left: 10px;vertical-align: middle;" alt="验证码获取中" src="" width="100" height="30" />','<a href="javascript:void(0);" style="text-decoration: underline;" class="underline">换一张</a>',"</div>",'<div style="padding-left: 84px;height: 18px;color: #d80000;" class="verify-error">',g.hasError?"验证码输入错误，请重新输入":"","</div>","</div>"].join("");var f={title:g.title,body:'<div style="text-align:center;padding:22px;">'+g.body+"</div>",buttons:[{name:"confirm",title:g.sureText||"确定",type:g.dialogDefaultConfig.buttonType||"",color:"blue",padding:g.dialogDefaultConfig.buttonPadding||["36px","36px"],click:function(){var i=n("#downloadVerify .input-code"),t=n("#downloadVerify .verify-error"),o=n.trim(i.val());return""==o?(t.text("请输入验证码"),void i.focus()):4!=o.length?(t.text("验证码输入错误，请重新输入"),void i.focus()):(t.text(""),void(e.isFunction(g.onSure)===!0?g.onSure(r,o,!0)!==!1&&d._verifyDialog.hide():d._verifyDialog.hide()))}},{name:"cancel",title:g.cancelText||"取消",type:g.dialogDefaultConfig.buttonType||"",padding:g.dialogDefaultConfig.buttonPadding||["36px","36px"],click:function(){e.isFunction(g.onCancel)===!0?g.onCancel(arguments)!==!1&&d._verifyDialog.hide():d._verifyDialog.hide()}}],onClose:function(){e.isFunction(g.onClose)===!0?g.onClose(arguments)!==!1&&d._verifyDialog.hide():d._verifyDialog.hide()}};null===d._verifyDialog?d._verifyDialog=new d(f):(d._verifyDialog.setConfig(f),d._verifyDialog.createButtons(),d._verifyDialog.init());var u=n("#downloadVerify"),m=u.find(".input-code"),p=u.find(".img-code"),v=u.find(".verify-error");return u.find(".underline").click(function(){g.img&&(h(function(i){p.attr("src",i)}),m.focus())}),m.blur(function(){m.val()&&v.text("")}).keydown(function(i){if(13==i.keyCode){try{d._verifyDialog.buttonIns[0].triggerClick()}catch(i){}return!1}}).focus(),d._verifyDialog.onCancel=g.onCancel,g.img&&g.vcode?p.attr("src",g.img):h(function(i){i===!1?p.attr("alt","验证码获取失败"):(g.img=i,p.attr("alt","点击换一张"),p.attr("src",g.img))}),d._verifyDialog},o.exports=d});
;define("system-core:system/uiService/tip/tip.js",function(e,i,t){var s=e("base:widget/libs/jquerypacket.js"),o=e("base:widget/libs/underscore.js"),n=e("system-core:system/uiService/log/log.js").instanceForSystem,r="module-tip",l="loading",c="success",a="caution",d="failure",p="none",u=65,h=3e3,f={mode:a,hasClose:!1,autoClose:!0,isVip:!1},m={$ele:s('<div class="'+r+'"></div>'),timeoutId:null,checkOption:function(e){var i=!0;return e.msg?e.mode&&this.checkMode(e.mode)===!1?!1:i:!1},checkMode:function(e){var i=!0;switch(e){case l:i=!0;break;case c:i=!0;break;case a:i=!0;break;case d:i=!0;break;case p:i=!0;break;default:i=!1}return i},destroy:function(){this.$ele.remove()},getRenderObj:function(e){var i={};return i.icon="tip-icon-"+(e.mode||f),i.mode=e.mode||f.mode,i.hasClose=e.hasClose||f.hasClose,i.autoClose=e.autoClose||f.autoClose,i.msg=e.msg,i.position=e.position||f.position,i.vipType=e.vipType,i},getRenderHtml:function(){var e=o.template('<div class="tip-inner"><% if (vipType == "svip" && (mode == "loading" || mode == "success")) {%><i class="sprite-svip-ic"></i><%}else if (vipType == "vip" && (mode == "loading" || mode == "success")) {%><i class="sprite-vip-ic"></i><%}else {%><i class="tip-icon <%- icon %>"></i><%}%><span class="tip-msg"><%= msg %></span><% if (hasClose) { %><i class="tip-close tip-icon tip-icon-close"></i><% } %></div>');return function(i){return e(i)}}(),setMsg:function(e){this.$ele.find(".tip-msg").html(e)},hide:function(){m.$ele.hide()},render:function(e){e?this.renderByPosition(option):this.renderByDefault(),this.$ele.is(":visible")===!1&&this.$ele.show()},renderByDefault:function(){var e,i,t=s("body");this.$ele.appendTo(t),e=this.$ele.width(),i={top:u,left:"50%",marginLeft:-e/2},this.$ele.css(i)},renderByPosition:function(e){var i,t,n={};if(!o.isObject(e))throw new Error("[TIP] The position of config is not a object !");if(e.of){if(e.of instanceof s)t=e.of;else{if("string"!=typeof e.of)throw new Error("[tip] The position.of of tip is a string or jquery object !");t=s(e.of)}null==t.css("position")&&t.css("position","relative")}else t=s("body");this.$ele.appendTo(t),i=this.$ele.width(),e.top||e.left||e.right||e.bottom?o.each(["top","left","bottom","right"],function(i){void 0!==e[i]&&(n[i]=e[i])}):n={top:65,left:"50%",marginLeft:-i/2},this.$ele.css(n)},doAutoClose:function(e){var i=this;return this.timeoutId&&clearTimeout(this.timeoutId),void 0===e?void(this.timeoutId=setTimeout(function(){i.$ele.hide()},h)):"boolean"==typeof e?void(e===!0&&(this.timeoutId=setTimeout(function(){i.$ele.hide()},h))):"number"==typeof e?void(this.timeoutId=setTimeout(function(){i.$ele.hide()},e)):void 0},buildTip:function(e){var i=this.getRenderObj(e),t=this.getRenderHtml(i);return"success"===i.mode||"loading"===i.mode?("vip"===i.vipType||"svip"===i.vipType)&&this.$ele.addClass("sprite-vip-tips"):this.$ele.hasClass("sprite-vip-tips")&&this.$ele.removeClass("sprite-vip-tips"),this.$ele.html(t),this.render(e.position),this.doAutoClose(e.autoClose),this.event(),this},event:function(){var e=!1;return function(){e===!1&&(this.$ele.delegate(".tip-close","click",function(){v.hide()}),e=!0)}}()},v={show:function(e){var i=(new Date).getTime();if(m.checkOption(e)===!0){var t=m.buildTip(e),s=(new Date).getTime()-i;return n.send({name:"tipShow",value:s}),t}},hide:m.hide};t.exports=v});
;define("system-core:system/cache/listCache/listCache.js",function(e,a,t){var n=!1,r=e("base:widget/libs/jquerypacket.js"),c={},o={};"object"==typeof window.cache?c=window.cache:window.cache=c;var i=function(){};o.DEBUG=!0,i.cache=c,o.addCache=function(e,a,t){var n=!1;if(c[e]){if(!c[e].writeable)return void(o.DEBUG&&console.warn("cache key:",e," already exists"));n=!0}c[e]=n?{config:t,data:c[e].data}:{config:t,data:{}}},o.removeCache=function(e){c[e]={}},i.addCache=o.addCache,o.getCacheByName=function(e){return c[e]},o.getCacheConfig=function(e){var a=o.getCacheByName(e);return a?a.config:null},i.getCacheConfig=o.getCacheConfig,o.updateCacheConfig=function(e,a,t){var n=o.getCacheByName(e);return n&&(n.config=t),null},i.updateCacheConfig=o.updateCacheConfig,o.getCache=function(e){var a=o.getCacheByName(e);return a?a.data:null},o.getDataByKey=function(e,a){var t=o.getCacheByName(e);return t&&t.data?t.data[a]:null},i.getDataByKey=o.getDataByKey,i.getCache=o.getCache,o.getCacheData=function(e,a,t,n,r){var c,d,f,h=o.getCacheByName(e),s=o.getCacheConfig(e)||{},l=s.parentPath||"",g=h.data[a];if(g||(g=h.data[a]={list:[],hasMore:!0}),-1===t?g.list.length<=0&&g.hasMore===!0?t=-1:c=g.list:-2===t?(t=s.currentPage,g.hasMore===!1&&(c=[])):(d=t*s.limit,g.hasMore===!1&&(c=[])),f={cacheName:e,key:l+a,page:t,params:r||{},config:s,callback:n},i.onBeforeGetCacheData(f),c)n.call(null,c,g.hasMore,f);else if(window.prefetchEnable){var u=arguments;window.prefetchCallback=function(){o.getCacheData.apply(null,u)},window.prefetchEnable=!1}else f.page=f.page+1,o.getData(f)},i.getCacheData=o.getCacheData,o.onBeforeGetCacheData=function(){},i.onBeforeGetCacheData=o.onBeforeGetCacheData,o.clearCacheDataByKey=function(e,a){var t=o.getCacheByName(e);"undefined"!=typeof a&&delete t.data[a]},i.clearCacheDataByKey=o.clearCacheDataByKey,o.clearCacheData=function(e){var a=o.getCacheByName(e);a.data={}},i.clearCacheData=o.clearCacheData,o.hasMoreData=function(e,a){var t,n=o.getCache(e);return n&&(t=n[a]),t&&t.hasMore},i.hasMoreData=o.hasMoreData,o.removeByIndexs=function(e,a,t){var n,r,c=o.getCache(e),i=c[a];if(t.sort(function(e,a){return e-a}),i&&(n=i.list))for(var d=t.length-1;d>=0;d--)r=t[d],r<n.length&&n.splice(r,1)},o.removeByIndex=function(e,a,t){o.removeByIndexs(e,a,[t])},o.removeByFileList=function(){},i.removeByIndexs=o.removeByIndexs,i.removeByIndex=o.removeByIndex,o.getIndexsByFiles=function(e,a,t){var n,r=o.getCache(e),c=r[a],i=[];if(t=t.slice(),c&&(n=c.list))for(var d=0,f=t.length;f>d;d++)for(var h=0,s=n.length;s>h;h++)if(t[d]===n[h]){i.push(h);break}return i},o.getIndexByFile=function(e,a,t){return o.getIndexsByFiles(e,a,[t])},i.getIndexByFile=o.getIndexByFile,i.getIndexsByFiles=o.getIndexsByFiles,o.updateData=function(e,a,t){var n,r,c,i=o.getCache(e),d=i[a];if(d&&(n=d.list))for(var f=0,h=t.length;h>f&&(r=t[f],c=n[r.index],c);f++)for(var s in r.obj)r.obj.hasOwnProperty(s)&&(c[s]=r.obj[s])},i.updateData=o.updateData,o.addDatasByIndex=function(e,a,t){var n,r,c,i=o.getCache(e),d=i[a];if(t.sort(function(e,a){return parseInt(e.index,10)-parseInt(a.index,10)}),d&&(c=d.list))for(var f=0,h=t.length;h>f;f++)n=t[f],r=n.index,0>r&&(r=c.length),r=Math.min(r,c.length),c.splice(r,0,n.obj)},o.addDataBefore=function(e,a,t){var n=[{index:0,obj:t}];o.addDatasByIndex(e,a,n)},o.addDataAfter=function(e,a,t){var n=[{index:-1,obj:t}];o.addDatasByIndex(e,a,n)},o.addDatasBefore=function(e,a,t){for(var n=[],r=0,c=t.length;c>r;r++)n.push({index:0,obj:t[j]});o.addDatasByIndex(e,a,n)},o.addDatasAfter=function(e,a,t){for(var n=[],r=0,c=t.length;c>r;r++)n.push({index:-1,obj:t[j]});o.addDatasByIndex(e,a,n)},i.addDatasByIndex=o.addDatasByIndex,i.addDataBefore=o.addDataBefore,i.addDataAfter=o.addDataAfter,i.addDatasBefore=o.addDatasBefore,i.addDatasAfter=o.addDatasAfter,o.getData=function(e){var a,t,n={},r=e.config;a="function"==typeof r.getPageParams?r.getPageParams(e.page,r.limit):{page:e.page,num:r.limit},t=r.getParamsBykey(e.key);for(var c in r.params)r.params.hasOwnProperty(c)&&(n[c]=r.params[c]);for(var c in a)a.hasOwnProperty(c)&&(n[c]=a[c]);for(var c in t)t.hasOwnProperty(c)&&(n[c]=t[c]);o.fetchData(r.api,n,o.afterFetchData,e)},o.addDataToCache=function(e,a,t,n,r){var c=o.getCacheByName(e),i=o.getCacheConfig(e),d=c.data[a];d||(d=c.data[a]={list:[],hasMore:!0}),d&&d.list instanceof Array&&Array.prototype.push.apply(d.list,t),d.hasMore=n,i.currentPage=r},i.addDataToCache=o.addDataToCache,o.replaceFirstCache=function(e,a,t){var n={},c=o.getCacheByName(e);n.server_filename=t.path.substring(t.path.lastIndexOf("/")+1),n.local_mtime=n.server_mtime=t.mtime||"-",n.size=0,n.path=t.path||"/",n.fs_id=t.fs_id,n.dir_empty=1,n.empty=0,n.category=6,c||(c={list:[],hasMore:!0}),c.data[a]&&c.data[a].list[0]&&(r.extend(c.data[a].list[0],n),n=null)},i.replaceFirstCache=o.replaceFirstCache,o.afterFetchSuccess=function(e,a){var t=a.config,n=e[a.config.listKey||"list"],r=a.cacheName,c=a.key,i=t.limit,d=!1,f=null;n&&n.length>=i&&(d=!0),e.parent_oper&&(f={parent_oper:e.parent_oper}),"undefined"==typeof e.has_more||e.has_more||(d=!1),"searchGlobal"===r&&n&&"undefined"==typeof e.has_more&&(d=e.list.length>0),o.addDataToCache(r,c,n,d,a.page),"function"==typeof a.callback&&a.callback.call(null,n,d,a,f)},o.afterFetchData=function(e,a,t,n){var r=n.config;1===e?o.afterFetchSuccess(a,n):("function"==typeof r.failCallBack&&r.failCallBack(a,t,n),o.DEBUG&&console.warn("fetch error"))},o._fetchStrs="",o.fetchData=function(e,a,t,c){a=a||{};var i=e+r.stringify(a);return o._fetchStrs===i?void(n&&console.log("fetch too much!")):(o._fetchStrs=i,a.t=Math.random(),void r.getJSON(e,a,function(e){var n;n=e&&0===e.errno?1:0,o._fetchStrs="",t.call(null,n,e,a,c)}).error(function(e){var n;try{n=r.parseJSON(e.responseText)}catch(i){}o._fetchStrs="",t.call(null,0,n,a,c)}))},o.delayFetch=function(){return""!==o._fetchStrs},i.delayFetch=o.delayFetch,t.exports=i});
;define("system-core:system/cache/listCache/cacheManage.js",function(e,t,n){var a=e("system-core:system/cache/listCache/listCache.js"),r={},c=function(e){if("prototype"===e||"apply"===e||"call"===e||"name"===e)return!0;for(var t in o)if(t===e)return!0;return!1},o=function(e,t,n){if(c(e))throw new Error('instance "'+e+'" is already exists!');this.cacheName=e,this.config=t,this.key=n,a.addCache(this.cacheName,this.key,this.config)},i=function(){for(var e in a)a.hasOwnProperty(e)&&(o.prototype[e]=function(e){return function(){var t,n=Array.prototype.slice.apply(arguments);return n.unshift(this.key),n.unshift(this.cacheName),t=a[e].apply(null,n),"undefined"==typeof t?this:t}}(e))};i(),o.prototype.onBeforeGetCacheData=function(e){a.onBeforeGetCacheData=e},o.prototype.updateKey=function(e){this.key=e},o.replaceSingleCache=function(e,t,n){return a.replaceFirstCache(e,t,n)},o.prototype.getKey=function(){return this.key},o.prototype.getCache=o.getCache=function(){return a.cache},o.removeCache=function(e){r[e]&&(r[e]=null);var t=o.getCache();t[e]=null},o.obtainCache=function(e,t,n){return r[e]||(r[e]=new o(e,t,n)),r[e]},o.prototype.selfAddDataToCache=function(){a.addDataToCache.apply(void 0,arguments)},n.exports=o});
;define("system-core:system/uiService/page/page.js",function(e,a,t){var i=e("base:widget/libs/jquerypacket.js"),s=function(e){if("object"!=typeof e)throw"error: the param CONF is not a object";this._listLength=e.allNu||0,this._everyPageNu=e.everyPageNu||100,this._im_active=e.im_active||!1,this._pageContainer=e.pageContainer||null,this._pageType=e.pageType||!1,this._pageNuShow=e.pageNuShow||7,this._pageBorder=e.pageBorder||!1,this._currentPageNu=1,this._html=void 0,this._display=!1,this._visible=!0,this._activeTimeout=null,this._maxPageNu=1,this._renderPage(1)};s.prototype={init:function(){var e=this._pageType?"pagese "+(this._pageBorder?"page-border":""):"paging",a=['<div class="'+e+'">'],t=this;a.push('<a href="javascript:void(0)" class="page-home mou-evt">首页</a>'),a.push('<a href="javascript:void(0)" class="page-prev">上一页</a>'),t._pageType?a.push('<span class="page-content"></span>'):(a.push('<span class="txt">第</span>'),a.push('<span class="page-input-wrap"><input type="text" class="page-input"/></span>'),a.push('<span class="txt">/<b class="page-all"></b>页</span>')),a.push('<a href="javascript:void(0)" class="page-next mou-evt">下一页</a>'),a.push('<a href="javascript:void(0)" class="page-end mou-evt" >末页</a>'),a.push("</div>"),this._html=a.join("\n"),null!==this._pageContainer&&(!this._pageContainer instanceof i&&(this._pageContainer=i(this._pageContainer)),this._initContainerDelegate.call(this))},_initContainerDelegate:function(){var e=this;this._pageContainer.delegate(".page-home","click",function(){i(this).hasClass("g-disabled")||1===e._currentPageNu||(e._currentPageNu=1,e._renderPage(e._currentPageNu),e.onActive.call(e,e._currentPageNu,(e._currentPageNu-1)*e._everyPageNu,e._everyPageNu))}),this._pageContainer.delegate(".page-end","click",function(){i(this).hasClass("g-disabled")||e._currentPageNu===e._maxPageNu||(e._currentPageNu=e._maxPageNu,e._renderPage(e._currentPageNu),e.onActive.call(e,e._currentPageNu,(e._currentPageNu-1)*e._everyPageNu,e._everyPageNu))}),this._pageContainer.delegate(".page-prev","click",function(){i(this).hasClass("g-disabled")||1===e._currentPageNu||(e._currentPageNu--,e._renderPage(e._currentPageNu),e.onActive.call(e,e._currentPageNu,(e._currentPageNu-1)*e._everyPageNu,e._everyPageNu))}),this._pageContainer.delegate(".page-next","click",function(){i(this).hasClass("g-disabled")||e._currentPageNu===e._maxPageNu||(e._currentPageNu++,e._renderPage(e._currentPageNu),e.onActive.call(e,e._currentPageNu,(e._currentPageNu-1)*e._everyPageNu,e._everyPageNu))}),this._pageContainer.delegate(".page-number","click",function(){if(!i(this).hasClass("g-disabled")){var a=i(this).text(),t=parseInt(a);e._currentPageNu=t,e._renderPage(t),e.onActive.call(e,e._currentPageNu,(e._currentPageNu-1)*e._everyPageNu,e._everyPageNu)}}),this._pageContainer.delegate(".page-input","keyup",function(){if(e._im_active){var a=i(this).val(),t=parseInt(a);t!=a||0>=t||t>e._maxPageNu||(e._currentPageNu=t,clearTimeout(e._activeTimeout),e._activeTimeout=setTimeout(function(){e._renderPage(e._currentPageNu),e.onActive.call(e,e._currentPageNu,(e._currentPageNu-1)*e._everyPageNu,e._everyPageNu)},1500))}}),this._pageContainer.delegate(".page-input","change",function(){var a=i(this).val(),t=parseInt(a);t!=a||0>=t||t>e._maxPageNu||(e._im_active&&(clearTimeout(e._activeTimeout),e._im_active=!1,e._activeTimeout=setTimeout(function(){e._im_active=!0},2e3)),e._currentPageNu=t,e._renderPage(e._currentPageNu),e.onActive.call(e,e._currentPageNu,(e._currentPageNu-1)*e._everyPageNu,e._everyPageNu))})},_countMaxPageNu:function(){if(0===this._listLength)return this._maxPageNu=0,this._maxPageNu;var e=this._listLength/this._everyPageNu+(this._listLength%this._everyPageNu==0?0:1)||1;return this._maxPageNu=Math.floor(e),this._maxPageNu},setPageContainer:function(e){return this._pageContainer=!e instanceof i?i(e):e,this._initContainerDelegate.call(this),this},_insertPage:function(e){var a="";if(this._maxPageNu<=this._pageNuShow)for(var t=0;t<this._maxPageNu;t++)a+='<span class="page-number '+(e==t+1?"g-disabled":"")+'">'+(t+1)+"</span>";else{a='<span class="pe-ellipsis">...</span>';for(var t=0;t<this._pageNuShow;t++)a+='<span class="page-number">'+(t+1)+"</span>";a+='<span class="ne-ellipsis">...</span>'}i(".page-content",this._pageContainer).html(a),this._maxPageNu>this._pageNuShow?this._countPage(e):(i(".page-prev",this._pageContainer).addClass("none"),i(".page-next",this._pageContainer).addClass("none"))},_countPage:function(e){var a=(this._pageNuShow-1)/2,t="";if(i(".page-prev",this._pageContainer).removeClass("none"),i(".pe-ellipsis",this._pageContainer).removeClass("none"),i(".page-next",this._pageContainer).removeClass("none"),i(".ne-ellipsis",this._pageContainer).removeClass("none"),e>a+1&&this._maxPageNu-e>a)for(var s=0;s<this._pageNuShow;s++)t=e+s-a==e?"g-disabled":"",i(".page-number",this._pageContainer).eq(s).text(e+s-a).addClass(t);else if(a+1>=e)i(".page-number",this._pageContainer).eq(e-1).addClass("g-disabled"),i(".pe-ellipsis",this._pageContainer).addClass("none"),i(".page-prev",this._pageContainer).addClass("none");else if(this._maxPageNu-e<=a){for(var s=0;s<this._pageNuShow;s++)t=this._maxPageNu-this._pageNuShow+s+1==e?"g-disabled":"",i(".page-number",this._pageContainer).eq(s).text(this._maxPageNu-this._pageNuShow+s+1).addClass(t);i(".ne-ellipsis",this._pageContainer).addClass("none"),i(".page-next",this._pageContainer).addClass("none")}},_renderPage:function(e){return this._countMaxPageNu.call(this),e>this._maxPageNu?void this._renderPage(this._maxPageNu):0===this._listLength?void this.setDisplay(!1):this._maxPageNu<=1&&this._display?void this.setDisplay(!1):(this._maxPageNu>1&&!this._display?this.setDisplay(!0):this._maxPageNu>1&&this._display&&(this._pageType?this._insertPage(e):(i(".page-all",this._pageContainer).text(this._maxPageNu),i(".page-input",this._pageContainer).val(e))),i(".page-prev",this._pageContainer).removeClass("g-disabled"),i(".page-home",this._pageContainer).removeClass("g-disabled"),i(".page-next",this._pageContainer).removeClass("g-disabled"),i(".page-end",this._pageContainer).removeClass("g-disabled"),1==e&&(i(".page-prev",this._pageContainer).addClass("g-disabled"),i(".page-home",this._pageContainer).addClass("g-disabled")),this._maxPageNu==e&&(i(".page-next",this._pageContainer).addClass("g-disabled"),i(".page-end",this._pageContainer).addClass("g-disabled")),void(this._currentPageNu=e))},setDisplay:function(e){if(e){if(1==this._maxPageNu)return void this.setDisplay(!1);if("undefined"==typeof this._html&&this.init.call(this),null===this._pageContainer)return;this._pageContainer.html(this._html),this._pageType?this._insertPage(1):(i(".page-input",this._pageContainer).val(1),i(".page-all",this._pageContainer).text(this._maxPageNu))}else this._pageContainer.html("");this._display=e},setVisible:function(e){e?this._pageContainer.show():this._pageContainer.hide(),this._visible=e},chageAllNu:function(e,a){if(this._listLength==e)return!1;this._listLength=e;var t=this;this._countMaxPageNu(),this._currentPageNu>this._maxPageNu&&(this._currentPageNu=this._maxPageNu),this._renderPage(this._currentPageNu),a||t.onActive.call(t,t._currentPageNu,(t._currentPageNu-1)*t._everyPageNu,t._everyPageNu)},chageEveryPageNu:function(e){if(1>e||this._everyPageNu==e)return!1;var a=this;this._everyPageNu=e,this._countMaxPageNu(),this._currentPageNu>this._maxPageNu&&(this._currentPageNu=this._maxPageNu),this._renderPage(this._currentPageNu),a.onActive.call(a,a._currentPageNu,(a._currentPageNu-1)*a._everyPageNu,a._everyPageNu)},goNext:function(){this._pageContainer.find(".page-next").trigger("click")},goPrev:function(){this._pageContainer.find(".page-prev").trigger("click")},goTo:function(e,a){return"number"==typeof e&&e>=0&&e<=this._maxPageNu?(this._currentPageNu=e,this._renderPage(e),void(a&&_this.onActive.call(_this,_this._currentPageNu,(_this._currentPageNu-1)*_this._everyPageNu,_this._everyPageNu))):!1},refreshCurrentPage:function(e,a){e&&(this._listLength=e),a&&(this._everyPageNu=a),this._renderPage(this._currentPageNu),this.onActive(this._currentPageNu,(this._currentPageNu-1)*this._everyPageNu,this._everyPageNu)},onActive:function(){}},s.prototype.constructor=s,t.exports=s});
;define("system-core:system/uiService/motionSensor/motionSensor.js",function(t,i,n){var o=!1,s=function(t,i){this._mPrivateFlags=0,this._mCanvasView=t,this._mOrientation=i,this._mMotionPoint=[-1,-1],this._mLastMotionPoint=[-1,-1],this._mNativeSensors=[]};s.MOTION_LISTENING=1,s.INSTALLED=2,s.MOTION_ACCEPT=4,s.HORIZONTAL=0,s.VERTICAL=1,s.TOUCH_THRESHOLD=5,s.hasMotionCampatibility=function(){return"ontouchstart"in document},s.prototype={onMotionStart:function(){},onMotionEnd:function(){},onMotion:function(){},dispatchMotionStart:function(t,i){this._mMotionPoint[0]=t,this._mMotionPoint[1]=i,o&&console.log("Motion Start "+t+":"+i),this._mPrivateFlags|=s.MOTION_LISTENING,this.onMotionStart(this._mCanvasView,this._mMotionPoint)},dispatchMotionMove:function(t,i){var n=s.MOTION_LISTENING,e=s.MOTION_ACCEPT;if((this._mPrivateFlags&n)==n){var a=this._mMotionPoint[0],r=this._mMotionPoint[1],h=-1==this._mLastMotionPoint[0]?a:this._mLastMotionPoint[0],m=-1==this._mLastMotionPoint[1]?r:this._mLastMotionPoint[1];this._mLastMotionPoint[0]=t,this._mLastMotionPoint[1]=i;var _=t-h,c=i-m;return o&&console.log("Motion Delta: "+_+"-"+c),(this._mPrivateFlags&e)==e?void this.onMotion(this._mCanvasView,this._mLastMotionPoint,_,c,this._mOrientation):void(this._motionAccept(a,r,t,i)&&(o&&console.log("touch accept"),this._mPrivateFlags|=s.MOTION_ACCEPT,this.onMotion(this._mCanvasView,this._mLastMotionPoint,_,c,this._mOrientation)))}},dispatchMotionEnd:function(){o&&console.log("Touch End");var t=s.MOTION_LISTENING;(this._mPrivateFlags&t)==t&&(this._mPrivateFlags&=~(s.MOTION_LISTENING|s.MOTION_ACCEPT),this._mMotionPoint[0]=-1,this._mMotionPoint[1]=-1,this._mLastMotionPoint[0]=-1,this._mLastMotionPoint[1]=-1)},getOrientation:function(){return this._mOrientation},setOrientation:function(t){this._mOrientation=t},getInitialMotionPoint:function(){return this._mInitialPoint},_motionAccept:function(t,i,n,o){var e=n-t,a=o-i,r=Math.abs(e),h=Math.abs(a);return this._mOrientation==s.HORIZONTAL?h>r?!1:r<s.TOUCH_THRESHOLD?!1:!0:r>h?!1:h<s.TOUCH_THRESHOLD?!1:!0},uninstall:function(){var t=s.INSTALLED;(this._mPrivateFlags&t)==t&&(this._mPrivateFlags&=~(s.MOTION_LISTENING|s.MOTION_ACCEPT|s.INSTALLED),this._mCanvasView.removeEventListener("touchstart",this._mNativeSensors[0],!1),this._mCanvasView.removeEventListener("touchmove",this._mNativeSensors[1],!1),document.removeEventListener("touchend",this._mNativeSensors[2],!1),document.removeEventListener("touchcancel",this._mNativeSensors[2],!1))},install:function(){var t=s.INSTALLED,i=this;if((this._mPrivateFlags&t)!=t){this._mPrivateFlags|=t;var n=function(t){var n=t.touches[0];return i.dispatchMotionStart(n.clientX,n.clientY),!1};this._mCanvasView.addEventListener("touchstart",n,!1),this._mNativeSensors[0]=n;var o=function(t){var n=t.touches[0];return i.dispatchMotionMove(n.clientX,n.clientY),t.preventDefault(),t.stopPropagation(),!1};this._mCanvasView.addEventListener("touchmove",o,!1),this._mNativeSensors[1]=o;var e=function(){i.dispatchMotionEnd()};document.addEventListener("touchend",e,!1),document.addEventListener("touchcancel",e,!1),this._mNativeSensors[2]=e}}},n.exports=s});
;define("system-core:system/uiService/keyGuard/keyGuard.js",function(e,t,i){var s=!1,n=e("base:widget/libs/jquerypacket.js"),a=function(){this._mPrivateFlags=0};a.prototype={onMount:function(){},onConnectivity:function(){},onKeyAction:function(){},onKeyEvent:function(){}};var r=function(){this._mPrivateFlags=0,this._mListeners=[],this._mHijacker=null,this._mHijackContext=null};r.EVENT_ARROW_UP=38,r.EVENT_ARROW_DOWN=40,r.EVENT_ARROW_LEFT=37,r.EVENT_ARROW_RIGHT=39,r.EVENT_PAGE_UP=33,r.EVENT_PAGE_DOWN=34,r.EVENT_ENTER=13,r.EVENT_ESCAPE=27,r.INSTALL=1,r.EXCLUSIVE_LOCK=2,r.prototype={acquire:function(e,t){if((this._mPrivateFlags&r.EXCLUSIVE_LOCK)==r.EXCLUSIVE_LOCK)throw new Error("exclusive lock must be relase before anybody else try to acqiure keyguard service");if(s&&console.log("execusive acquire ",t),this._install(),t){this._mPrivateFlags|=r.EXCLUSIVE_LOCK;for(var i=0,n=this._mListeners.length;n>i;i++)this._mListeners[i].onConnectivity(!1)}this._mListeners.push(e),e.onMount(!0)},release:function(e){for(var t=(this._mPrivateFlags&r.EXCLUSIVE_LOCK)==r.EXCLUSIVE_LOCK,i=!1,n=0,a=this._mListeners.length;a>n;n++)if(e==this._mListeners[n]){if(this._mListeners[n].onMount(!1),this._mListeners.splice(n,1),!t)break}else i&&this._mListners[n].onConnectivity(!0);t&&(this._mPrivateFlags&=~r.EXCLUSIVE_LOCK),this._mHijacker=null,this._mHijackContext=null,s&&console.log("relase keyguard and hijacker"),0==this._mListeners.length&&this._uninstall()},hijackKeyEvent:function(e,t){var i=(this._mPrivateFlags&r.EXCLUSIVE_LOCK)==r.EXCLUSIVE_LOCK;return i?(this._mHijacker=e,this._mHijackContext=t,s&&console.log("hijack keyevent now"),!0):!1},dispatchKeyEvent:function(e){for(var t=(this._mPrivateFlags&r.EXCLUSIVE_LOCK)==r.EXCLUSIVE_LOCK,i=null,s=this._mListeners.length,n=s-1;n>=0;n--){i=this._mListeners[n];var a=!0;a&=e.shiftKey,a&=e.ctrlKey,a&=e.altKey;var _=!1;if(!a)switch(e.keyCode){case r.EVENT_ARROW_UP:case r.EVENT_ARROW_DOWN:case r.EVENT_ARROW_LEFT:case r.EVENT_ARROW_RIGHT:case r.EVENT_PAGE_UP:case r.EVENT_PAGE_DOWN:case r.EVENT_ENTER:case r.EVENT_ESCAPE:_=i.onKeyAction(e.keyCode)}if(_||(this._mHijacker?this._mHijacker.call(this._mHijackContext?this._mHijackContext:this,e.keyCode,{shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey}):i.onKeyEvent(e.keyCode,{shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey})),n==s-1&&t)break}},_install:function(){if((this._mPrivateFlags&r.INSTALL)!=r.INSTALL){var e=this;n(document).bind("keyup",function(t){e.dispatchKeyEvent(t)}),s&&console.log("Keyguard service installed"),this._mPrivateFlags|=r.INSTALL}},_uninstall:function(){(this._mPrivateFlags&r.INSTALL)==r.INSTALL&&(n(document).unbind("keyup"),s&&console.log("Keyguard service uninstalled"),this._mPrivateFlags&=~r.INSTALL)}},i.exports=r});
;define("system-core:system/uiService/mouseWheelSensor/mouseWheelSensor.js",function(e,t,n){var i=function(e){this._mPrivateFlags=0,this._mView=e,this.onWheelChanged=null};i.FORWARD=1,i.BACKWARD=2,i.FLAG_PREVENT_DEFAULT=!1,i.BUILD=4,i.prototype={_init:function(){if((this._mPrivateFlags&i.BUILD)!=i.BUILD){var e=this,t=function(){var t=window.event?window.event:arguments[0],n=0;t.wheelDelta?n=t.wheelDelta/120:t.detail&&(n=-t.detail/3),n&&e._sendWheelChangedMessage(n>0?i.BACKWARD:i.FORWARD,Math.abs(n)),i.FLAG_PREVENT_DEFAULT&&(t.preventDefault?t.preventDefault():t.returnValue=!1)};"undefined"!=typeof window.attachEvent?this._mView.attachEvent("onmousewheel",t):"onmousewheel"in window?this._mView.addEventListener("mousewheel",t,!1):"undefined"!=typeof window.addEventListener&&this._mView.addEventListener("DOMMouseScroll",t,!1),this._mPrivateFlags|=i.BUILD}},sense:function(){this._init()},_sendWheelChangedMessage:function(e,t){"function"==typeof this.onWheelChanged&&this.onWheelChanged.call(this,e,t)}},n.exports=i});
;define("system-core:system/uiService/historyListManage/historyListManage.js",function(t,i,s){var e=t("base:widget/libs/jquerypacket.js"),r=t("base:widget/tools/tools.js"),o=t("base:widget/historyManager/historyManager.js"),n=function(t){this.historyList=[],this.historyListTips=[],t||(t={}),t.container?(t.$container=e(t.container),t.renderDefaultDom=!0):t.renderDefaultDom=!1,this.config=t,this.init()};n.prototype.init=function(){if(this.config.renderDefaultDom){var t=this.config.$container;if(this.config&&this.config.needSwitch&&this.config.needSwitch===!0){t.find(".history-list-tips").before(h.historySwitchHTML()),this.$swicthButton=t.find(".historylistmanager-switch");var i=o.getCurrentParams();"grid"===i.vmode&&this.$swicthButton.addClass("current")}t.append(h.historyHTML()),this.$historyList=t.find('ul[node-type="historylistmanager-history"]'),this.$historySubList=t.find('li[node-type="historylistmanager-history-list"]'),this.bindEvent()}},n.prototype.bindEvent=function(){if(this.config.renderDefaultDom){var t=this;t.$historyList.delegate("a","click",function(){var i=e(this),s=parseInt(i.attr("data-deep"),10);t._goHistoryByDeep(s)}),this.config&&this.config.needSwitch&&this.config.needSwitch===!0&&t.config.$container.delegate(".historylistmanager-switch","click",function(){e(this).toggleClass("current");var t=e(this).hasClass("current"),i=o.getCurrentParams(),s=o.getCurrentModule();i.vmode=t?"grid":"list",o.getDefault().addHistory(o.buildHistory(s,i))})}},n.prototype._goHistoryByDeep=function(t){-1===t?this.goPrev():this.goToHistory(t+1)},n.prototype.addHistory=function(t,i){this.historyList.push(t),this.historyListTips.push(i),this.historyChange()},n.prototype.getPath=function(){var t=this.historyList.join("/");return t=("/"+t+"/").replace(/^\/+/,"/")},n.prototype.changeHistory=function(t,i){t.length!==i.length||t.length<=0||(this.historyList=t,this.historyListTips=i,this.historyChange())},n.prototype.goToHistory=function(t){t>=this.historyList.length||0>t||(this.historyList.splice(t,this.historyList.length),this.historyListTips.splice(t,this.historyListTips.length),this.historyChange())},n.prototype.goPrev=function(){this.goToHistory(this.historyList.length-1)},n.prototype.clear=function(){this.historyList.length=0,this.historyListTips.length=0,this.historyChange()},n.prototype.historyChange=function(){this.renderHistoryDOM(),this.onHistoryChange(this.historyList,this.historyListTips)},n.prototype.getFullPathStr=function(t,i){return i=Math.min(t.length,i),t.slice(0,i+1).join("/")},n.prototype.renderHistoryDOM=function(){if(this.config.renderDefaultDom){if(!(this.historyListTips.length>1))return void this.$historyList.hide();this.$historyList.show();var t,i,s=[],e=8,o=4,n=this.historyListTips.slice();""===n[n.length-1]&&(n.length=n.length-1),n.length<=2?e=30:n.length<=3&&(e=15);var h=(this.$historyList.width()-138,Math.max(n.length-o,0)),a=n;if(n.length>o){a=n.slice(h);var y=r.encodeHTML(this.getFullPathStr(n,n.length-o));s[s.length]='<span title="'+y+'">...</span><span class="historylistmanager-separator-gt">&gt;</span>'}for(var g=1,l=a.length;l>g;g++){t=a[g],i=t.length>e?t.substring(0,e)+"...":t,i=r.encodeHTML(i);var c=r.encodeHTML(this.getFullPathStr(n,g+h));s[s.length]=g!==l-1?'<a href="javascript:;" title="'+c+'" data-deep="'+(g+h)+'">'+i+'</a><span class="historylistmanager-separator-gt">&gt;</span>':'<span title="'+c+'">'+i+"</span>"}this.$historySubList.html(s.join("")),this.changeHistoryList()}},n.prototype.onHistoryChange=function(){},n.prototype.changeHistoryList=function(){this.$historyList.find(".listTitle").html(this.historyListTips[0]),this.onChangeHistoryList()},n.prototype.onChangeHistoryList=function(){};var h={indexArray:function(t,i){return e.inArray(t,i)},historySwitchHTML:function(){return'<a class="historylistmanager-switch"></a>'},historyHTML:function(){return'<ul class="historylistmanager-history" node-type="historylistmanager-history"><li><a data-deep="-1" href="javascript:;">返回上一级</a><span class="historylistmanager-separator">|</span><a href="javascript:;" data-deep="0">全部文件</a><span class="historylistmanager-separator-gt">&gt;</span></li><li node-type="historylistmanager-history-list"></li></ul>'}};s.exports=n});
;define("system-core:system/uiService/list/listHeader.js",function(e,t,i){var s=e("base:widget/libs/jquerypacket.js"),n=(e("system-core:system/baseService/message/message.js"),e("system-core:system/uiService/log/log.js").instanceForSystem),r=function(e){if(e===!1)this.hasInit=!1;else{if(!e||!e.container)throw new Error("config.container is empty!");this.config=e,this.$container=s(e.container),this.canTriggerOrder=e.canTriggerOrder,this.init()}};r.prototype.init=function(){if(this.hasInit!==!1){var e=this.$container;e.append(this.getHeaderDom()),this.config.columns&&this.buildHeader(this.config),this.bindEvent()}},r.prototype.buildHeader=function(e){if(this.hasInit!==!1){this.config=e;var t=this.$container.find(c.listCols),i=this.getHeaderColumnsDom();t.html(i),e.order&&this.updateOrder(e.order,e.desc,!0)}},r.prototype.bindEvent=function(){if(this.hasInit!==!1){var e=this.$container,t=this;e.delegate(c.col,"click",function(){var e=s(this),i=e.index();return t.operateClick(i,e),!1}).delegate(c.check,"click",function(){var e=(new Date).getTime(),i=s(this),r=i.closest(c.col),o=r.index();t.operateChecked(o,r);var a=(new Date).getTime();return n.send({name:"listAllSel",value:a-e}),!1})}},r.prototype.getHeaderDom=function(){if(this.hasInit!==!1){var e=[];return e.push(o.buildBefore()),e.push(o.buildAfter()),e.join("")}},r.prototype.getHeaderColumnsDom=function(){if(this.hasInit!==!1){for(var e,t=this.config.columns,i=[],s=0,n=t.length;n>s;s++)e=t[s],i.push(o.buildItem(e,0===s,s===n-1));return i.join("")}},r.prototype.operateClick=function(e,t){if(this.hasInit!==!1){var i,s=this.config,n=s.order,r=s.desc;i=t.attr(c.dataKey),i===n&&(r=0===r?1:0),this.updateOrder(i,r,!1)}},r.prototype.operateChecked=function(e,t){if(this.hasInit!==!1){var i=t.hasClass(c.checked);this.onCheckChanged(!i)}},r.prototype.onCheckChanged=function(){},r.prototype.updateOrder=function(e,t,i){if(this.hasInit!==!1&&("function"!=typeof this.canTriggerOrder||this.canTriggerOrder()!==!1)){var s,n=this.$container,r=n.find('li[data-key~="'+e+'"]'),o=r.index();if(r.length<1)return!1;if(s=this.config.columns[o],s.order===!1)return!1;r.removeClass(c.ascend).removeClass(c.descend),r.siblings().removeClass(c.ascend).removeClass(c.descend),r.addClass(1===t?c.descend:c.ascend),this.config.order=e,this.config.desc=t,i||this.onOrderChange(e,t)}},r.prototype.changeChecked=function(e,t){if(this.hasInit!==!1){var i=this.$container,s=i.find(c.checkbox).parent(),n=i.find(c.checkCountTips),r=e>0&&t>0,o=e>0&&e===t;r?i.addClass(c.visibleOperate):i.removeClass(c.visibleOperate),o?s.addClass(c.checked):s.removeClass(c.checked),n.text(this.getCheckMsg(e,t))}},r.prototype.getCheckMsg=function(e){return this.hasInit!==!1?"已选中"+e+"个文件/文件夹":void 0},r.prototype.onOrderChange=function(){},r.prototype.getOperateContainer=function(){if(this.hasInit!==!1){var e=this.$container,t=e.find(c.operate);return t}},r.prototype.changeVmode=function(e){if(this.hasInit!==!1){var t=this.$container,i=t.find(c.gridCols),s=t.find(c.listCols);"list"===e.type?(i.hide(),s.show()):"grid"===e.type&&(i.show(),s.hide())}};var o={buildItem:function(e,t,i){var s="",n="col ",r="";return e.visible===!1&&(s+="display:none;"),t&&(n+="first-col "),e.order===!1&&(n+="order-disabled "),i&&(n+="last-col "),s+="width:"+e.width+"%;",e.checkbox&&(r=o.buildCheckbox()),'<li data-key="'+e.key+'" class="'+n+'" style="'+s+'">'+r+'<span class="text">'+e.name+'</span><span class="order-icon"></span></li>'},buildBefore:function(){return'<div class="list-header"><ul class="list-cols" node-type="cols">'},buildAfter:function(){return"</ul>"+o.buildGridCols()+o.buildOperateArea()+"</div>"},buildCheckbox:function(){return'<div node-type="check" class="col-item check"><span class="check-icon"></span></div>'},buildOperateArea:function(){return'<div class="list-header-operatearea global-clearfix"><span class="count-tips"></span><div class="list-header-operate"></div></div>'},buildGridCols:function(){return'<ul class="grid-cols" node-type="cols" style="display: none;"><li class="col first-col">'+o.buildCheckbox()+"</li></ul>"}},c={col:".col",check:".check",operate:".list-header-operate",visibleOperate:"list-header-visible-operate",checked:"checked",checkCountTips:".count-tips",dataKey:"data-key",ascend:"ascend",descend:"descend",checkbox:'div[node-type~="check"]',gridCols:".grid-cols",listCols:".list-cols"};i.exports=r});
;define("system-core:system/uiService/list/viewRecycler/viewRecycler.js",function(e,i,t){var s=function(){this._mRecycledViews=[],this._mActiveViews=[],this._mFirstPosition=0};s.prototype={add:function(e){this._mRecycledViews.push(e),e.parentNode.removeChild(e)},get:function(){if(0==this._mRecycledViews.length)return null;var e=this._mRecycledViews.pop();return e},scrapActiveViews:function(){var e=this._mActiveViews,i=e.length;if(0!=i){for(var t=0,s=e.length;s>t;t++)this._mRecycledViews.push(e[t]);for(;this._mRecycledViews.length>=i;){var c=this._mRecycledViews.pop();c&&(c.parentNode.removeChild(c),c=null)}}},getActiveView:function(e){var i=e-this._mFirstPosition,t=this._mActiveViews;if(0>i||i>t.length-1)return null;var s=t[i];return t[i]=null,s},preseveActiveViews:function(e,i){var t=this._mActiveViews;t.length=e.length;for(var s=0,c=e.length;c>s;s++)t[s]=e[s];this._mFirstPosition=i},clear:function(){this._mRecycledViews.length=0}},t.exports=s});
;define("system-core:system/baseService/timerService/timerService.js",function(t,i,e){var n=function(t,i){this._timer=null,this._interval=t,this._actionListener=i,this._isAlive=!1,this._startTime=0};n.prototype={isAlive:function(){return this._isAlive},interrupt:function(){this._timer&&clearTimeout(this._timer),this._timer=null,this._isAlive=!1,this._startTime=0},setActionListener:function(t){"function"==typeof t&&(this._actionListener=t)},getActionListener:function(){return this._actionListener},start:function(){var t=this;this._timer=setTimeout(function(){t.interrupt(),t._actionListener.call(t)},this._interval),this._startTime=(new Date).getTime(),this._isAlive=!0},getElapsed:function(){return(new Date).getTime()-this._startTime},setInterval:function(t){"number"==typeof t&&(this._interval=t)},getInterval:function(){return this._interval}},e.exports=n});
;define("system-core:system/uiService/iScrollbar/iScrollbar.js",function(t,e,i){var r=t("base:widget/libs/jquerypacket.js"),s=t("system-core:system/baseService/timerService/timerService.js"),o=t("system-core:system/uiService/mouseWheelSensor/mouseWheelSensor.js"),n=function(t,e){this._mUI=t,this._mConfig=e||{},this._mThumbTop=0,this._mClickTimer=null,this._mPrivateFlags=0,this._mCoorX=-1,this._mCoorY=-1,this._mCoorWidth=0,this._mCoorHeight=0,this._mArrowScrollDir=-1,this._mDX=-1,this._mDY=-1,this._mConfig.defaultScroll&&this._initDefaultScroll(),this._init()};n.FORWARD=1,n.BACKWARD=2,n.AWAKE=4,n.THUMB_AWAKE=8,n.COUNTING=16,n.USING_SIMULATE_DRAG=32,n.START_DRAGGING=64,n.LOCKED=128,n.HAS_BORDER=256,n.CLICK_TIMEOUT=300,n.prototype={_initDefaultScroll:function(){var t=r(this._mUI.listContainer.parentNode);t.append('<div class="scrollbar" style="display:none" unselectable="on"><div id="scrollbarArrowUp" class="scrollbar-arrow scrollbar-arrow-up sprite" unselectable="on"></div><div class="scrollbar-tracker" unselectable="on"><div class="scrollbar-thumb" unselectable="on"></div></div><div id="scrollbarArrowDown" class="scrollbar-arrow scrollbar-arrow-down sprite" unselectable="on"></div></div>'),this._mUI.tracker=t.find(".scrollbar-tracker")[0],this._mUI.thumb=t.find(".scrollbar-thumb")[0],this._mUI.upArrow=t.find(".scrollbar-arrow-up")[0],this._mUI.downArrow=t.find(".scrollbar-arrow-down")[0],this._mUI.scrollbar=t.find(".scrollbar")[0]},_init:function(){this._mPrivateFlags|=n.AWAKE,this._mPrivateFlags|=n.THUMB_AWAKE,this._mPrivateFlags|=n.HAS_BORDER;var t=this;this._mUI.tracker&&(this._mUI.tracker.onclick=function(e){if(!t.locked()){var i=e?e:window.event,r=i.target||i.srcElement;if(r!=t._mUI.thumb){var s=parseInt(i.offsetY||i.layerY);(s<t._mThumbTop||s>t._mThumbTop+t._mUI.thumb.offsetHeight)&&(s>t._mThumbTop?t.onPageScroll(o.FORWARD):s<t._mThumbTop&&t.onPageScroll(o.BACKWARD))}}});var e=function(r){if((t._mPrivateFlags&n.COUNTING)==n.COUNTING){var s=r?r:window.event,o=s.clientX,l=s.clientY;(o<t._mCoorX||o>t._mCoorX+t._mCoorWidth||l<t._mCoorY||l>t._mCoorY+t._mCoorHeight)&&(t.abruptPersistArrowScroll(),t.onPersistArrowScrollEnd(),t._unlisten(document,"mousemove",e),t._unlisten(document,"mouseup",i))}},i=function(){if((t._mPrivateFlags&n.COUNTING)==n.COUNTING){var r=t._mArrowScrollDir;null!=t._mClickTimer&&t._mClickTimer.isAlive()?(t._mClickTimer.interrupt(),t.onArrowScroll(r)):t.onPersistArrowScrollEnd(r),t._mPrivateFlags&=~n.COUNTING,t._unlisten(document,"mousemove",e),t._unlisten(document,"mouseup",i)}},r=function(r){if(!t.locked()&&(t._mPrivateFlags&n.COUNTING)!=n.COUNTING){var o="up"==this.getAttribute("dir")?n.BACKWARD:n.FORWARD;t._mArrowScrollDir=o;var l=r?r:window.event;t._mCoorX=l.clientX-parseInt(l.offsetX||l.layerX),t._mCoorY=l.clientY-parseInt(l.offsetY||l.layerY),t._mCoorWidth=this.offsetWidth,t._mCoorHeight=this.offsetHeight,null==t._mClickTimer?t._mClickTimer=new s(n.CLICK_TIMEOUT,null):t._mClickTimer.interrupt(),t._mClickTimer.setActionListener(function(){t.onPersistArrowScrollStart(o)}),t._mClickTimer.start(),t._mPrivateFlags|=n.COUNTING,t._listen(document,"mousemove",e),t._listen(document,"mouseup",i)}};if(this._mUI.upArrow&&(this._mUI.upArrow.setAttribute("dir","up"),this._mUI.upArrow.onmousedown=r),this._mUI.downArrow&&(this._mUI.downArrow.setAttribute("dir","down"),this._mUI.downArrow.onmousedown=r),this._mUI.thumb&&this._mUI.tracker){var l=function(e){if((t._mPrivateFlags&n.START_DRAGGING)==n.START_DRAGGING){var i=e?e:window.event,r=i.clientX,s=i.clientY;t._onDragging(r,s)}i.preventDefault&&i.preventDefault()},a=function(){(t._mPrivateFlags&n.COUNTING)==n.COUNTING&&((t._mPrivateFlags&n.START_DRAGGING)==n.START_DRAGGING&&t._endDrag(),t._mPrivateFlags&=~n.COUNTING,t._unlisten(document,"mousemove",l),t._unlisten(document,"mouseup",a))};this._mUI.thumb.onmousedown=function(e){if(!t.locked()&&(t._mPrivateFlags&n.COUNTING)!=n.COUNTING){var i=e?e:window.event;t._mDX=i.clientX,t._mDY=i.clientY,t._startDrag(),t._listen(document,"mouseup",a),t._listen(document,"mousemove",l),t._mPrivateFlags|=n.COUNTING,i.preventDefault&&i.preventDefault()}}}},lock:function(t){t?(this._mPrivateFlags|=n.LOCKED,-1==this._mUI.scrollbar.className.indexOf("locked")&&(this._mUI.scrollbar.className+=" locked")):(this._mPrivateFlags&=~n.LOCKED,this._mUI.scrollbar.className=this._mUI.scrollbar.className.replace(" locked",""))},locked:function(){return(this._mPrivateFlags&n.LOCKED)==n.LOCKED},_startDrag:function(){this._mPrivateFlags|=n.START_DRAGGING},_endDrag:function(){this._mPrivateFlags&=~n.START_DRAGGING},onPageScroll:function(){},inSimulateDragging:function(){return(this._mPrivateFlags&n.USING_SIMULATE_DRAG)==n.USING_SIMULATE_DRAG},_onDragging:function(t,e){if(-1!=this._mDX&&-1!=this._mDY){var i=e-this._mDY,r=this._mThumbTop+i;r=Math.max(0,r),r=Math.min(r,this._mUI.tracker.offsetHeight-this._mUI.thumb.offsetHeight),this.inSimulateDragging()?this.onThumbStateChange(r,this._mThumbTop):this.setThumbState(r,null,!1)}this._mDX=t,this._mDY=e},_listen:function(t,e,i){"undefined"!=typeof t.addEventListener?t.addEventListener(e,i,!1):"undefined"!=typeof t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},_unlisten:function(t,e,i){"undefined"!=typeof t.removeEventListener?t.removeEventListener(e,i,!1):"undefined"!=typeof t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null},abruptPersistArrowScroll:function(){return this._mPrivateFlags&=~n.COUNTING,null!=this._mClickTimer&&this._mClickTimer.isAlive()?(this._mClickTimer.interrupt(),!0):!1},onPersistArrowScrollStart:function(){},onPersistArrowScrollEnd:function(){},onArrowScroll:function(){},onScroll:function(){},awakeThumb:function(t){t?(this._mPrivateFlags|=n.THUMB_AWAKE,this._mUI.thumb.style.display="block"):(this._mPrivateFlags&=~n.THUMB_AWAKE,this._mUI.thumb.style.display="none")},isThumbAwake:function(){return(this._mPrivateFlags&n.THUMB_AWAKE)==n.THUMB_AWAKE},setThumbState:function(t,e,i){if(!this.locked()&&this.isThumbAwake()){var r=this._mThumbTop;if(null!=e){(this._mPrivateFlags&n.HAS_BORDER)==n.HAS_BORDER&&(e-=2,e=Math.max(0,e));try{this._mUI.thumb.style.height=e+"px"}catch(s){}}try{this._mUI.thumb.style.top=t+"px"}catch(s){}this._mThumbTop=t,i!==!0&&this.onThumbStateChange(t,r)}},onThumbStateChange:function(){},getTrackerHeight:function(){return this._mUI.tracker.offsetHeight},isAwake:function(){return(this._mPrivateFlags&n.AWAKE)==n.AWAKE},awake:function(t){t?(this._mPrivateFlags|=n.AWAKE,this._mUI.scrollbar.style.display="block"):(this._mPrivateFlags&=~n.AWAKE,this._mUI.scrollbar.style.display="none"),this.onAwake(t)},onAwake:function(){},reset:function(){this.setThumbState(0,0,!1)},setUsingSimulateDraging:function(t){t?this._mPrivateFlags|=n.USING_SIMULATE_DRAG:this._mPrivateFlags&=~n.USING_SIMULATE_DRAG},setBooleanFlags:function(t,e){e?this._mPrivateFlags|=t:this._mPrivateFlags&=~t},isInTheBottom:function(){if(0===this._mUI.tracker.offsetHeight||0===this._mUI.thumb.offsetHeight)return!1;var t=this._mUI.tracker.offsetHeight-this._mUI.thumb.offsetHeight-this._mThumbTop;return 0===Math.floor(Math.abs(t))?!0:!1}},i.exports=n});
;define("system-core:system/uiService/list/recycleListView/recycleListView.js",function(t,i,s){var e=!1,h=t("system-core:system/uiService/list/viewRecycler/viewRecycler.js"),n=(t("system-core:system/uiService/keyGuard/keyGuard.js"),t("system-core:system/baseService/timerService/timerService.js")),o=t("system-core:system/uiService/mouseWheelSensor/mouseWheelSensor.js"),r=t("system-core:system/uiService/motionSensor/motionSensor.js"),l=t("system-core:system/uiService/iScrollbar/iScrollbar.js"),_=t("system-core:system/uiService/log/log.js").instanceForSystem,m=function(t){this._mUI=t,this._mPrivateFlags=0,this._mFirstPosition=0,this._mChildrenMarginTop=0,this._mChildrenCount=0,this._mElementsData=null,this._mItemCount=0,this._mItemHeight=0,this._mWheelSensor=null,this._mViewRecycler=null,this._mMotionSensor=null,this._mChildren=[],this._mSmoothScroller=null,this._mSmoothScrollDelta=0,this._mSmoothScrollRemaining=0,this._mScrollDir=-1,this.LAYOUT_MODE_NORMAL=0,this.LAYOUT_MODE_FORCE_TOP=1,this.LAYOUT_MODE_FORCE_BOTTOM=2,this.LAYOUT_MODE_SPECIFIC=3,this.LAYOUT_MODE_FROM_SPECIFIC=4,this._mLayoutMode=this.LAYOUT_MODE_NORMAL,this._mSpecificPosition=-1,this._mIScrollbar=null,this._mPersistScrollDir=-1,this._mCheckedChildren=[],this._mSyncTop=0,this._mSyncPosition=-1,this._mSyncId=null,this._mDebugAlias=null,this.CLONE_VIEW_BUILD=1,this.DATA_CHANGED=2,this.BUILD=4,this.SMOOTH_SCROLLING=8,this.USING_SCROLLBAR=16,this.USING_KEYBOARD_DISPATCHER=32,this.USING_MOUSE_WHEEL_SENSOR=64,this.CHECKED_ALL=128,this.PRESERVE_CHECKED_STATE=256,this.LOCKED=512,this.USING_LOW_PIXEL_RATIO=1024,this.USING_TOUCH_SENSOR=2048,this.TOP=0,this.BOTTOM=1,this.NOTIFY_LIST_EMPTY=0,this.NOTIFY_LIST_REPAINT=1,this.NOTIFY_SYSTEM_LOCK=2,this.WHEEL_TO_PIXEL_RATIO=60,this.WHEEL_TO_PIXEL_RATIO_LOW=60,this.SMOOTH_SCROLL_DURATION=150,this.SMOOTH_SCROLL_INTERVAL=5,this.PIXEL_RATIO_ON_DRAGGING_SCALE=1};m.prototype={setConfig:function(t){this._mConfig=t||{}},getView:function(){return null},deactivate:function(t){t?(this._mUI.listContainer.style.display="none",this.onSystemNotify(this.NOTIFY_LIST_EMPTY,!0,!0)):(this._mUI.listContainer.style.display="block",this.onSystemNotify(this.NOTIFY_LIST_EMPTY,!1,!0))},setBackedData:function(t){this.locked()||((this._mPrivateFlags&this.BUILD)!=this.BUILD&&(this._build(),this._mPrivateFlags|=this.BUILD),this._resetList(),this._mElementsData=t,this._mItemCount=null==t?0:t.length,this._layout())},setBooleanFlag:function(t,i){i?this._mPrivateFlags|=t:this._mPrivateFlags&=~t},setUsingScrollbar:function(t){t?this._mPrivateFlags|=this.USING_SCROLLBAR:this._mPrivateFlags&=~this.USING_SCROLLBAR},isUsingScrollbar:function(){return(this._mPrivateFlags&this.USING_SCROLLBAR)==this.USING_SCROLLBAR},requestLayout:function(){this.locked()||(this._mPrivateFlags|=this.DATA_CHANGED,this._mLayoutMode=this.LAYOUT_MODE_SPECIFIC,this._mPrivateFlags|=this.PRESERVE_CHECKED_STATE,this._layout(),this._mPrivateFlags&=~this.PRESERVE_CHECKED_STATE)},appendBackedData:function(t){if(null==this._mElementsData||0==this._mItemCount)return void this.setBackedData(t);if(!this.locked()){for(var i=0,s=t.length;s>i;i++)this._mElementsData.push(t[i]);this._mItemCount=this._mElementsData.length,this.requestLayout()}},updateBackedData:function(t,i){if(!this.locked()){if(this._mElementsData=t,this._mItemCount=null==t?0:t.length,this._mPrivateFlags|=this.DATA_CHANGED,this._mLayoutMode=this.LAYOUT_MODE_SPECIFIC,null!=this._mSyncId){var s=this.lookupPositionForId(this._mSyncId);-1!=s&&(e&&console.log("recover a position at ",s),this._mSyncPosition=s)}i===!0?this._mPrivateFlags|=this.PRESERVE_CHECKED_STATE:(this._mCheckedChildren.length=0,this.onCheckeChanged()),this._layout(),i===!0&&(this._mPrivateFlags&=~this.PRESERVE_CHECKED_STATE)}},getIdForPosition:function(){return null},lookupPositionForId:function(){return-1},changeBackedData:function(t,i){this.locked()||(i===!0&&this._resetList(),this._mElementsData=t,this._mItemCount=null==t?0:t.length,this._mPrivateFlags|=this.DATA_CHANGED,this._mLayoutMode=this.LAYOUT_MODE_FORCE_TOP,this._layout())},dispatchDataChanged:function(){this._mPrivateFlags|=this.DATA_CHANGED},getScrollTop:function(){return this._mFirstPosition*this._mItemHeight+Math.abs(this._mChildrenMarginTop)},getFirstPosition:function(){return this._mFirstPosition},getFirstCheckedChild:function(){if(this.isAllItemChecked())return this._mChildren[this._mFirstPosition-this._mFirstPosition];for(var t=0,i=this._mCheckedChildren.length;i>t;t++)if(this._mCheckedChildren[t]===!0)return this._mChildren[t-this._mFirstPosition];return null},getRenderingChildAt:function(t){return 0==this._mChildren.length?null:0>t||t>this._mChildren.length-1?null:this._mChildren[t]},getRenderingChildByPosition:function(t){var i=t-this._mFirstPosition;return this.getRenderingChildAt(i)},getScrollbar:function(t){var i=this,s=this._mIScrollbar;return null==s&&t===!0&&(s=new l(this._mUI,{defaultScroll:this._mUI.defaultScroll}),s.onArrowScroll=function(t){i.arrowScroll(t),i._mPersistScrollDir=-1},s.onPersistArrowScrollStart=function(t){i._mPersistScrollDir=t,i.arrowScroll(t)},s.onPersistArrowScrollEnd=function(){i._mPersistScrollDir=-1},s.onPageScroll=function(t){i._mPersistScrollDir=-1,i.pageScroll(t)},s.setUsingSimulateDraging(!0),s.onThumbStateChange=function(t,e){var h=i.PIXEL_RATIO_ON_DRAGGING_SCALE*Math.abs(t-e),n=h*i._mItemHeight*i._mItemCount/s.getTrackerHeight(),r=t-e>0?o.FORWARD:o.BACKWARD;i.scrollBy(r,n)},this._mIScrollbar=s),s},onComputeScrollbarState:function(t){var i=this._mUI.listContainer.parentNode.offsetHeight,s=this._mItemHeight,e=t.getTrackerHeight(),h=0==this._mItemCount?0:e*i/(s*this._mItemCount);h=Math.max(h,20);var n=0==this._mItemCount?0:e*this.getScrollTop()/(s*this._mItemCount);n=Math.min(n,e-h),n=Math.max(n,0),t.setThumbState(n,h,!0)},awakeScrollbar:function(t){if(t){var i=this.getScrollbar(!0);i.isAwake()||i.awake(!0)}else{var i=this.getScrollbar();null!=i&&i.isAwake()&&i.awake(!1)}},scrollToPosition:function(t){if(!this.locked()){if(0>t||t>this._mItemCount)return!1;var i=t>=this._mFirstPosition;return this._mPrivateFlags|=this.DATA_CHANGED,this._mLayoutMode=this.LAYOUT_MODE_FROM_SPECIFIC,this._mSpecificPosition=t,this._mChildrenMarginTop=0,this._mUI.listContainer.style.marginTop="0",this._mPrivateFlags|=this.PRESERVE_CHECKED_STATE,this._layout(),this._mPrivateFlags&=~this.PRESERVE_CHECKED_STATE,i?this._fixTooHigh():this._fixTooLow(),!0}},pageScroll:function(t){if(!this.locked()){var i=this._mFirstPosition,s=-1;t==o.FORWARD?(s=i+this._mChildren.length,s=Math.min(s,this._mItemCount-1)):(s=i-this._mChildren.length,s=Math.max(s,1)),this.scrollToPosition(s)}},arrowScroll:function(t){if(!this.locked()){var i=this.WHEEL_TO_PIXEL_RATIO;(this._mPrivateFlags&this.USING_LOW_PIXEL_RATIO)==this.USING_LOW_PIXEL_RATIO&&(i=this.WHEEL_TO_PIXEL_RATIO_LOW),this.smoothScroll(t,1*i)}},_resetList:function(){if(this._mChildren.length=0,this._mChildrenMarginTop=0,this._mUI.listContainer.style.marginTop="0",this._mFirstPosition=0,this._mElementsData=null,this._mItemCount=0,this._mSyncTop=0,this._mSyncPosition=-1,this._mSyncId=null,this._mPrivateFlags&=~this.CLONE_VIEW_BUILD,this._mPrivateFlags&=~this.DATA_CHANGED,this._mViewRecycler&&this._mViewRecycler.clear(),"TABLE"==this._mUI.listContainer.nodeName.toUpperCase())for(var t=this._mUI.listContainer.rows,i=t.length,s=i-1;s>=0;s--)this._mUI.listContainer.deleteRow(s);else this._mUI.listContainer.innerHTML=""},getBackedData:function(){return this._mElementsData},_handleDataChanged:function(){(this._mPrivateFlags&this.PRESERVE_CHECKED_STATE)!=this.PRESERVE_CHECKED_STATE&&(this._mCheckedChildren.length=0,this._mPrivateFlags&=~this.CHECKED_ALL)},setItemChecked:function(t,i){this._mCheckedChildren[t]=i;var s=(this._mPrivateFlags&this.CHECKED_ALL)==this.CHECKED_ALL;if(!i&&s){this._mPrivateFlags&=~this.CHECKED_ALL;for(var e=0,h=this._mElementsData.length;h>e;e++)e!=t&&(this._mCheckedChildren[e]=!0)}this.onCheckeChanged()},isItemChecked:function(t){var i=(this._mPrivateFlags&this.CHECKED_ALL)===this.CHECKED_ALL;return i?!0:this._mCheckedChildren[t]===!0},addItemToFirst:function(t){this._mCheckedChildren.unshift(t)},setItemsChecked:function(t){if(t){var i=this.getElementsData(),s=!0;if(null!=i)for(var e=0,h=i.length;h>e;e++)i[e].disableCheck?(s=!1,this._mCheckedChildren[e]=!1):this._mCheckedChildren[e]=!0;s?this._mPrivateFlags|=this.CHECKED_ALL:this._mPrivateFlags&=~this.CHECKED_ALL}else this._mPrivateFlags&=~this.CHECKED_ALL,this._mCheckedChildren.length=0;this.onCheckeChanged()},lock:function(t,i){var s=this.getScrollbar();t?(this._mPrivateFlags|=this.LOCKED,null!=s&&s.lock(!0)):(this._mPrivateFlags&=~this.LOCKED,null!=s&&s.lock(!1)),i!==!0&&this.onSystemNotify(this.NOTIFY_SYSTEM_LOCK,t)},onSystemNotify:function(){},locked:function(){return(this._mPrivateFlags&this.LOCKED)==this.LOCKED},isAllItemChecked:function(){return(this._mPrivateFlags&this.CHECKED_ALL)==this.CHECKED_ALL},onCheckeChanged:function(){},getCheckedItems:function(){if(this.isAllItemChecked()){if(null==this._mElementsData)return[];for(var t=[],i=0,s=this._mElementsData.length;s>i;i++)t.push(this._mElementsData[i]);return t}var t=[];if(!this._mElementsData)return t;for(var i=0,s=this._mCheckedChildren.length;s>i;i++)this._mCheckedChildren[i]===!0&&t.push(this._mElementsData[i]);return t},getCheckedIndexs:function(){var t=[],i=this.isAllItemChecked();if(!this._mElementsData)return t;for(var s=0,e=this._mCheckedChildren.length;e>s;s++)(i||this._mCheckedChildren[s]===!0)&&t.push(s);return t},fixTargetPositionVisible:function(t){t+=1;var i=this._mFirstPosition,s=this.getViewCount(),e=-1;return i+1>=t?e=t:t>i+s&&(e=t-s+1),e>=0?(this.scrollToPosition(Math.min(e,this._mItemCount)),!0):!1},getElementsData:function(){return this._mElementsData},getElementDataByPosition:function(t){return this._mElementsData&&t<this._mElementsData.length?this._mElementsData[t]:null},getFirstCheckedIndex:function(){if(this.isAllItemChecked())return 0;for(var t=0,i=this._mCheckedChildren.length;i>t;t++)if(this._mCheckedChildren[t]===!0)return t;return-1},hitInVisibleRegion:function(t){return t>=this._mFirstPosition&&t<this._mFirstPosition+this._mChildren.length},_correctSyncPosition:function(){this._mElementsData.length>0&&this._mSyncPosition>this._mElementsData.length-1&&(this._mSyncPosition=-1)},_layout:function(){if(0==this._mItemCount)return this._resetList(),this.onPositionChanged(this._mFirstPosition,this._mChildren.length),this._turnPluginDriverOnOrOff(),this.onSystemNotify(this.NOTIFY_LIST_EMPTY,!0),void this.onSystemNotify(this.NOTIFY_LIST_REPAINT,!0);if(this.onSystemNotify(this.NOTIFY_LIST_EMPTY,!1),this.onSystemNotify(this.NOTIFY_LIST_REPAINT,!0),(this._mPrivateFlags&this.DATA_CHANGED)==this.DATA_CHANGED&&this._handleDataChanged(),(this._mPrivateFlags&this.DATA_CHANGED)==this.DATA_CHANGED)for(var t=this._mChildren.length-1;t>=0;t--)this._mViewRecycler.add(this._mChildren.pop());else for(var t=this._mChildren.length-1;t>=0;t--)this._mViewRecycler.addActiveView(this._mChildren.pop());switch(this._mUI.listContainer.style.marginTop="0",this._mChildrenMarginTop=0,this._mLayoutMode){case this.LAYOUT_MODE_FROM_SPECIFIC:var i=this._mSpecificPosition-1;this._mFirstPosition=i,this._fillFromTop(i),this._mSyncTop=0,this._mSyncPosition=i,this._mSyncId=null;break;case this.LAYOUT_MODE_SPECIFIC:this._correctSyncPosition(),this._mFirstPosition=-1==this._mSyncPosition?0:this._mSyncPosition,this._mChildrenMarginTop=-Math.abs(this._mSyncTop),this._mUI.listContainer.style.marginTop=this._mChildrenMarginTop+"px",this._fillFromTop(this._mFirstPosition),this._fixTooHigh(),this._computeSyncState(),this._mSyncId=null;break;default:this._mFirstPosition=0,this._fillFromTop(0),this._mSyncTop=0,this._mSyncPosition=-1,this._mSyncId=null}this._mViewRecycler.scrapActiveViews(),this._mLayoutMode=this.LAYOUT_MODE_NORMAL,this._mSpecificPosition=-1,this._mPrivateFlags&=~this.DATA_CHANGED,this.onPositionChanged(this._mFirstPosition,this._mChildren.length),this._turnPluginDriverOnOrOff()},_turnPluginDriverOnOrOff:function(){var t=this.getScrollbar();if(t){var i=!1,s=this._mFirstPosition+this._mChildren.length;if(this._mFirstPosition>0||s<this._mItemCount)i=!0;else if(s==this._mItemCount){var e=this._mChildrenMarginTop,h=this._mChildren.length*this._mItemHeight+e,n=this._mUI.listContainer.parentNode.offsetHeight;h>n?i=!0:0!==h&&"undefined"!=typeof this.needOrNotLoadMore&&this.needOrNotLoadMore()}t.awake(i)}},_makeAndAddView:function(t){var i=this._mViewRecycler.getActiveView(t);if(null==i){var s=this._mViewRecycler.get(t),i=null;i=null!=s?this.getView(this._mUI.listContainer,s,t):this.getView(this._mUI.listContainer,null,t)}if(null==i)throw new Error("can not obtain a view to build list item");return this.insertView(i,t),i},insertView:function(t,i){var s=i-this._mFirstPosition,e=0+this._mChildren.length-1>>1;s>e?this._mUI.listContainer.appendChild(t):this._mUI.listContainer.insertBefore(t,this._mChildren[0])},removeView:function(t){return this._mUI.listContainer.removeChild(t)},_fillFromTop:function(t){if(this._mUI){var i=this._mUI.listContainer.parentNode.offsetHeight,s=this._mChildrenMarginTop,e=t-this._mFirstPosition,h=this._mItemHeight,n=0;if((this._mPrivateFlags&this.CLONE_VIEW_BUILD)!=this.CLONE_VIEW_BUILD){var o=this.getView(this._mUI.listContainer,null,0);this.insertView(o,0),this._mChildren[0]=o,this._mItemHeight=o.offsetHeight,h=this._mItemHeight,n=h,t++,e++,this._mPrivateFlags|=this.CLONE_VIEW_BUILD}else n=e*h+s;for(var r=null;i>n&&t<this._mItemCount;)r=this._makeAndAddView(t),this._mChildren[e]=r,n+=h,t++,e++}},importCheckedState:function(t){if(t instanceof m){this._mCheckedChildren.length=0;for(var i=0,s=t._mCheckedChildren,e=s.length;e>i;i++)this._mCheckedChildren[i]=s[i];1==this.isAllItemChecked()&&0==t.isAllItemChecked()?this._mPrivateFlags&=~this.CHECKED_ALL:0==this.isAllItemChecked()&&1==t.isAllItemChecked()&&(this._mPrivateFlags|=this.CHECKED_ALL)}},_fillFromBottom:function(t){if(this._mUI){for(var i=(this._mUI.listContainer.parentNode.offsetHeight,this._mChildrenMarginTop),s=this._mItemHeight,e=i,h=null;t>=0&&e>=0;)h=this._makeAndAddView(t),i-=s,this._mUI.listContainer.style.marginTop=i+"px",this._mChildren.unshift(h),e-=s,t--;this._mChildrenMarginTop=i,this._mFirstPosition=t+1}},fillGap:function(t){var i=this._mChildren.length;t==o.FORWARD?(this._fillFromTop(this._mFirstPosition+i),this._fixTooHigh()):(this._fillFromBottom(this._mFirstPosition-1),this._fixTooLow())},_fixTooLow:function(){var t=this._mChildren.length;if(!(0>=t)){var i=this._mChildrenMarginTop,s=this._mChildren.length*this._mItemHeight+i,e=this._mUI.listContainer.parentNode.offsetHeight,h=i,n=h,o=this._mFirstPosition;0==o&&n>0&&(o+t==this._mItemCount||s>e)&&(o+t==this._mItemCount&&(n=Math.min(n,s-e)),i-=n,this._mUI.listContainer.style.marginTop=i+"px",this._mChildrenMarginTop=i,o+t<this._mItemCount&&this._fillFromTop(o+t),this.onScrollToEdge(this.TOP))}},_fixTooHigh:function(){var t=this._mChildren.length;if(!(0>=t)){var i=this._mChildrenMarginTop,s=this._mChildren.length*this._mItemHeight+i,e=this._mUI.listContainer.parentNode.offsetHeight,h=i,n=e-s,o=this._mFirstPosition;(o>0||0>h)&&n>0?(0==o&&(n=Math.min(n,Math.abs(h))),i+=n,this._mChildrenMarginTop=i,this._mUI.listContainer.style.marginTop=i+"px",o>0&&(this._fillFromBottom(o-1),this._adjustViewUpOrDown()),this.onScrollToEdge(this.BOTTOM)):this._mFirstPosition+t==this._mItemCount&&s==e&&this.onScrollToEdge(this.BOTTOM)}},_adjustViewUpOrDown:function(){var t=this._mChildren.length;t>0&&this._mChildrenMarginTop>0&&(this._mChildrenMarginTop=0,this._mUI.listContainer.style.marginTop=this._mChildrenMarginTop+"px")},buildView:function(){return null},onScrollToEdge:function(){},onPositionChanged:function(t,i){(this._mPrivateFlags&this.USING_SCROLLBAR)==this.USING_SCROLLBAR&&(this.awakeScrollbar(!0),this.onComputeScrollbarState(this.getScrollbar(!0),t,i))},onKeyboardArrowDown:function(){this.arrowScroll(o.FORWARD)},onKeyboardArrowUp:function(){this.arrowScroll(o.BACKWARD)},onKeyboardPageUp:function(){this.pageScroll(o.BACKWARD)},onKeyboardPageDown:function(){this.pageScroll(o.FORWARD)},getCount:function(){return this._mItemCount},getViewCount:function(){return parseInt(this._mUI.listContainer.parentNode.offsetHeight/this._mItemHeight,10)},onScroll:function(t,i){var s=(new Date).getTime(),e=this._mFirstPosition,h=this._mChildren.length,n=this._mChildrenMarginTop,r=n,l=this._mChildren.length*this._mItemHeight+n,m=this._mUI.listContainer.parentNode.offsetHeight;if(i=Math.min(i,m-1),t==o.FORWARD&&e+h==this._mItemCount&&m>=l&&i>=0)return 0!=i;if(t==o.BACKWARD&&0==e&&r>=0&&i>=0)return 0!=i;var a=0;if(t==o.FORWARD)for(var c=0,S=this._mChildren.length;S>c&&(c+1)*this._mItemHeight-Math.abs(n)<0;c++)n+=this._mItemHeight,this._mUI.listContainer.style.marginTop=n+"px",this._mViewRecycler.add(this._mChildren.shift()),a++;else for(var c=this._mChildren.length-1;c>=0&&this._mItemHeight*c+n>m;c--)this._mViewRecycler.add(this._mChildren.pop()),a++;t==o.FORWARD?n-=i:n+=i,this._mUI.listContainer.style.marginTop=n+"px",this._mChildrenMarginTop=n,t==o.FORWARD&&(this._mFirstPosition+=a),l=this._mChildren.length*this._mItemHeight+n,(n>0||m>l)&&this.fillGap(t),this._computeSyncState(),this.onPositionChanged(this._mFirstPosition,this._mChildren.length);var C=(new Date).getTime();_.send({name:"listScrollTime",value:C-s})},_computeSyncState:function(){this._mSyncTop=this._mChildrenMarginTop,this._mSyncPosition=this._mFirstPosition;var t=this.getIdForPosition(this._mFirstPosition);null!=t&&(this._mSyncId=t)},_computeSmoothScrollArgs:function(t){var i=this.SMOOTH_SCROLL_DURATION;if(this._mSmoothScrollDelta=Math.ceil(t/(i/this.SMOOTH_SCROLL_INTERVAL)),this._mSmoothScrollDelta>=this._mItemHeight)for(var s=10,e=0;this._mSmoothScrollDelta>=this._mItemHeight;){if(e>=s)throw new Error("pixelDelta arg is not considered as legal");i*=2,this._mSmoothScrollDelta=Math.ceil(t/(i/this.SMOOTH_SCROLL_INTERVAL)),e++}},_clearSmoothScrollArgs:function(){this._mPrivateFlags&=~this.SMOOTH_SCROLLING,this._mSmoothScrollRemaining=this._mSmoothScrollDelta=0,this._mScrollDir=-1},stopSmoothScroll:function(){null!=this._mSmoothScroller&&(this._mSmoothScroller.interrupt(),this._clearSmoothScrollArgs())},_setupSmoothScrollArgs:function(t){var i=this;null==i._mSmoothScroller&&(i._mSmoothScroller=new n(i.SMOOTH_SCROLL_INTERVAL,function(){var t=!1;Math.abs(i._mSmoothScrollRemaining)<=Math.abs(i._mSmoothScrollDelta)?(t=i.onScroll(i._mScrollDir,i._mSmoothScrollRemaining),i._clearSmoothScrollArgs(),t||-1==i._mPersistScrollDir?-1==i._mPersistScrollDir:i.arrowScroll(i._mPersistScrollDir)):(i._mSmoothScrollRemaining-=i._mSmoothScrollDelta,t=i.onScroll(i._mScrollDir,i._mSmoothScrollDelta),this.start())})),i._computeSmoothScrollArgs(t),i._mSmoothScrollRemaining=t-i._mSmoothScrollDelta,i._mSmoothScroller.start();i.onScroll(i._mScrollDir,i._mSmoothScrollDelta);i._mPrivateFlags|=i.SMOOTH_SCROLLING},smoothScroll:function(t,i){this.locked()||(this._mScrollDir=t,this._setupSmoothScrollArgs(i))},scrollBy:function(t,i){this.locked()||this.onScroll(t,i)},setUsingKeyboardDispatcher:function(t){t?this._mPrivateFlags|=this.USING_KEYBOARD_DISPATCHER:this._mPrivateFlags&=~this.USING_KEYBOARD_DISPATCHER},activateKeyguard:function(t,i){return},isUsingKeyboardDispatcher:function(){return(this._mPrivateFlags&this.USING_KEYBOARD_DISPATCHER)==this.USING_KEYBOARD_DISPATCHER},setUsingMouseWheelSensor:function(t){if(t){this._mPrivateFlags|=this.USING_MOUSE_WHEEL_SENSOR;var i=this,s=new o(this._mUI.listContainer.parentNode);s.onWheelChanged=function(t,s){if(!i.locked()){var e=i.WHEEL_TO_PIXEL_RATIO;(i._mPrivateFlags&i.USING_LOW_PIXEL_RATIO)==i.USING_LOW_PIXEL_RATIO&&(e=i.WHEEL_TO_PIXEL_RATIO_LOW);var h=s*e;if((i._mPrivateFlags&i.SMOOTH_SCROLLING)==i.SMOOTH_SCROLLING&&i.stopSmoothScroll(),i._mScrollDir=t,0!=i._mItemHeight){i.onScroll(i._mScrollDir,h)}}},s.sense(),this._mWheelSensor=s}else this._mPrivateFlags&=~this.USING_MOUSE_WHEEL_SENSOR},_build:function(){this._mViewRecycler=new h;var t=this._mConfig.flags;"undefined"!=typeof t&&((t&this.USING_MOUSE_WHEEL_SENSOR)==this.USING_MOUSE_WHEEL_SENSOR&&this.setUsingMouseWheelSensor(!0),(t&this.USING_SCROLLBAR)==this.USING_SCROLLBAR&&this.setUsingScrollbar(!0),(t&this.USING_KEYBOARD_DISPATCHER)==this.USING_KEYBOARD_DISPATCHER&&this.setUsingKeyboardDispatcher(!0),(t&this.USING_TOUCH_SENSOR)==this.USING_TOUCH_SENSOR&&r.hasMotionCampatibility()&&(e&&console.log("Motion Tracker Installed"),this.setUsingMotionSensor(!0)))},setUsingMotionSensor:function(t){if(t){this._mPrivateFlags|=this.USING_TOUCH_SENSOR;var i=new r(this._mUI.listContainer,r.VERTICAL),s=this;i.onMotion=function(t,i,e,h){if(!s.locked()&&((s._mPrivateFlags&s.SMOOTH_SCROLLING)==s.SMOOTH_SCROLLING&&s.stopSmoothScroll(),s._mScrollDir=h>0?o.BACKWARD:o.FORWARD,0!=s._mItemHeight)){s.onScroll(s._mScrollDir,Math.abs(h))}},i.install(),this._mMotionSensor=i}else this._mPrivateFlags&=~this.USING_TOUCH_SENSOR},setDebugAlias:function(t){this._mDebugAlias=t},toString:function(){return this._mDebugAlias}},s.exports=m});
;define("system-core:system/uiService/list/recycleGridView/recycleGridView.js",function(t,e,i){var r=t("system-core:system/uiService/list/recycleListView/recycleListView.js"),n=t("base:widget/libs/jquerypacket.js"),s=function(t){r.call(this,t)};s.prototype=new r,s.prototype.setConfig=function(t){r.prototype.setConfig.call(this,t),this.setColumnsCount()},s.prototype.setColumnsCount=function(){this._mGridStep=Math.max(parseInt(parseInt(this._mUI.listContainer.offsetWidth,10)/this._mConfig.columnWidth,10),1)},s.prototype.getColumnsCount=function(){return this._mGridStep},s.prototype.scrollToPositionEx=function(t){var e=Math.floor(t/this._mGridStep)+1;return e>=this._mElementsData.length&&(e=this._mElementsData.length-1),e=Math.max(1,e),this.scrollToPosition(e)},s.prototype.fixTargetPositionVisible=function(t){var e=Math.floor(t/this._mGridStep);return e>=this._mElementsData.length&&(e=this._mElementsData.length-1),r.prototype.fixTargetPositionVisible.call(this,e)},s.prototype.getCountEx=function(){var t=0;if(null==this._mElementsData)return t;for(var e=0,i=this._mElementsData.length;i>e;e++)t+=this._mElementsData[e].length;return t},s.prototype.isFirstCheckedChildVisible=function(){for(var t=0,e=this._mCheckedChildren.length;e>t;t++)if(this.isItemChecked(t))return t/this._mGridStep>=this._mFirstPosition&&t/this._mGridStep<this._mFirstPosition+this._mChildren.length;return!1},s.prototype.getFirstCheckedChild=function(){for(var t=0,e=this._mCheckedChildren.length;e>t;t++)if(this._mCheckedChildren[t]===!0)return Math.floor(t/this._mGridStep)>=this._mFirstPosition&&Math.abs(Math.floor(t/this._mGridStep)-this._mFirstPosition)<this._mChildren.length?this._mChildren[Math.floor(t/this._mGridStep)-this._mFirstPosition].childNodes[t%this._mGridStep]:null;return null},s.prototype.getElementsData=function(){var t=[];if(!this._mElementsData)return t;for(var e=0,i=this._mElementsData.length;i>e;e++)for(var r=0,n=this._mElementsData[e].length;n>r;r++)t.push(this._mElementsData[e][r]);return t},s.prototype.setItemChecked=function(t,e){this._mCheckedChildren[t]=e;var i=(this._mPrivateFlags&this.CHECKED_ALL)==this.CHECKED_ALL;if(!e&&i){this._mPrivateFlags&=~this.CHECKED_ALL;for(var r=0,n=this.getElementsData().length;n>r;r++)r!=t&&(this._mCheckedChildren[r]=!0)}this.onCheckeChanged()},s.prototype.getCheckedItems=function(){var t=[];if(!this._mElementsData)return t;if(this.isAllItemChecked()){for(var e=0,i=this._mElementsData.length;i>e;e++)for(var r=0,n=this._mElementsData[e].length;n>r;r++)t.push(this._mElementsData[e][r]);return t}for(var s=this._mElementsData.length,e=0,i=this._mCheckedChildren.length;i>e;e++)if(this._mCheckedChildren[e]===!0){var o=Math.floor(e/this._mGridStep);if(o>=s)break;t.push(this._mElementsData[o][e%this._mGridStep])}return t},s.prototype.operateGroupdData=function(t){var e=null==t?0:t.length;if(0==e)return[];for(var i=new Array,r=0,n=this._mGridStep;e>n;){i[r]=[];for(var s=0;n>s;s++)i[r].push(t[r*n+s]);r++,e-=n}e>0&&(i[r]=[]);for(var o=0;e>0;)i[r].push(t[r*n+o]),e--,o++;return i},s.prototype.setBackedData=function(t){t=this.operateGroupdData(t),r.prototype.setBackedData.call(this,t)},s.prototype.appendBackedData=function(t){return null==this._mElementsData||0==this._mItemCount?void this.setBackedData(t):(t=this.operateGroupdData(t),void r.prototype.appendBackedData.call(this,t))},s.prototype.updateBackedData=function(t,e){t=this.operateGroupdData(t),r.prototype.updateBackedData.call(this,t,e)},s.prototype.changeBackedData=function(t,e){t=this.operateGroupdData(t),r.prototype.changeBackedData.call(this,t,e)},s.prototype.getRenderingChildAt=function(t,e){if(0==this._mChildren.length)return null;if(0>t||t>this._mChildren.length-1)return null;var i=this._mChildren[t],r=n(i).children();return 0>e||e>r.length-1?null:r[e]},s.prototype.getRenderingChildByPosition=function(t){var e=Math.floor(t/this._mGridStep),i=t%this._mGridStep;return e-=this._mFirstPosition,this.getRenderingChildAt(e,i)},s.prototype.getElementDataByPosition=function(t){var e=this.getElementsData();return e&&t<e.length?e[t]:null},s.prototype.getGridPosition=function(t,e){return e+t*this._mGridStep},i.exports=s});
;define("system-core:system/uiService/list/list.js",function(t,i,e){var s=t("base:widget/libs/jquerypacket.js"),o=t("base:widget/historyManager/historyManager.js"),r=t("system-core:system/uiService/historyListManage/historyListManage.js"),n=t("system-core:system/uiService/list/listHeader.js"),h=t("system-core:system/uiService/list/recycleListView/recycleListView.js"),a=t("system-core:system/uiService/list/recycleGridView/recycleGridView.js"),l=t("system-core:system/uiService/log/log.js").instanceForSystem,c=function(t,i){if(this.$container=null,this.config=i,!t||(this.$container=s(t)).length<=0)throw new Error("container is empty!");this.$loadingTips=null,this.$historyListRootPath=null,this.$emptyTips=null,this.$historyList=null,this.$listHeader=null,this.$listViewContainer=null,this.$gridViewContainer=null,this.historyList=null,this.currentKey="",this.listHeader=null,this.listTools=null,this.listView=null,this.gridView=null,this._currentView=null,this._normalListModule="normal",this._recycleListModule="recycle",this._currentListModule=this._normalListModule,this.cache=null,this.currentCacheName=null,this.init()},d={moduleHistory:'<div node-type="module-history-list" class="module-history-list"><span class="history-list-dir">全部文件</span><span class="history-list-tips">获取更多数据...</span></div>',moduleHeader:'<div class="list-view-header"></div>',moduleListContainer:'<div class="list-view-container" style="display:none"><div node-type="module-list-view" class="module-list-view"><div class="list-view"></div></div></div>',moduleGridContainer:'<div class="grid-view-container"><div node-type="module-grid-view" class="module-grid-view"><div class="grid-view"></div></div></div>',moduleEmptyTips:'<div class="list-empty-tips"></div>'},u={loadingTips:".history-list-tips",historyListRootPath:".history-list-dir",emptyTips:".list-empty-tips",historyList:".module-history-list",listHeader:".list-view-header",listViewContainer:".list-view-container",gridViewContainer:".grid-view-container",listView:".list-view",gridView:".grid-view"};c.prototype.init=function(){this.buildDom(),this.initPlugin(),this.bindEvent()},c.prototype.buildDom=function(){var t=[],i=this.$container;t.push(d.moduleHistory),t.push(d.moduleHeader),t.push(d.moduleListContainer),t.push(d.moduleGridContainer),t.push(d.moduleEmptyTips),i.html(t.join("")),this.$loadingTips=i.find(u.loadingTips),this.$historyListRootPath=i.find(u.historyListRootPath),this.$emptyTips=i.find(u.emptyTips),this.$historyList=i.find(u.historyList),this.$listHeader=i.find(u.listHeader),this.$listViewContainer=i.find(u.listViewContainer),this.$gridViewContainer=i.find(u.gridViewContainer),this.resize(s(window).height()-i.offset().top)},c.prototype.resize=function(t){var i=this.getCurrentView();i&&(this.isGridMode()?(this.$container.height(t),i.setColumnsCount(),this.loadInitData()):(this.resizeScrollBar(t),i.requestLayout()))},c.prototype.resizeScrollBar=function(t){var i=this.$container;if("number"==typeof t||"string"==typeof t?i.height(t):t=i.height(),0===t)throw"[Error] list container's height is 0, need to set";i.height(t),i.find(".module-list-view").height(t-97).find(".scrollbar-tracker").height(t-97-2),i.find(".module-grid-view").height(t-97).find(".scrollbar-tracker").height(t-97-2)},c.prototype.getCurrentView=function(){return this._currentView};var g=null;c.prototype.changeCache=function(t){this.cache=t,this.cache.onBeforeGetCacheData(function(t){g=t}),this.historyList&&this.historyList.clear()},c.prototype.addHistory=function(t,i){this.historyList&&this.historyList.addHistory(t,i)},c.prototype.getHistoryIds=function(){return this.historyList.historyList},c.prototype.getHistoryList=function(){return this.historyList},c.prototype.getHistoryPath=function(){var t=this.historyList.getPath();return/\S\/+$/.test(t)&&(t=t.replace(/\/+$/,"")),t},c.prototype.changeHistory=function(t,i){this.historyList&&this.historyList.changeHistory(t,i)},c.prototype.historyChange=function(t,i){var e,s=!1;0!==t.length&&(e=this.currentKey,this.currentKey=t.join("/"),t.length>1&&(this.currentKey=this.currentKey.substring(1)),s=e!==this.currentKey||this.currentCacheName!==this.cache.cacheName,s&&("/"!==this.currentKey||""!==e||null!==this.currentCacheName&&this.currentCacheName!==this.cache.cacheName||(s=!1)),this.currentCacheName=this.cache.cacheName,s&&this.setItemsChecked(!1,!0),this.cache.updateKey(this.currentKey),this.$historyListRootPath.html(i[0]),this.loadInitData(),s&&this.onHistoryChange(t,i))},c.prototype.getCurrentDataList=function(){return this.getCurrentView().getElementsData()},c.prototype.refreshList=function(){this.historyList&&this.historyList.historyChange()},c.prototype.loadInitData=function(){var t=(new Date).getTime(),i=this;this.updateLoadingTips(c.LOAD_ING),this.getCurrentView().setBackedData([]),this.updateListLoading(c.LOAD_ING);var e=o.getCurrentModule(),s=o.getCurrentParams().path;this.cache.getCacheData(-1,function(r,n,h,a){if(e===o.getCurrentModule()&&s===o.getCurrentParams().path){if(r.length<100&&n===!0)return i.loadMoreData(),void(r.length>0&&i.$listHeader.show());0===r.length?(i.$listHeader.hide(),i.updateListLoading(c.LOAD_EMPTY)):(i.$listHeader.show(),i.updateListLoading()),i.updateLoadingTips(n?c.LOAD_PART:c.LOAD_ALL,r.length),i.resizeScrollBar(),i.getCurrentView().setBackedData(r),i.onLoadedCallBack(r,a);var d=(new Date).getTime();l.send({name:"listInitTime",value:d-t})}})},c.prototype.loadMoreData=function(){var t=this;this.cache.hasMoreData()&&(this.updateLoadingTips(c.LOAD_ING),this.cache.getCacheData(-2,function(i){t.cache.getCacheData(-1,function(e,o,r){if(s.stringify(g)===s.stringify(r)){if(e.length<100&&o===!0)return void t.loadMoreData();t.updateLoadingTips(o?c.LOAD_PART:c.LOAD_ALL,e.length),t.resizeScrollBar(),t.updateListLoading(),t.getCurrentView().updateBackedData(e,!0),o===!0&&t.onLoadedCallBack(i),t.updateHeaderChecked()}})}))},c.LOAD_ING=0,c.LOAD_PART=1,c.LOAD_ALL=2,c.LOAD_FAILED=3,c.LOAD_EMPTY=4,c.prototype.updateListLoading=function(t){var i="";switch(t){case c.LOAD_ING:i='<div class="tip-text">正在加载，请稍候&hellip;</div>';break;case c.LOAD_FAILED:i='<div class="tip-text">列表加载失败</div>'}return t===c.LOAD_EMPTY?void this.listEmptyTip(this.$emptyTips):(i?this.$emptyTips.html(i).show():this.$emptyTips.hide(),void(i?this.$emptyTips.html(i).show():this.$emptyTips.hide()))},c.prototype.listEmptyTip=function(t){t.html("列表数据为空").show()},c.prototype.fixTargetPositionVisible=function(t){var i=this.getCurrentView();return i.fixTargetPositionVisible(t)},c.prototype.showErrorTips=function(t){this.updateListLoading(c.LOAD_FAILED),this.updateLoadingTips(c.LOAD_FAILED,0,t)},c.prototype.updateLoadingTips=function(t,i){var e="";switch(t){case c.LOAD_ING:e="获取更多数据&hellip;";break;case c.LOAD_PART:e="已加载"+i+"个";break;case c.LOAD_ALL:e="已全部加载，共"+i+"个";break;case c.LOAD_FAILED:e="加载失败"}this.$loadingTips.html(e)},c.prototype.onHistoryChange=function(){},c.prototype.onLoadedCallBack=function(){},c.prototype.setViewModule=function(t){if(!(null!==this.gridView&&this._currentView===this.gridView&&"grid"===t||null!==this.listView&&this._currentView===this.listView&&"list"===t)){if("grid"===t)this.$listViewContainer.hide(),this.$gridViewContainer.show(),null===this.gridView&&this.initGridView(),this.gridView.setColumnsCount(),this._currentView=this.gridView,this.listView&&this.gridView.importCheckedState(this.listView);else{if("list"!==t)return;this.$gridViewContainer.hide(),this.$listViewContainer.show(),null===this.listView&&this.initListView(),this._currentView=this.listView,this.gridView&&this.listView.importCheckedState(this.gridView)}this.onViewModuleChange(t)}},c.prototype.onViewModuleChange=function(){},c.prototype.setListModule=function(t){var i=this.cache&&this.cache.config.params;if(this._currentListModule!==t||!("normal"===t&&0===i.include||"recycle"===t&&1===i.include)){if(this._currentListModule=t,this.cache&&"function"==typeof this.cache.getCacheConfig){var e=this.cache.getCacheConfig();this.cache.clearCacheData(),e.params.include=t===this._normalListModule?0:1}this.onListModuleChange(t)}},c.prototype.getListModule=function(){return this._currentListModule},c.prototype.onListModuleChange=function(){},c.prototype.isGridMode=function(){return this.getCurrentView()instanceof a},c.prototype.getCheckedItems=function(){return this.getCurrentView().getCheckedItems()},c.prototype.getFirstPosition=function(){return this.getCurrentView().getFirstPosition()},c.prototype.getDomByPosition=function(t){return this.getCurrentView().getRenderingChildByPosition(t)},c.prototype.getElementDataByPosition=function(t){return this.getCurrentView().getElementDataByPosition(t)},c.prototype.getCheckedIndexs=function(){return this.getCurrentView().getCheckedIndexs()},c.prototype.setItemsChecked=function(t,i){this.getCurrentView()&&this.getCurrentView().getElementsData()instanceof Array&&(this.getCurrentView().setItemsChecked(t),i||this.getCurrentView().requestLayout())},c.prototype.setEachItemChecked=function(t,i){this.setItemsChecked(!1,!0);for(var e=0;e<t.length;e++)this.getCurrentView().setItemChecked(t[e],i)},c.prototype.setSingleItemChecked=function(t){this.getCurrentView().setItemsChecked(!1),this.getCurrentView().setItemChecked(t,!0)},c.prototype.setItemChecked=function(t,i){this.getCurrentView().setItemChecked(t,i),this.getCurrentView().requestLayout()},c.prototype.isItemChecked=function(t){return this.getCurrentView().isItemChecked(t)},c.prototype.addItemToFirst=function(t){this.getCurrentView().addItemToFirst(t)},c.prototype.getGridPostiion=function(t,i){return this.getCurrentView()&&"function"==typeof this.getCurrentView().getGridPosition?this.getCurrentView().getGridPosition(t,i):-1},c.prototype.onOrderChange=function(t,i){if(this.cache&&"function"==typeof this.cache.getCacheConfig){var e=this.cache.getCacheConfig();this.cache.clearCacheData(),e.params.order=t,e.params.desc=i,this.config.headerConfig&&"function"==typeof this.config.headerConfig.operateOrderKey&&this.config.headerConfig.operateOrderKey(e.params),this.refreshList(),this.onListOrderChange(t,i)}},c.prototype.onListOrderChange=function(){},c.prototype.changeHeaderConfig=function(t){this.config.headerConfig=t,this.listHeader.buildHeader(t)},c.prototype.checkedChanged=function(){0!==s("#export_menu").length&&s("#export_menu").remove(),this.updateHeaderChecked(),this.listTools&&this.listTools.filesSelect(this.getCheckedItems())},c.prototype.setListTools=function(t){t&&(this.listTools=t,this.listTools.hide())},c.prototype.updateHeaderChecked=function(){var t,i=this.getCurrentView().getElementsData(),e=0;if(i)for(var s=0;s<i.length;s++)i[s].disableCheck||e++;t=this.isAllItemChecked()?e:this.getCheckedIndexs().length,this.listHeader&&this.listHeader.changeChecked(t,e),this.onCheckeChanged(t,e)},c.prototype.isAllItemChecked=function(){return this.getCurrentView().isAllItemChecked()},c.prototype.isLocked=function(){return this.listView?this.listView.locked():this.gridView?this.gridView.locked():!1},c.prototype.lock=function(t){this.listView&&this.listView.lock(t,!1),this.gridView&&this.gridView.lock(t,!1),this.onLockChanged(t)},c.prototype.onLockChanged=function(){},c.prototype.onCheckeChanged=function(){},c.prototype.onHeaderCheckChanged=function(t){this.getCurrentView().locked()||(t?(this.$listViewContainer.find(".list-view-item").addClass("item-active"),this.$gridViewContainer.find(".grid-view-item").addClass("item-active")):(this.$listViewContainer.find(".list-view-item").removeClass("item-active"),this.$gridViewContainer.find(".grid-view-item").removeClass("item-active")),this.setItemsChecked(t,!0))},c.prototype.initPlugin=function(){var t=this;if(this.config.historyConfig){var i=this.config.historyConfig;i.container=this.$container.find(u.historyList),this.historyList=new r(i),this.historyList.onHistoryChange=function(i,e){t.historyChange.call(t,i,e)},this.historyList.goToHistory=function(i){t.goToHistory(i)},this.historyList.onChangeHistoryList=function(){"function"==typeof t.onChangeHistoryList&&t.onChangeHistoryList()}}var e=this.config.headerConfig;"undefined"==typeof e&&(e={}),e.container=this.$container.find(u.listHeader),e.containerSelector=u.listHeader,this.listHeader=new n(e),this.listHeader.onOrderChange=function(i,e){t.onOrderChange.call(t,i,e)},this.listHeader.getCheckMsg=function(i,e){return t.getCheckMsg.call(t,i,e)},this.listHeader.onCheckChanged=function(i){t.onHeaderCheckChanged.call(t,i)},this.config.defaultViewModle=this.config.defaultViewModle||"list",this.setViewModule(this.config.defaultViewModle)},c.prototype.updateOrder=function(t,i){void 0===i&&(i=this.cache.getCacheConfig().params.desc?0:1),this.listHeader?this.listHeader.updateOrder(t,i):this.onOrderChange(t,i)},c.prototype.initListView=function(){var t=this,i=this.config.listConfig;i.listContainer=this.$container.find(u.listView)[0],this.listView=new h(i),this.listView.parent=t,this.listView.setConfig({flags:this.listView.USING_MOUSE_WHEEL_SENSOR|this.listView.USING_SCROLLBAR|this.listView.USING_KEYBOARD_DISPATCHER|this.listView.USING_TOUCH_SENSOR});var e=this.config.listViewBuilder;this.listView.buildView=function(i,s,o){return e.buildView.call(t.listView,i,s,o)},this.listView.getView=function(i,s,o){return e.getView.call(t.listView,i,s,o)},this.listView.needOrNotLoadMore=function(){t.cache.hasMoreData()&&t.loadMoreData()},this.listView.setBooleanFlag(this.listView.USING_LOW_PIXEL_RATIO,!0),this.listView.onComputeScrollbarState=function(i,s,o){if(h.prototype.onComputeScrollbarState.call(this,i,s,o),s>0&&this.getCount()>0){var r=parseFloat((s+o)/this.getCount(),10);r>.7&&t.loadMoreData()}else i.isInTheBottom()&&t.cache.hasMoreData()&&t.loadMoreData();"function"==typeof e.onScroll&&e.onScroll.call(t.listView,this.getCount())},this.listView.onCheckeChanged=function(){t.checkedChanged()}},c.prototype.initGridView=function(){var t=this,i=this.config.gridConfig;i.listContainer=this.$container.find(u.gridView)[0],this.gridView=new a(i),this.gridView.parent=t,this.gridView.setConfig({columnWidth:i.columnWidth||130,flags:this.gridView.USING_MOUSE_WHEEL_SENSOR|this.gridView.USING_SCROLLBAR|this.gridView.USING_KEYBOARD_DISPATCHER|this.listView.USING_TOUCH_SENSOR});var e=this.config.gridViewBuilder;this.gridView.buildView=function(i,s,o){return e.buildView.call(t.gridView,i,s,o)},this.gridView.getView=function(i,s,o){return e.getView.call(t.gridView,i,s,o)},this.gridView.needOrNotLoadMore=function(){t.cache.hasMoreData()&&t.loadMoreData()},this.gridView.setBooleanFlag(this.gridView.USING_LOW_PIXEL_RATIO,!0),this.gridView.onComputeScrollbarState=function(i,s,o){if(a.prototype.onComputeScrollbarState.call(this,i,s,o),s>0&&this.getCount()>0){var r=parseFloat((s+o)/this.getCount(),10);r>.7&&t.loadMoreData()}else i.isInTheBottom()&&t.cache.hasMoreData()&&t.loadMoreData();e.onScroll.call(t.gridView,this.getCount())},this.gridView.onCheckeChanged=function(){t.checkedChanged()}},c.prototype.bindEvent=function(){},c.prototype.getColumnsCount=function(){return this.isGridMode()?this.getCurrentView().getColumnsCount():1},c.prototype.extend=function(t){if("object"==typeof t)for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i])},c.prototype.goToHistory=function(){},e.exports=c});
;define("system-core:system/uiService/dialog/dialogManager.js",function(i,e,s){var t=(i("base:widget/libs/jquerypacket.js"),{dialogs:{},addDialog:function(i,e){this.dialogs[i]=e,this.bindEvents()},getDialogById:function(i){return this.dialogs[i]}});s.exports=t});
;define("system-core:system/uiService/rMenu/rMenu.js",function(e,t,n){!function(){var e={domConf:{},eventConf:{},menus:{},keyBoard:{},currentShowId:void 0,currentMenuTarget:null,tempHtml:"",tempForCurrentRenderId:void 0,subMenuShowTime:200,subMenuLoad:null,zIndex:100,onMenuHide:null},t={},i=function(e,t,n,i){var o=function(e){void 0===e&&(e=window.event),void 0===e.stopPropagation&&(e.stopPropagation=function(){e.cancelBubble=!0}),void 0===e.preventDefault&&(e.preventDefault=function(){e.returnValue=!1}),n(e)};e.addEventListener?(i=i===!0?!0:!1,e.addEventListener(t,o,i)):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o};e.contextMenu=function(t,n,i,o){if(t=t||window.event,e.currentMenuTarget=t.target||t.srcElement,!o||"function"!=typeof o.beforeMenu||o.beforeMenu.call(e.currentMenuTarget)!==!1){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation();var r=i.getAttribute("data-cid");r||(r=e.getRandomId(),i.setAttribute("data-cid",r)),e.domConf[r]||(e.tempForCurrentRenderId=r,e.domConf[r]=e.createMenu(n,r)),e.checkDisplay(e.domConf[r]),e.caculatePosition(t,e.domConf[r]),e.showMenu(r),o&&"function"==typeof o.afterMenu&&o.afterMenu.call(e.currentMenuTarget),o&&"function"==typeof o.menuHide&&(e.onMenuHide=o.menuHide)}},e.getRandomId=function(e){return"string"==typeof e?e+Math.random().toString().replace(".",""):"m"+Math.random().toString().replace(".","")},e.renderOneList=function(t){var n=!1;if(!t||!t.title)return"";t.id=e.getRandomId("i"),e.menus[t.id]=t;var i="",o="[object Array]"===Object.prototype.toString.call(t.nextMenu)&&t.nextMenu.length?' class="has-more arrowicon"':"",r="function"==typeof t.display?' data-check-display="true"':"";if("function"==typeof t.variableMenu&&(o=' class="has-more arrowicon" data-variable-menu="true"'),i+='<li id="'+t.id+'"'+o+r+">","string"==typeof t.icon&&t.icon.length)i+=/background\:url\(/.test(t.icon)?'<em class="icon" style=\''+t.icon+"'></em><em class=\"icon-hover\" style='"+t.icon+"'></em>":'<em class="icon '+t.icon+'"></em><em class="icon-hover '+t.icon+'"></em>';else if("object"==typeof t.icon&&t.icon.length)try{for(var a=0;a<t.icon.length;a++){var l=0===a?"icon":"icon-hover";i+=/background\:url\(/.test(t.icon[a])?'<em class="'+l+"\" style='"+t.icon[a]+"'></em>":'<em class="'+l+" "+t.icon[a]+'"></em>'}}catch(c){n&&console.log("[rMenu ERROR] the icon in config is ")}if(i+=t.title,t.keyboard&&1===t.keyboard.length){var s=t.keyboard.toUpperCase();e.keyBoard[e.tempForCurrentRenderId]||(e.keyBoard[e.tempForCurrentRenderId]={}),e.keyBoard[e.tempForCurrentRenderId][s]||(i+="("+s+")",e.keyBoard[e.tempForCurrentRenderId][s]=t.id)}return""!==o&&(i+=e.renderHtml(t.nextMenu)),i+="</li>"},e.renderHtml=function(t,n){var i="";if("object"==typeof t&&t.length){n||(i+='<ul class="list">');for(var o=0,r=t.length;r>o;o++)if("[object Array]"===Object.prototype.toString.call(t[o]))if(t[o].length){i.match(/\"separate\"\>\<\/li\>$/)||(i+='<li class="separate"></li>');for(var a=0,l=t[o].length;l>a;a++)i+=e.renderOneList(t[o][a]);i+='<li class="separate"></li>'}else 0===t[o].length&&(i.match(/\"separate\"\>\<\/li\>$/)||(i+='<li class="separate"></li>'));else i+=e.renderOneList(t[o]);i=i.replace(/\<li\sclass\=\"separate\"\>\<\/li\>$/i,""),i=i.replace(/^\<li\sclass\=\"separate\"\>\<\/li\>/i,""),n||(i+="</ul>")}else i+='<ul class="list"></ul>';return i},e.createMenu=function(t){var n=document.createElement("div");return n.className="context-menu",n.id=e.tempForCurrentRenderId,document.body.appendChild(n),e.tempHtml="",n.innerHTML=e.renderHtml(t),e.eventDelegate(n,".has-more","mouseover",e.showSubList),e.eventDelegate(n,".has-more","mouseout",e.hideSubList),e.eventDelegate(n,"li","mouseover",e.hideSilibingsList),e.eventDelegate(n,"li","click",e.listAction),e.eventDelegate(n,".list","click",e.variableMenuAction),e.eventDelegate(n,".list","mouseover",function(e){e.stopPropagation()}),n.children[0].style.zIndex=e.zIndex,i(n,"contextmenu",function(e){e.stopPropagation(),e.preventDefault()}),i(n,"click",function(e){e.stopPropagation()}),i(n,"mouseover",function(e){e.stopPropagation()}),i(n,"mouseout",function(e){e.stopPropagation()}),i(n,"mousedown",function(e){e.stopPropagation()}),i(n,"mouseup",function(e){e.stopPropagation()}),n.children[0]},e.asyncRenderSubList=function(t,n){"object"==typeof t&&t.length&&(n.innerHTML=e.renderHtml(t,!0)),e.checkDisplay(n)},e.showSubList=function(t){clearTimeout(e.subMenuLoad);var n=this;this.className.match(/\sdisable(\s|$)/)||(e.subMenuLoad=setTimeout(function(){if("true"==n.getAttribute("data-variable-menu")){var i=n.id;lists=e.menus[i].variableMenu(n.children[0],function(t){e.asyncRenderSubList(t,n.children[0])}),e.asyncRenderSubList(lists,n.children[0])}n.className.match(/\sopen(\s|$)/)||(n.className=n.className+" open",n.style.zIndex=e.zIndex+3,e.checkDisplay(n.children[0]),e.caculatePosition(t,n.children[0],n))},e.subMenuShowTime))},e.hideSilibingsList=function(){var t;t=this===e?e.domConf[e.currentShowId].children:this.parentElement.children;for(var n=0,i=t.length;i>n;n++)if(t[n]!==this&&t[n].className.match(/\sopen(\s|$)/)){t[n].className=t[n].className.replace(/\s+open(\s|$|\"|\')/g,"$1"),t[n].style.zIndex=e.zIndex+2,t[n].children[0].style.display="none";var o=t[n].children[0].innerHTML.replace(/\s+open(\s|$|\"|\')/g,"$1").replace(/display\s*\:\s*block\s*;?/g,"display:none;");t[n].children[0].innerHTML=o}},e.listAction=function(){if(this.id&&e.menus[this.id]){var t=document.getElementById(this.id);if(t.className.match(/\sdisable(\s|$)/))return;t.className.match(/(^|\s)has\-more(\s|$)/)||e.hideMenu(),"function"==typeof e.menus[this.id].action&&e.menus[this.id].action.call(e.currentMenuTarget,t)}},e.variableMenuAction=function(){"true"==this.parentNode.getAttribute("data-variable-menu")&&e.hideMenu()},e.hideSubList=function(){clearTimeout(e.subMenuLoad)},e.showMenu=function(t){e.currentShowId&&(e.domConf[t].style.display="none"),e.domConf[t].style.display="block",e.currentShowId=t},e.checkDisplay=function(t){!t&&e.currentShowId&&(t=e.domConf[e.currentShowId]);for(var n=t.children,i=0,o=n.length;o>i;i++)if("true"===n[i].getAttribute("data-check-display")){var r=n[i].id;if(r&&"function"==typeof e.menus[r].display){var a=e.menus[r].display.call(e.currentMenuTarget);if(a===!1){var l=e.getPreviousVisibleSeparate(n[i]),c=e.getNextVisibleSeparate(n[i]);l&&c&&(l.style.display="none"),n[i].style.display="none"}else if("disable"===a){var s=e.getPreviousHidenSeparate(n[i]);s&&(s.style.display="block"),-1===n[i].className.indexOf(" disable")&&(n[i].className=n[i].className+" disable"),n[i].style.display="block"}else{var s=e.getPreviousHidenSeparate(n[i]);s&&(s.style.display="block"),n[i].className=n[i].className.replace(/(\sdisable)+(?=\s|$)/gi,""),n[i].style.display="block"}}}},e.getPreviousVisibleSeparate=function(e){for(var t=e.previousElementSibling||e.previousSibling;t;)if("none"===t.style.display)t=t.previousElementSibling||t.previousSibling;else{if("separate"===t.className)break;t=null}return t},e.getPreviousHidenSeparate=function(e){for(var t=e.previousElementSibling||e.previousSibling;t;)if("separate"===t.className){if("none"===t.style.display)break;t=null}else t="none"===t.style.display?t.previousElementSibling||t.previousSibling:null;return t},e.getNextVisibleSeparate=function(e){for(var t=e.nextElementSibling||e.nextSibling;t;)if("none"===t.style.display)t=t.nextElementSibling||t.nextSibling;else{if("separate"===t.className)break;t=null}return t},e.caculatePosition=function(e,t,n){var i=t.style.left,o=t.style.top;t.style.left="-9999px",t.style.top="-9999px",t.style.display="block";var r=t.offsetWidth,a=t.offsetHeight,l=document.documentElement.clientWidth,c=document.documentElement.clientHeight;if(n){var s=function(){for(var e=n,t=0;e;)t+=e.offsetTop,e=e.parentElement;return t}(),u=function(){for(var e=n,t=0;e;)t+=e.offsetLeft,e=e.parentElement;return t}(),d=n.offsetWidth,m=n.offsetHeight;o=c>=s+a?-3:s>a?a-2-m:s+a-c-3,i=l>=u+d+r?d-3:-r+3}else{var p=e.clientX,h=e.clientY;i=l>=p+r?p:l-r,o=c>=h+a?h:h>a?h-a:c-a}t.style.left=i+"px",t.style.top=o+"px"},e.hideMenu=function(){e.currentShowId&&(e.domConf[e.currentShowId].style.display="none",e.hideSilibingsList(),e.currentShowId=void 0,e.hideSubList(),"function"==typeof e.onMenuHide&&e.onMenuHide.call(e.currentMenuTarget))},e.keyBoardHandler=function(t){var n=String.fromCharCode(t.keyCode);if(e.currentShowId&&e.keyBoard[e.currentShowId]){var i=e.keyBoard[e.currentShowId][n];if(i){var o=document.getElementById(i);if(o.className.match(/\sdisable(\s|$)/))return;if(o.className.match(/(^|\s)has\-more(\s|$)/))return e.showSubList.call(o),void e.hideSilibingsList.call(o);"function"==typeof e.menus[i].action&&(e.hideMenu(),e.menus[i].action.call(e.currentMenuTarget,o))}}},e.eventMatcher=function(e,t,n,i){var o=e,r=!1;for(n.stopPropagation=function(){r=!0};o&&o!==i&&o!==document.body&&!r;){for(var a=0,l=t.length;l>a;a++){var c=t[a].selector;0===c.indexOf(".")&&-1!==o.className.toLowerCase().indexOf(c.substring(1))?t[a].action.call(o,n):-1!==o.tagName.toLowerCase().indexOf(c)&&t[a].action.call(o,n)}o=o.parentNode}},e.eventDelegate=function(t,n,o,r){t["delegateevent-"+o]?t["delegateevent-"+o].push({selector:n,action:r}):(t["delegateevent-"+o]=[{selector:n,action:r}],i(t,o,function(n){var i=n.target||n.srcElement,r=t["delegateevent-"+o];e.eventMatcher(i,r,n,t)}))},e.init=function(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAyCAMAAACwGaE2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzhGQzA4MUIzRkNFMTFFNEFFNkRGOTBCODU5NjkyMTciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzhGQzA4MUMzRkNFMTFFNEFFNkRGOTBCODU5NjkyMTciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3OEZDMDgxOTNGQ0UxMUU0QUU2REY5MEI4NTk2OTIxNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3OEZDMDgxQTNGQ0UxMUU0QUU2REY5MEI4NTk2OTIxNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpbvuBQAAAAGUExURXp6ev///7iACewAAAACdFJOU/8A5bcwSgAAAElJREFUeNrc0kEKACAIRNHf/S8dSWoz4AVyo4/QRQwrircBLbgkEaRwSAOZc7nqC6FChYr5bb75xS9pCmS29FiyLHWWyGpbgAEA38gCGb87IAIAAAAASUVORK5CYII=";arrowImgHover="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAyCAMAAACwGaE2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODAxQTFDRkYzRkNFMTFFNDhCREVDNDI5RDEyNTM1NTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODAxQTFEMDAzRkNFMTFFNDhCREVDNDI5RDEyNTM1NTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MDFBMUNGRDNGQ0UxMUU0OEJERUM0MjlEMTI1MzU1NSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4MDFBMUNGRTNGQ0UxMUU0OEJERUM0MjlEMTI1MzU1NSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlWhQhkAAAAGUExURf///////1V89WwAAAACdFJOU/8A5bcwSgAAAElJREFUeNrc0kEKACAIRNHf/S8dSWoz4AVyo4/QRQwrircBLbgkEaRwSAOZc7nqC6FChYr5bb75xS9pCmS29FiyLHWWyGpbgAEA38gCGb87IAIAAAAASUVORK5CYII=";var n='.context-menu{position:absolute;font-size:13px!important;color:#000!important;top:0;left:0;-moz-user-select:none;-o-user-select:none;-webkit-user-select:none;user-select:none;font-family:"宋体";}.context-menu .arrowicon{background:url('+t+") right center no-repeat}.context-menu .arrowicon:hover,.context-menu .arrowicon.open{background-image:url("+arrowImgHover+")}.context-menu ul,.context-menu li{list-style:none;padding:0;margin:0;font-size:13px!important;color:#000!important}.context-menu .list{min-height:23px;padding:2px 0;position:absolute;background-color:#FFF;color:#000}.context-menu .list{border:1px solid #BABABA}.context-menu .list li{display:list-item;cursor:default;height:23px;line-height:23px;padding:0 30px 0 34px;white-space:nowrap;position:relative;z-index:1}.context-menu .list .disable,.context-menu .list .disable:hover{color:#A1A192!important;background-color:#FFF;background:none}.context-menu .list li .icon,.context-menu .list li .icon-hover{position:absolute;display:block;width:16px;height:16px;top:3px;left:9px}.context-menu .list li .icon-hover{display:none}.context-menu .list li:hover{background-color:#4281F4;color:#FFF!important}.context-menu .list li:hover>.icon{display:none}.context-menu .list li:hover>.icon-hover{display:block}.context-menu .list .has-more{z-index:2}.context-menu .list .has-more.open{background-color:#4281F4;color:#FFF!important}.context-menu .list .has-more .list{display:none;top:-3px;left:98%;z-index:2}.context-menu .list .separate{padding:0;margin:5px 0;height:1px;line-height:0;font-size:0!important;background-color:#e9e9e9;cursor:default}.context-menu .list .separate:hover{background-color:#e9e9e9}.context-menu .list .arrow-down{height:16px;background-position:center -38px}.context-menu .list .arrow-up{height:16px;background-position:center 4px}",o=document.createElement("style");o.setAttribute("type","text/css"),document.all?o.styleSheet.cssText=n:o.innerHTML=n,document.getElementsByTagName("head").item(0).appendChild(o),i(document.body,"keydown",e.keyBoardHandler,!0),i(document.body,"mousedown",e.hideMenu)},t.bind=function(t,n,i){var o=t.getAttribute("data-cid");if(o&&e.domConf[o]){try{e.domConf[o].parentElement.removeChild(e.domConf[o])}catch(r){}delete e.domConf[o],delete e.eventConf[o],e.keyBoard={}}t.oncontextmenu=function(t){t=void 0===t&&window.event?window.event:t,t.preventDefault?t.preventDefault():t.returnValue=!1,e.contextMenu(t,n,this,i)}},"undefined"!=typeof n&&n.exports?n.exports=t:window.rMenu=t,"undefined"!=typeof $&&$.fn&&($.fn.rMenu=function(t,n){$(this).each(function(){var i=dom.getAttribute("data-cid");if(i&&e.domConf[i]){try{e.domConf[i].parentElement.removeChild(e.domConf[i])}catch(o){}delete e.domConf[i],delete e.eventConf[i],e.keyBoard={}}this.oncontextmenu=function(i){i=void 0===i&&window.event?window.event:i,i.preventDefault?i.preventDefault():i.returnValue=!1,e.contextMenu(i,t,this,n)}})}),e.init()}()});
;define("system-core:context/context.js",function(e,t,n){var i=e("base:widget/libs/jquerypacket.js"),o=e("base:widget/libs/underscore.js"),r=e("system-core:system/baseService/message/message.js"),s=e("system-core:system/uiService/button/button.js"),c=e("system-core:system/uiService/dialog/dialog.js"),a=e("system-core:system/uiService/tip/tip.js"),u=e("system-core:system/cache/listCache/cacheManage.js"),l=e("system-core:system/uiService/log/log.js"),p=e("system-core:system/uiService/page/page.js"),d=e("base:widget/tools/tools.js"),f=e("system-core:system/uiService/motionSensor/motionSensor.js"),h=e("system-core:system/uiService/keyGuard/keyGuard.js"),y=e("system-core:system/uiService/mouseWheelSensor/mouseWheelSensor.js"),g=e("system-core:system/uiService/list/list.js"),m=e("system-core:pluginControl/register/register.js"),v=0,_=!0,b=function(e){e?(this.message=r,this.isSystem=!0):(this.message=new r,this.isSystem=!1),this.log=new l};b.extend=function(e,t){if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&(b.prototype[n]?b.extend(n,e[n]):b.prototype[n]=e[n]);else if("string"==typeof e&&"object"==typeof t){var n=e,i=b.prototype[n];if(i)for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o])}if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&(b.helps[n]=t[n])},b.helps={file:{type:"object",description:"文件方法集合",_property:{list:{type:"function",description:"异步获取文件列表",param:[{type:"string",description:"传入的路径",example:"/"},{type:"function",description:"接收函数",example:"function(list){}"}],"return":{type:"undefined",description:void 0}}}},ui:{type:"object",description:"文件方法集合",_property:{List:{type:"function",description:"列表的构造函数，用于表现例如主列表的样式",param:[{type:"object",description:"传入的配置，共有8个配置选项",example:'{defaultViewModle: "list"    historyConfig: "object, 请参见文档"    headerConfig: "object, 请参见文档"    listConfig: "object, 请参见文档"    listViewBuilder: "object, 请参见文档"    gridConfig: "object, 请参见文档"    gridViewBuilder: "object, 请参见文档"    listToolsConfig: "object, 请参见文档"}'}],"return":{type:"object",description:"被实例化的列表对象"}}}}},b.cacheName="list",b.setList=function(e){e instanceof g&&(b.prototype.__listInstance=e)},b.getList=function(){return b.prototype.__listInstance},b.prototype={__listInstance:null,libs:{JQuery:i,$:i,underscore:o,_:o},extend:function(e,t){b.extend(e,t)},obtainId:function(){return"_system_id_"+ ++v},setList:function(e){b.setList(e)},getList:function(){return b.getList()},file:{_defaultPath:"/",list:function(e,t){var n=b.prototype.__listInstance;if(n&&n.cache){var i=-1;e=e||this._defaultPath,n.cache.getCacheData(b.cacheName,e,i,t)}},add:function(e,t){var n=b.prototype.__listInstance;if(n&&n.cache){var i,r;if(e=e||this._defaultPath,o.isArray(t)===!0)for(r=t.length;r>0;r--)i=t[r],n.cache.addDataBefore(b.cacheName,e,i);else o.isObject(t)===!0&&(i=t,n.cache.addDataBefore(b.cacheName,e,i))}},remove:function(e){var t=b.prototype.__listInstance;if(t&&t.cache){var n;o.isArray(e)===!0?t.cache.removeByIndexs(e):o.isObject(e)===!0&&(n=e,t.cache.removeByIndex(n))}},update:function(e,t){var n=b.prototype.__listInstance;n&&n.cache&&(e=e||this._defaultPath,o.isArray(t)===!0?n.cache.updateData(b.cacheName,e,t):o.isObject(t)===!0&&n.cache.updateData(b.cacheName,e,[t]))},watchCDNOfPCS:function(e){return}},list:{isLocked:function(){var e=b.prototype.__listInstance;return e?e.isLocked():!1},goHistory:function(e){var t=b.prototype.__listInstance;return t?t.goHistory("list",e):void(_&&console.log("[LOG FORM CONTEXT] can’t find list in this page."))},getHistoryPath:function(){var e=b.prototype.__listInstance;return e?e.getHistoryPath():void(_&&console.log("[LOG FORM CONTEXT] can’t find list in this page."))},getSelected:function(){var e=b.prototype.__listInstance;return e?e.getCheckedItems():void(_&&console.log("[LOG FORM CONTEXT] can’t find list in this page."))},getCurrentList:function(){var e=b.prototype.__listInstance;return e?e.getCurrentDataList():void(_&&console.log("[LOG FORM CONTEXT] can’t find list in this page."))},getCurrentPath:function(){var e=b.prototype.__listInstance;return e?e.currentKey:void(_&&console.log("[LOG FORM CONTEXT] can’t find list in this page."))},refresh:function(){var e=b.prototype.__listInstance;return e?e.refreshList():void(_&&console.log("[LOG FORM CONTEXT] can’t find list in this page."))},removeCacheByPath:function(e){var t=b.prototype.__listInstance;return t?t.removeCacheByPath(e):void(_&&console.log("[LOG FORM CONTEXT] can’t find list in this page."))},resize:function(){var e=b.prototype.__listInstance;return e?e.resize():void(_&&console.log("[LOG FORM CONTEXT] can’t find list in this page."))},mapFirstFileByCategory:function(e,t){var n=b.prototype.__listInstance;return n.mapFirstFileByCategory(e,t)},getIndexsByFiles:function(e){var t=b.prototype.__listInstance;return t.getIndexsByFiles(e)},showErrorTips:function(e,t){var n=b.prototype.__listInstance;n&&n.showErrorTips(e,t)},getCurrentPageMode:function(){var e=b.prototype.__listInstance;return e.getCurrentPageMode()},getCurrentListModule:function(){var e=b.prototype.__listInstance;return e.getListModule()},getCurrentViewModule:function(){var e=b.prototype.__listInstance;return e.getCurrentView()},addItemToFirst:function(e){var t=b.prototype.__listInstance;return t.addItemToFirst(e)}},ui:{window:function(e){return new c(e)},confirm:function(e,t,n,i){return c.confirm.call(c,e,t,n,i)},alert:function(e,t){return c.alert.call(c,e,t)},verify:function(e,t,n,i,o){return c.verify.call(c,e,t,n,i,o)},tip:function(e){return a.show(e)},hideTip:function(){return a.hide()},page:function(e){return new p(e)},contextMenu:function(t,n,i){e.async("system-core:system/uiService/rMenu/rMenu.js",function(e){e.bind(t,n,i)})},list:function(e,t){var n=new g(e,t);return n},listCache:function(e,t,n){return u.obtainCache(e,t,n)},cacheManage:u,button:function(e){return new s(e)}},size:{resize:function(e){o.isFunction(e)===!0&&(this.callback=e)},window:function(e){var t=i(window);e.width&&o.isNumber(e.width)&&t.width(e.width),e.height&&o.isNumber(e.height)&&t.height(e.height),this.callback&&this.callback.call(void 0)},document:function(e){var t=i(document);e.width&&o.isNumber(e.width)&&t.width(e.width),e.height&&o.isNumber(e.height)&&t.height(e.height),this.callback&&this.callback.call(void 0)}},tools:{baseService:d,motionSensor:f,keyGuard:h,mouseWheelSensor:y},pageInfo:{currentPage:"disk-home",currentProduct:"pan"},data:{},help:function(){if(0===arguments.length)return void(_&&console.log("[need]"));for(var e=b.helps,t=0,n=arguments.length;n>t;t++)if(e=0===t?e[arguments[t]]:e._property&&e._property[arguments[t]],!e)return void(_&&console.log("[NO PROPERTY]"));return e}},b.instanceForSystem=new b(!0),b.instanceForSystem.pluginControl={setButtonContainer:function(e){return m.setButtonContainer(e)},init:function(e){return m.init(e)},getFaceData:function(){return m.getFaceData()},pluginData:function(){return m.getPluginData()}},window.logConfigs&&b.instanceForSystem.log.define(window.logConfigs,"global"),n.exports=b});define("disk-system:widget/data/yunData.js",function(a,t,n){var i=(-1!==location.search.indexOf("yundata_debug=true")?1:"undefined"!=typeof disk&&disk.DEBUG?!1:0,{}),d={};i.data={},d.setData=function(a){if(1===arguments.length){if("object"==typeof a){for(var t in a)a.hasOwnProperty(t)&&(i.data[t]=a[t]);"function"==typeof Object.freeze&&Object.freeze(i.data)}window.yunData=window.yunData||{},window.yunData.ISYEARVIP=i.data.is_year_vip,window.yunData.ISVIP=i.data.is_vip,window.yunData.ISSVIP=i.data.is_svip,window.yunData.MYUK=i.data.uk,window.yunData.MYNAME=i.data.username,window.yunData.MYBDSTOKEN=i.data.bdstoken,window.yunData.MYBDUSS=i.data.XDUSS,window.yunData.LOGINSTATUS=i.data.loginstate,window.yunData.sampling=i.data.sampling.expvar?i.data.sampling.expvar.toString():i.data.sampling,window.yunData.ISFIRST=i.data.is_first,window.yunData.UINFO=i.data.uinfo,window.yunData.task_key=i.data.task_key,window.yunData.task_time=i.data.task_time,window.yunData.sign1=i.data.sign1,window.yunData.sign2=i.data.sign2,window.yunData.sign5=i.data.sign3,window.yunData.sign3=i.data.sign3&&i.data.sign3.replace("1","l").replace("0","o").replace("e","a"),window.yunData.sign4=window.yunData.sign3,window.yunData.timestamp=i.data.timestamp,window.yunData.faceStatus=i.data.face_status,window.yunData.SERVERTIME=i.data.servertime,window.yunData.SHOWVIPAD=i.data.show_vip_ad||-1,window.yunData.VIPENDTIME=i.data.vip_end_time||-1,window.yunData.activity_status=i.data.activity_status||0}else 2===arguments.length&&window.yunData&&(window.yunData[arguments[0]]=arguments[1])},d.get=function(){return i.data},n.exports=d});
;define("disk-system:widget/system/util/pcsDownloadUtil.js",function(t,n,s){var e=t("base:widget/libs/jquerypacket.js"),i=t("base:widget/tools/tools.js"),o=function(){throw new Error("can not be instantiated")};o.fixMultiDomain=function(t,n){var s="",e=0,i="http:"===document.location.protocol;return this.currentDomainIndex>=this.domains.length&&(this.currentDomainIndex=0),e=n?n:this.currentDomainIndex++,"string"==typeof t&&i&&(s=t.replace(this.defaultDomain,this.domains[e])),s},o._sList=null,o._sIndex=-1,o._sConnectedIndex=-1,o._sResult=0,o._path=null,o._sRevision=0,o.currentDomainIndex=0,o.defaultDomain="d.pcs.baidu.com",o.domains=["d0.pcs.baidu.com","d1.pcs.baidu.com","d2.pcs.baidu.com","d3.pcs.baidu.com","d4.pcs.baidu.com","d5.pcs.baidu.com","d6.pcs.baidu.com","d7.pcs.baidu.com","d8.pcs.baidu.com","d9.pcs.baidu.com"],o._getHostList=function(t){e.ajax({url:"https://d.pcs.baidu.com/rest/2.0/pcs/manage?method=listhost&channel=chunlei&clienttype=0&t="+(new Date).getTime(),method:"get",dataType:"jsonp",success:function(n){n&&n.list&&(o._path=n.path,o._sList=n.list,o._sRevision=n.rev||0,o._startTesting(t))},error:function(){"function"==typeof t&&t.call(o,0)}})},o._startTesting=function(t){o._sIndex++;var n=o._sList[o._sIndex];if(o._sIndex<o._sList.length){var s=new Image;s.onload=function(){o._sConnectedIndex=o._sIndex,o._sResult+=n.id,o._startTesting(t)},s.onerror=function(){o._startTesting(t)},s.src="//"+n.host+(o._path||"/monitor.jpg?xcode=1a81b0bbd448fc368d78cc336e28561a")+(new Date).getTime()}else"function"==typeof t&&t.call(o,1,o._sConnectedIndex,o._sList,o._sResult,o._sRevision,o._path)},o.initPcsDownloadCdnConnectivity=function(t){this._getHostList(function(n,s,e,o,c,a){1==n&&(i.setCookie("cflag",o+":"+c,10,"/",".baidu.com"),a&&"function"==typeof t&&t.call(null,a))})},s.exports=o});
;define("disk-system:widget/system/uiRender/buttonBox/buttonBox.js",function(t,i,e){var n=!1,o=t("base:widget/libs/jquerypacket.js"),s=t("system-core:system/baseService/message/message.js"),r=t("base:widget/tools/tools.js"),h=t("system-core:context/context.js").instanceForSystem,u=function(t){this.startTime=(new Date).getTime(),this.limit=t&&t.limit||10,this.name=t&&t.name||"",this.$container=o(t.container).css({"white-space":"nowrap",position:"relative"}),this.$positionMark=o('<div class="button-box-mark" style="display:inline-block;*display:inline;*zoom:1;width:1px;height:1px;line-height:0;"></div>'),this.$box=o('<div style="position:absolute;top:0;"></div>').css({"padding-top":this.$container.css("padding-top"),"line-height":"normal"}),this.$canvas=null,this.$container.append(this.$positionMark),this.$container.append(this.$box),this.buttonsData=t.buttons,this.showNum=0,this.resize=t.resize||!1,this.outSize=t.outSize||0,this.containerPadding=null,this.buttons=[],this.buttonsWidth=0,this.moreButton=null,this.moreButtonItem=[],this.moreNum=0,this.specifiedTypeButton=[],this.specifiedDirButton=[],this.limitNumberButton=[],this.numberSwitchButton=[],this.initData(),u.instances.push(this)};u.instances=[],u.declareMod=[],u.prototype.initData=function(){if(!this.buttonsData)return void console.warn("[LOG FROM BUTTONBOX] key `buttons` is needed.");for(var t=this.orderButtons(this.buttonsData),i=0,e=t.length;e>i;i++){if(t[i].templateVar){var o=!1;for(var r in t[i].templateVar)if(t[i].templateVar.hasOwnProperty(r)&&yunData[r]!=t[i].templateVar[r]){o=!0;break}if(o===!0)continue}var u=this.buttonInstance(t[i]);u.appendTo(this.$box),n&&console.log("按钮宽度："+u.width),u.isShow&&(this.buttonsWidth+=u.width+10),"function"==typeof t[i].render?t[i].render({$dom:u.dom,button:u}):"string"==typeof t[i].render&&s.trigger("plugin:"+t[i].pluginId,{run:t[i].render,$dom:u.dom,button:u})}this.initMoreButton(),this.moreButton.isShow&&(this.buttonsWidth+=this.moreButton.width+10);var l=(new Date).getTime()-this.startTime;h.log.send({name:"buttonBoxCreate",value:l})},u.prototype.orderButtons=function(t){return t.sort(function(t,i){return t.index-i.index}),t},u.prototype.buttonInstance=function(t){var i=[{},{}],e=t.title,o=t.icon;"object"==typeof t.title&&t.title.length&&(2===t.title.length&&(i[0].title=t.title[0],i[1].title=t.title[1]),e=t.title[0]),"object"==typeof t.icon&&t.icon.length&&(2===t.icon.length&&(i[0].icon=t.icon[0],i[1].icon=t.icon[1]),o=t.icon[0]),t.title=e,t.icon=o,this.limit<=this.showNum&&"dropdown"!==t.type?t.display="none":this.showNum++,"string"==typeof t.filesType?"*"===t.filesType?(delete t.filesType,n&&console.log("普通按钮："+t.title)):"none"!==t.display&&(n&&console.log("文件处理按钮，初始不显示："+t.title),t.display="none",this.showNum--):n&&console.log("普通按钮："+t.title),n&&console.log("显示个数："+this.showNum),this.formatEvent(t);var s=h.ui.button(t),r=s.config.module&&s.config.module.split(",")||[];0!==r.length&&u.declareMod.push(s),s.index=this.buttons.length,this.buttons.push(s);var l={title:t.title,symLink:s,click:t.click,icon:t.icon};return"none"===t.display&&"string"!=typeof t.filesType?(t.isInMore=!0,l.isShow=!0,n&&console.log("超过limit-"+this.limit+"-限制，隐藏按钮："+t.title)):l.display="none",this.moreButtonItem.push(l),t.changePoint&&(s.switchConfig=i,this.numberSwitchButton.push(s)),t.filesLimit&&this.limitNumberButton.push(s),"string"==typeof t.filesType&&"*"!==t.filesType&&this.specifiedTypeButton.push(s),"string"==typeof t.excludeDirType&&"*"!==t.excludeDirType&&this.specifiedDirButton.push(s),s},u.prototype.formatEvent=function(t){var i=this;if(void 0===t.click&&void 0===t.link)"dropdown"!==t.type&&(t.click=function(i){s.trigger("plugin:"+t.pluginId,i),h.log.send({name:"buttonClick",sendServerLog:!1,value:t.title})});else if("string"==typeof t.click){var e=t.click;t.click=function(i){i="object"==typeof i?o.extend({run:e},i):{run:e},s.trigger("plugin:"+t.pluginId,i),h.log.send({name:"buttonClick",sendServerLog:!1,value:t.title})}}if("string"==typeof t.mouseEnter){var n=t.mouseEnter;t.mouseEnter=function(i){i="object"==typeof i?o.extend({run:n},i):{run:n},s.trigger("plugin:"+t.pluginId,i)}}if("string"==typeof t.mouseLeave){var n=t.mouseLeave;t.mouseLeave=function(i){i="object"==typeof i?o.extend({run:n},i):{run:n},s.trigger("plugin:"+t.pluginId,i)}}if("string"==typeof t.beforeOpen){var n=t.beforeOpen;t.beforeOpen=function(i){i="object"==typeof i?o.extend({run:n},i):{run:n},s.trigger("plugin:"+t.pluginId,i)}}if("string"==typeof t.beforeClose){var n=t.beforeClose;t.beforeClose=function(i){i="object"==typeof i?o.extend({run:n},i):{run:n},s.trigger("plugin:"+t.pluginId,i)}}if("string"==typeof t.menu){var n=t.menu;t.menu=function(i,e){s.trigger("plugin:"+t.pluginId,{run:n,dom:i,format:e})}}if("dropdown"===t.type&&"object"==typeof t.menu&&t.menu.length)for(var r=0,u=t.menu.length;u>r;r++){var l=t.menu[r];if("string"==typeof l.click){var n=l.click;l.click=function(i){return function(e){e="object"==typeof e?o.extend({run:i},e):{run:i},s.trigger("plugin:"+t.pluginId,e)}}(n)}}this.resize&&o(window).bind("resize",function(){0!==i.$container.width()&&i.filter()})},u.prototype.initMoreButton=function(){var t,i=this.moreButtonItem;this.moreNum=0;for(var e=0,n=i.length;n>e;e++)i[e].isShow&&this.moreNum++;t=this.moreNum>0?void 0:"none";var o={type:"dropdown",title:"更多",resize:!0,display:t,menu:i};this.moreButton=h.ui.button(o).appendTo(this.$box)},u.prototype.triggerClick=function(t,i){if("number"==typeof t&&t>=0&&t<this.buttons.length){var e=this.buttons[t];e.triggerClick(i),e.isInMore&&this.moreButton.hide()}},u.prototype._disableButton=function(t,i){t.isInMore?(t.isShow===!0&&(this.buttonsWidth-=t.width+10,this.showNum--),t.hide(),i!==!1&&"disable"===t.config.disabled?(this.moreButtonItem[t.index].isShow=!0,this.moreButtonItem[t.index].isEnable=!i,this.moreButton.menuDisable(t.index,i)):(this.moreButtonItem[t.index].isEnable=void 0,i===!1?(this.moreButton.menuShow(t.index),this.moreButtonItem[t.index].isShow=!0):(this.moreButtonItem[t.index].isShow=!1,this.moreButton.menuShow(t.index,!1)))):(i===!1?(t.isShow===!1&&(this.buttonsWidth+=t.width+10,this.showNum++),t.disable(!1).show()):"disable"===t.config.disabled?(t.isShow===!1&&(this.buttonsWidth+=t.width+10,this.showNum++),t.disable().show()):(t.isShow&&(this.buttonsWidth-=t.width+10,this.showNum--),t.hide()),this.moreButtonItem[t.index].isShow=!1,this.moreButton.menuShow(t.index,!1)),this.moreNum=0;for(var e=0,n=this.moreButtonItem.length;n>e;e++)this.moreButtonItem[e].isShow&&this.moreNum++;var o=this.moreButton.isShow;this.moreNum>0?(this.moreButton.show(),o||(this.buttonsWidth+=this.moreButton.width+10)):(this.moreButton.hide(),o&&(this.buttonsWidth-=this.moreButton.width+10))},u.prototype.getContainerWidth=function(){if(null===this.containerPadding){var t=0,i=0;this.$container.css("padding-left")&&(t=parseInt(this.$container.css("padding-left"),10)),this.$container.css("padding-right")&&(i=parseInt(this.$container.css("padding-right"),10)),this.containerPadding=t-i}var e=this.$positionMark.position();this.$box.css("padding-left",e.left);var n=this.$container.innerWidth()-this.containerPadding-e.left;return this.$box.width(n),n-=this.outSize+10},u.prototype.filter=function(){for(var t=this.getContainerWidth(),i=this.buttons.length;(this.showNum>this.limit||this.buttonsWidth>t)&&i>0;)i--,"dropdown"!==this.buttons[i].type&&this.buttons[i].isShow&&!this.buttons[i].forbidMore&&this.moveToMore(this.buttons[i]);for(var e=0;(this.showNum<this.limit&&e<this.buttons.length&&(0>=t||this.buttonsWidth+90<t)||1===this.moreNum&&(0>=t||this.buttonsWidth+90-this.moreButton.width<t))&&(e++,void 0!==this.buttons[e]);)this.buttons[e].isInMore&&this.releaseFromMore(this.buttons[e]);this.$box.removeClass("opacity-button-box"),this.$box.css("visibility","visible")},u.prototype.moveToMore=function(t){!t.isInMore&&t.isShow&&(t.isInMore=!0,t.isEnable===!1?this._disableButton(t):this._disableButton(t,!1))},u.prototype.releaseFromMore=function(t){t.isInMore&&this.moreButtonItem[t.index].isShow&&(t.isInMore=!1,this.moreButtonItem[t.index].isEnable===!1?this._disableButton(t):this._disableButton(t,!1))},u.prototype._handleSpecifiedTypeButton=function(t){{var i=this.specifiedTypeButton;t.length}if(i.length&&t.length){for(var e="",n=0,o=t.length;o>n;n++){var s=r.getFileCategory(t[n].server_filename);if(!s||1==t[n].isdir){e=null;break}-1===e.indexOf(s)&&(e+=s+",")}e="string"==typeof e?e.slice(0,-1).split(","):null;for(var n=0,o=i.length;o>n;n++){var h=!1;if(null===e)h=!0;else for(var u=0,l=e.length;l>u;u++)if(-1===i[n].config.filesType.indexOf(e[u])){h=!0;break}t.length>i[n].config.filesLimit&&(h=!0),this._disableButton(i[n],h)}}},u.prototype._handSpecifiedDirButton=function(t){{var i=this.specifiedDirButton;t.length}if(i.length&&t.length){for(var e="",n=0,o=t.length;o>n;n++){var s=!1,r=t[n].path;e+=r+"?"}e="string"==typeof e?e.slice(0,-1).split("?"):null;for(var h=0,u=i.length;u>h;h++){for(var s=!1,l=0,a=e.length;a>l;l++){var d=i[h].config.excludeDirType,c=d&&d.indexOf(e[l]);if(-1!=c&&-1===e[l].indexOf(",")&&(","==d.charAt(c+e[l].length)||c+e[l].length==d.length)){s=!0;break}}t.length>i[h].config.filesLimit&&(s=!0),this._disableButton(i[h],s)}}},u.prototype.filesSelect=function(t){var i=this;this.timeout_reizer&&clearTimeout(this.timeout_reizer),this.timeout_reizer=setTimeout(function(){i.resizeButtons(t)},20)},u.prototype.resizeButtons=function(t){this.$box.addClass("opacity-button-box"),this.$box.css("visibility","hidden");var i=this.numberSwitchButton,e=this.limitNumberButton,n=t.length;if(0!==n){for(var o=0;o<i.length;o++)i[o].change(n<=i[o].config.changePoint?i[o].switchConfig[0]:i[o].switchConfig[1]);for(var o=0;o<e.length;o++){var s=e[o].config.filesLimit;if("number"==typeof s&&s>=n)this._disableButton(e[o],!1);else if("string"==typeof s&&0===s.indexOf(">")){var r=parseInt(s.substring(1));n>r?this._disableButton(e[o],!1):this._disableButton(e[o])}else this._disableButton(e[o])}this._handleSpecifiedTypeButton(t),this._handSpecifiedDirButton(t),this.filter(),this.$box.show()}},u.prototype.lock=function(t){return t===!1&&this.$canvas?void this.$canvas.hide():(this.$canvas||(this.$canvas=o('<div style="width:100%;height:100%;z-index:30;position:absolute;top:0;left:0;"></div>'),this.$box.prepend(this.$canvas)),void this.$canvas.show())},u.prototype.hide=function(t){return t===!1?void this.$box.show():void this.$box.hide()},u.filesSelect=function(t){for(var i=0,e=u.instances.length;e>i;i++)u.instances[i].filesSelect(t)},s.listen("system-change-toolbar",function(t){for(var i=t.module||"list",e=u.declareMod,n=null,o=0;o<e.length;o++)n=e[o],new RegExp(i+"$","gi").test(n.config.module)||new RegExp(i+",","gi").test(n.config.module)?n.dom.show():n.dom.hide()}),e.exports=u});
;define("disk-system:widget/pageModule/aside/aside.js",function(e){var t=e("base:widget/libs/jquerypacket.js"),i=e("base:widget/hash/hash.js"),s=e("system-core:data/faceData.js").getData(),o=e("system-core:system/baseService/message/message.js"),a=(e("base:widget/tools/tools.js"),e("system-core:context/context.js")),n=e("disk-system:widget/system/uiRender/buttonBox/buttonBox.js"),d=e("base:widget/historyManager/historyManager.js"),r={mod:"div.module-aside",listItem:'li[node-type~="list-item"]',sideMore:'a[node-type~="side-more"]',sideOptlist:'div[node-type~="side-optlist"]',picHotIco:'em[node-type~="pic-hot"]',picItem:'a[node-type~="pic-item"]',itemTitle:'span[node-type~="item-title"]',imgIcon:'span[node-type~="img-ico"]',itemHref:'a[node-type~="item-href"]'},l=t(r.mod),c=function(){var e='<li node-type="list-item" class="list-item"><a node-type="item-href" class="b-no-ln" hideFocus="true" href="javascript:void(O);"><span class="text"><span node-type="img-ico" class="img-ico"></span><span node-type="item-title"></span></span></a></li>';return e},m=function(){var e=function(e,i){var s,o;if(i.isVisible===!1?e.hide():e.show(),i.title&&e.find(r.itemTitle).text(i.title),i.iconClass&&e.find(r.imgIcon).addClass(i.iconClass),i.href&&e.find(r.itemHref).attr("href",i.href).removeAttr("cat"),i.guide){if(s=i.guide,"object"!=typeof s)throw new Error("[aside] The new nav item must has property: guide. And the guide must be an object");s.dom&&(o=t(s.dom),s.positionX&&o.css("left",s.positionX),s.positionY&&o.css("top",s.positionY),e.find(r.itemHref).append(o))}i.click&&"function"==typeof i.click&&e.bind("click",function(e){i.click.call(o,e)})};o.listen("nav-add-item",function(i){var s=t(r.listItem),o=t(c());e(o,i),i.index&&i.index<s.length?s.eq(i.index).after(o):s.last().after(o)}),o.listen("nav-change-item",function(i){var s,o=t(r.listItem);if(!(i.index&&i.index<o.length))throw new Error("[aside] The index of item which you will change must in the range of 0 ~ "+o.length);s=o.eq(i.index),e(s,i)})},g=function(){l.delegate(r.listItem,"mouseover",function(e){var i=t(e.target).closest(r.listItem);i.addClass("hover")}),l.delegate(r.listItem,"mouseout",function(e){var i=t(e.target).closest(r.listItem);i.removeClass("hover")}),l.delegate(r.listItem,"click",function(e){var i=t(e.target).closest(r.listItem);if(i.hasClass("active")&&"all"!==i.data("key"))return!1;l.find(r.listItem).removeClass("active"),i.addClass("active");var s=t(e.target).closest("a").attr("cat");s&&d.getDefault().navigate("category",{type:s})});var e,i=function(){window.clearTimeout(e),l.find(r.sideOptlist).show()},s=function(){window.clearTimeout(e),e=window.setTimeout(function(){l.find(r.sideOptlist).hide()},50)};l.delegate(r.sideMore,"mouseover",i),l.delegate(r.sideMore,"mouseout",s),l.delegate(r.sideOptlist,"mouseover",i),l.delegate(r.sideOptlist,"mouseout",s)},f=function(){{var e,t=a.instanceForSystem.pageInfo.currentPage,s=l.find(r.listItem),o=i.get("category/type"),n=i.get("path"),d=i.get("key");i.get("vmode")}if("disk-home"===t){if(o&&"3"!==o&&"undefined"!=typeof localStorage){var c=localStorage.getItem("chooseviewtype");c&&i.set("vmode",c)}e="all","4"===o&&(e="doc"),"1"===o&&(e="video"),"7"===o&&(e="mbt"),"2"===o&&(e="music"),"3"===o&&(e="pic"),"6"===o&&(e="other"),n&&""!==n&&(e="all"),d&&""!==d&&(e="all")}"recyclebin"===t&&(e="recyclebin"),"share-manage"===t&&(e="share"),"disk-pic"===t&&(e="pic");var m;for(m=0;m<s.length;m++)s.eq(m).removeClass("active"),s.eq(m).data("key")===e&&s.eq(m).addClass("active")},u=function(){g(),f(),m(),i.listen("category/type, path, key",function(){f()});var e=new n({name:"aside-middle",buttons:s.getButton("aside-middle"),container:t("<div>")}),a=new n({name:"aside-bottom",buttons:s.getButton("aside-bottom"),container:t("<div>")});l.find(".middle-button-container").html(e.$box.html()).prev(".item-separator").show(),l.find(".bottom-button-container").html(a.$box.html()).prev(".item-separator").show(),o.trigger("aside-render-finish")};a.extend({nav:{addItem:function(e){o.trigger("nav-add-item",e)},changeItem:function(e){o.trigger("nav-change-item",e)}}}),u()});
;define("disk-system:widget/system/fileService/fileOperate/fileOperate.js",function(a,e,l){var i=(a("base:widget/libs/jquerypacket.js"),a("system-core:data/faceData.js")),m=a("system-core:data/regedit.js"),d=a("base:widget/tools/tools.js"),n={};n.getInfo=function(a,e,l,n){var r=i.getData().fileIcon,t={};if(a=a||"",t.fileName=a.substring(a.lastIndexOf("/")+1),t.name=d.toEntity(t.fileName),n)return t.smallIcon="dir-multi-small",t.middleIcon="dir-multi-middle",t.largeIcon="dir-multi-large",t;if(e)t.smallIcon="dir-small",t.largeIcon="dir-large",t.middleIcon="dir-middle",a.match(/^\/apps$/)&&(t.smallIcon="dir-apps-small",t.largeIcon="dir-apps-large",t.middleIcon="dir-apps-middle",t.name="我的应用数据"),a.match(/^\/百度云收藏$/)&&(t.smallIcon="dir-cang-small",t.largeIcon="dir-cang-large",t.middleIcon="dir-cang-middle",t.name="我的收藏"),a.match(/^\/来自PC的备份文件$/)&&(t.smallIcon="dir-backup-small",t.largeIcon="dir-backup-large",t.middleIcon="dir-backup-middle"),(a.match(/^\/apps\//)||a.match(/^\/百度云收藏\//)||a.match(/^\/来自PC的备份文件\//))&&(t.smallIcon="dir-app-small",t.largeIcon="dir-app-large",t.middleIcon="dir-app-middle");else{t.largeIcon="default-large",t.smallIcon="default-small",t.middleIcon="default-middle";var c=-1!==a.lastIndexOf(".")?d.getFileCategory(a):"*";r[c]&&(3===r[c].length?(t.smallIcon=r[c][0],t.largeIcon=r[c][1],t.middleIcon=r[c][2]):2===r[c].length?(t.smallIcon=r[c][0],t.largeIcon=r[c][1]):(t.smallIcon=r[c],t.largeIcon=r[c]));var g=m.getDefaultPluginIdByExtension(c);!l&&g&&(g=m.getPluginById(g).name+"@"+m.getOtherInfoById(g).group),t.plugin=g}return t},n.isOpenedFile=function(a,e){var l=[];return l=l.concat(["dir","multi","shouchang","yingyong","yingyong_child","beifen"]),l=l.concat(["doc","docx","xls","xlsx","ppt","pptx","pdf","txt"]),e||(l=l.concat(["torrent"])),l=l.concat(["jpg","jpeg","gif","bmp","png","jpe","cur","svg","svgz","tif","tiff","ico","wma","wav","mp3","aac","ra","ram","mp2","ogg","aif","mpega","amr","mid","midi","m4a","wmv","rmvb","mpeg4","mpeg2","flv","avi","3gp","mpga","qt","rm","wmz","wmd","wvx","wmx","wm","swf","mpg","mp4","mkv","mpeg","mov","asf","zip","rar"]),l.indexOf(a)>=0?!0:!1},l.exports=n});
;define("disk-system:widget/pageModule/list/list-view/list-view-builder.js",function(e,t,i){var a=e("base:widget/libs/jquerypacket.js"),s=e("system-core:data/faceData.js").getData(),n=e("disk-system:widget/system/uiRender/buttonBox/buttonBox.js"),r=e("disk-system:widget/system/fileService/fileOperate/fileOperate.js"),l=e("base:widget/historyManager/historyManager.js"),c=e("base:widget/tools/service/tools.date.js"),o=e("base:widget/tools/service/tools.format.js"),d=e("base:widget/tools/service/tools.path.js"),h=e("system-core:context/context.js").instanceForSystem,g=e("system-core:system/baseService/message/message.js"),m=new n({name:"list",limit:2,buttons:s.getButton("list"),container:a("<div>")}),p={LIST:"list",CATEGORY:"category",SEARCHPATH:"searchPath",SEARCHGLOBAL:"searchGlobal",SEARCH:"search"},v=function(){var e=this.parent.listHeader.config.columns||[{width:60},{width:16},{width:23}],t=document.createElement("dd");return t.className="g-clearfix list-view-item",t.innerHTML='<span node-type="checkbox" class="checkbox"></span><div class="fileicon"></div><div class="file-name" style="width:'+e[0].width+'%"><div class="text"><a href="javascript:void(0);" class="filename"></a></div><div class="operate">'+m.$container.html()+'</div></div><div class="file-size" style="width:'+e[1].width+'%">-</div><div class="ctime" style="width:'+e[2].width+'%"></div><div class="path-info" style="width:'+(e[3]?e[3].width-1:0)+'%"><span class="search-feild" node-type="search-feild"></span></div>',t},f=null,u=null,b=function(){f=null,u=null},C=function(e,t){if(e&&0!==e.length)for(var i=0;i<e.length;i++){var s=a(e[i]),n=s.data("excludedir");if(n){var r=t.path.substring(1);-1!==n.indexOf(r)?s.addClass("g-disabled"):s.removeClass("g-disabled")}var l=s.data("includetype");if(l){var c=d.getFileCategory(t.path);-1===l.indexOf(c)?s.hide():s.show()}}},w=function(e){var t=/^[.,?\]})'";:`~!%&*|>，﹐。？、】）·！……’”；：]*/;if(e.highlighting&&e.highlighting.abstract){e.highlighting.abstractFixed=e.highlighting.abstract,e.highlighting.abstract=e.highlighting.abstract.replace(/\n+\s*\n/g,"\n"),e.highlighting.abstract=e.highlighting.abstract.replace(t,"");var i=e.highlighting.abstract;if(pos=i.search(/<em>/),pos>36){var a=pos-12;i=i.slice(a,i.length),e.highlighting.abstractFixed=i}e.highlighting.abstractFixed=e.highlighting.abstractFixed.replace(t,"")}return e},y=function(e,t,i){var s=t;null==s&&(s=this.buildView(e,t,i));var n=this.getElementDataByPosition(i),d=a(s),v=this.parent.cache.cacheName===p.SEARCHGLOBAL,b=this;if(v&&(d.addClass("list-view-vip-search"),n=w(n)),s.setAttribute("_position",i),s.setAttribute("_cmd_installed",1),this.isAllItemChecked()||this.isItemChecked(i)?d.addClass("item-active"):d.removeClass("item-active hover-item"),!s.getAttribute("_installed")){var y,k;d.mouseenter(function(){if(y=(new Date).getTime(),b.parent.isLocked())return!1;var e=a(this);return e.addClass("hover-item"),!1}).mouseleave(function(){if(b.parent.isLocked())return!1;var e=a(this);return e.removeClass("hover-item"),e.find(".g-dropdown-button").removeClass("button-open"),k=(new Date).getTime(),h.log.send({name:"listListHover",value:k-y}),!1}),d.click(function(e){var t=d.parent().children();t.removeClass("item-active"),b.setItemsChecked(!1);var i=(new Date).getTime();if(b.parent.isLocked())return!1;var s=parseInt(this.getAttribute("_position"),10),n=b.isItemChecked(s),r=b.getCheckedIndexs(),l=e.ctrlKey,c=a(this);if(e.shiftKey){var o=Math.min(s,f),g=Math.max(s,f),m=c,p=!1;if("number"==typeof u){var v=Math.min(s,u),C=Math.max(s,u);for(p=v===s;C>=v;)b.setItemChecked(v,!1),m.length>0&&m.removeClass("item-active"),m=p?m.next(".list-view-item"):m.prev(".list-view-item"),v++}for(m=c,p=o===s;g>=o;)b.setItemChecked(o,!0),m.length>0&&m.addClass("item-active"),m=p?m.next(".list-view-item"):m.prev(".list-view-item"),o++;u=s}else u=null,l||(r.length>0&&(n===!1||n&&r.length>1)&&(b.setItemsChecked(!1),c.siblings(".list-view-item").removeClass("item-active")),n&&r.length>1&&(n=!1)),b.setItemChecked(s,!n),n?c.removeClass("item-active"):c.addClass("item-active"),f=s;var w=(new Date).getTime();h.log.send({name:"listListSingleSel",value:w-i})}),d.delegate(".filename","click",function(){if(b.parent.isLocked())return!1;var e=parseInt(a(this).closest(".list-view-item")[0].getAttribute("_position"),10),t=b.getElementDataByPosition(e);if(t.isdir)b.parent.cache.cacheName===p.SEARCH||b.parent.cache.cacheName===p.SEARCHGLOBAL||b.parent.cache.cacheName===p.SEARCHPATH?l.assignUrlHash("list/path="+encodeURIComponent(t.path)+"&vmode="+l.getCurrentParams().vmode):b.parent.addHistory(t.server_filename,t.server_filename);else{var i=d.data("plugin");if(!i||!i.length)return!0;g.trigger("plugin:"+i,{filesList:[t]})}return!1}).delegate(".g-button","click",function(){if(b.parent.isLocked())return!1;var e=parseInt(a(this).closest(".list-view-item")[0].getAttribute("_position"),10),t=b.getElementDataByPosition(e),i=a(this).next(".menu");if(i.length){var s=i.find(".g-button-menu");return C(s,t),a(this).closest(".g-dropdown-button").toggleClass("button-open"),void(i.offset().top>a(window).height()-i.outerHeight()?i.addClass("more-list-up"):i.removeClass("more-list-up"))}var n=a(this).index();m.triggerClick(n,{filesList:[t],position:[e]})}).delegate(".g-button-menu","click",function(){if(b.parent.isLocked())return!1;var e=parseInt(a(this).closest(".list-view-item")[0].getAttribute("_position"),10),t=b.getElementDataByPosition(e),i=a(this).index();m.triggerClick(i,{filesList:[t],position:[e]}),a(this).closest(".g-dropdown-button").removeClass("button-open")}).delegate(".operate","click",function(e){return b.parent.isLocked()?!1:void e.stopPropagation()}).delegate(".checkbox","click",function(e){var t=0,i=(new Date).getTime();if(b.parent.isLocked())return!1;e.stopPropagation();var s=a(this).closest(".list-view-item"),t=parseInt(s.attr("_position"),10),n=b.isItemChecked(t);b.setItemChecked(t,!n),n?s.removeClass("item-active"):s.addClass("item-active"),t=parseInt(a(this).parent()[0].getAttribute("_position"),10),f=t;var r=(new Date).getTime();h.log.send({name:"listListMultiSel",value:r-i})}).delegate(".checkbox","dblclick",function(e){e.stopPropagation()}).delegate(".search-feild","click",function(e){e.stopPropagation(),l.assignUrlHash("list/path="+encodeURIComponent(a(e.target).data("path"))+"&vmode="+l.getCurrentParams().vmode)}),d.bind("dblclick",function(){if(b.parent.isLocked())return!1;var e=parseInt(a(this)[0].getAttribute("_position"),10),t=b.getElementDataByPosition(e);if(t.isdir)b.parent.cache.cacheName===p.SEARCH||b.parent.cache.cacheName===p.SEARCHGLOBAL||b.parent.cache.cacheName===p.SEARCHPATH?l.assignUrlHash("list/path="+encodeURIComponent(t.path)+"&vmode="+l.getCurrentParams().vmode):b.parent.addHistory(t.server_filename,t.server_filename);else{var i=d.data("plugin");if(!i||!i.length)return!0;g.trigger("plugin:"+i,{filesList:[t]})}return!1}),s.setAttribute("_installed",1)}var x=r.getInfo(n.path,n.isdir,!0);if(v){if(1==n.category||3==n.category){var A=n.thumbs.url1.replace(/size=.*&/,"size=c50_u50&").replace(/&quality=100/,"&quality=80");d.find(".fileicon").css("background","url("+A+") 50% 50% no-repeat")}else d.find(".fileicon").removeAttr("style");d.find(".fileicon").attr("class","fileicon "+x.middleIcon)}else d.find(".fileicon").attr("class","fileicon "+x.smallIcon);if(n.isdir||x.plugin?(d.addClass("open-enable"),d.data("plugin",x.plugin)):(d.removeClass("open-enable"),d.data("plugin","")),v&&n.highlighting.filename?d.find(".filename").html(n.highlighting.filename).attr("title",x.fileName).data("filename",n.server_filename):d.find(".filename").html(x.name).attr("title",x.fileName).data("filename",n.server_filename),v){var L="";L+=n.highlighting&&n.highlighting.abstract?'<div node-type="name-desc" class="name name-desc" title=" '+n.highlighting.abstract.replace(/\<em\>/g,"").replace(/\<\/em\>/g,"")+'">':'<div node-type="name-desc" class="name name-desc" title="">',L+='<span class="name-text-wrapper">',L+=n.highlighting.abstractFixed?'<span node-type="name-text" class="name-text">'+n.highlighting.abstractFixed+"</span>":'<span node-type="name-text" class="name-text">'+(n.highlighting.abstract||"")+"</span>",L+="</span></div>",0===d.find(".name-desc").length?d.find(".file-name").append(L):d.find(".name-desc").html(L)}if(d.find(".file-size").text(n.isdir?"-":o.toFriendlyFileSize(n.size)),n.server_mtime||(n.server_mtime="-"),d.find(".ctime").text("-"===n.server_mtime?n.server_mtime:c.parseDate(n.server_mtime)),this.parent.cache.cacheName===p.SEARCH||this.parent.cache.cacheName===p.SEARCHGLOBAL||this.parent.cache.cacheName===p.SEARCHPATH){var H=n.path.split("/"),I="",_="";2===H.length?(I="/",_="全部文件"):(I=H.slice(0,H.length-1).join("/"),_=H[H.length-2]),d.find(".search-feild").data("path",I).attr("title",_).text(_)}return s};i.exports={getView:y,buildView:v,clear:b}});
;define("disk-system:widget/system/util/lazyLoadImage.js",function(t,i,o){for(var n=t("base:widget/libs/jquerypacket.js"),e=["d0.pcs.baidu.com","d1.pcs.baidu.com","d2.pcs.baidu.com","d3.pcs.baidu.com","d4.pcs.baidu.com","d5.pcs.baidu.com","d6.pcs.baidu.com","d7.pcs.baidu.com","d8.pcs.baidu.com","d9.pcs.baidu.com"],a=["thumbnail0.baidupcs","thumbnail1.baidupcs","thumbnail2.baidupcs","thumbnail3.baidupcs","thumbnail4.baidupcs","thumbnail5.baidupcs","thumbnail6.baidupcs","thumbnail7.baidupcs","thumbnail8.baidupcs","thumbnail9.baidupcs"],s="",c="d.pcs.baidu.com",d="thumbnail0.baidupcs",u=[],r=0,h=e.length;h>r;r++)u[r]=0;var l=function(t){var i=function(){};this.srcName=t.srcName||"_src",this.preLoadcallback=t.preLoadcallback||null,this.succ=t.succ||i,this.fail=t.fail||i,this.context=t.context||null,this.conCount=t.conCount||2,this.itemConCount=this.conCount,this.conCount=e.length*this.conCount,this.domainsIndex=u.slice(0),this.images=[],this.loadingCount=0,this.currentIndex=0,this.offLoad=!1};l.prototype.changeImages=function(t){t&&"number"==typeof t.length&&(this.domainsIndex=u.slice(0),this.currentIndex=0,this.loadingCount=0,this.images=t,this._fixLoadingImags())},l.prototype.changeLoadFlag=function(t){this.offLoad=!!t},l.prototype.appendImages=function(t){this.offLoad=!0,t&&"number"==typeof t.length&&(this.currentIndex>1&&this.images.splice(0,this.currentIndex-1),this.images=n.merge(t,this.images),this.offLoad=!1,this.changeImages(this.images))},l.prototype._getCurrentDomainIndex=function(){for(var t=0,i=this.domainsIndex.length;i>t;t++)if(this.domainsIndex[t]<this.itemConCount)return t;return-1},l.prototype._loadCurrentImage=function(t){var i,o,n,u=this,r=this.images[this.currentIndex],h=(new Date).getTime(),l=!1;if(r){if("function"==typeof this.preLoadcallback&&!this.preLoadcallback.call(this.context,r))return this.currentIndex++,void this._fixLoadingImags();r.src?(l=!0,o=r.src):o=r.getAttribute(this.srcName);var m="";o.indexOf(c)>=0?(s=c,m="http:"===document.location.protocol?e[t]:c):o.indexOf(d)>=0&&(s=d,m=a[t]),s!==m&&"string"==typeof o&&(o=o.replace(s,m)),!l||"undefined"!=typeof r.complete&&r.complete!==!1||(n=r.cloneNode(!1),n.onload=null,n.onerror=null,n.removeAttribute("src"),r.parentNode.replaceChild(n,r),r=n),r.hasError||(r.src=o),this.currentIndex++,this.loadingCount++,this.domainsIndex[t]++,r.complete?u._loadImageSucc(r,t):(r.onload=function(){i=(new Date).getTime()-h,u._loadImageSucc(this,t,i)},r.onerror=function(){r.hasError=!0,u._loadImageFail(this,t)})}},l.prototype._fixLoadingImags=function(){for(var t=-1;!this.offLoad&&!this._resolveIsOver()&&this.loadingCount<this.conCount&&(t=this._getCurrentDomainIndex())>=0;)this._loadCurrentImage(t)},l.prototype._resolveIsOver=function(){return this.currentIndex>=this.images.length?(this.loadingCount=0,!0):!1},l.prototype._loadImageSucc=function(t,i,o){this.succ.call(this.context,t,o),this._commonLoadImageCall(t,i)},l.prototype._loadImageFail=function(t,i){this.fail.call(this.context,t),this._commonLoadImageCall(t,i)},l.prototype._commonLoadImageCall=function(t,i){this.loadingCount--,this.domainsIndex[i]--,this._fixLoadingImags(),t.onload=null,t.onerror=null},o.exports=l});
;define("disk-system:widget/pageModule/list/grid-view/grid-view-builder.js",function(e,t,i){var s=e("base:widget/libs/jquerypacket.js"),a=(e("system-core:data/faceData.js").getData(),e("disk-system:widget/system/fileService/fileOperate/fileOperate.js")),n=e("base:widget/historyManager/historyManager.js"),r=(e("base:widget/tools/service/tools.date.js"),e("base:widget/tools/service/tools.format.js"),e("disk-system:widget/system/util/lazyLoadImage.js")),l=e("system-core:system/baseService/message/message.js"),c=e("system-core:context/context.js").instanceForSystem,o={LIST:"list",CATEGORY:"category",SEARCHPATH:"searchPath",SEARCHGLOBAL:"searchGlobal",SEARCH:"search"},d={},m=function(){var e=document.createElement("dd");e.className="g-clearfix";var t=[];t.push('<div class="grid-view-item">'),t.push('<div class="fileicon" title="">'),t.push('<img class="thumb"/>'),t.push('<span node-type="checkbox" class="checkbox"></span>'),t.push('<span class="playIcon"></span>'),t.push("</div>"),t.push('<div class="file-name">'),t.push('<a node-type="name" class="filename" href="javascript:void(0);" title=""></a>'),t.push("</div>"),t.push("</div>");for(var i=[],s=0;s<this._mGridStep;s++)i.push(t.join(""));return e.innerHTML=i.join(""),e},u=0,h=null,v=null,g=function(){h=null,v=null},f=function(e,t,i){var r,m,g=t;null==g&&(g=this.buildView(e,t,i));for(var f,y=this._mElementsData[i],C=s(g),b=this,I=this._mGridStep,k=C.find(".grid-view-item"),w=function(e,t){for(var i in t)s.inArray(+i,e)>=0?t[i].addClass("item-active"):t[i].removeClass("item-active")},L=0;L<y.length;L++){if(f=y[L],r=k[L],m=s(r),r.style.display="block",r.setAttribute("_position",i),d[i*I+L]=m,this.isAllItemChecked()||this.isItemChecked(i*I+L)?m.addClass("item-active"):m.removeClass("item-active hover-item"),!r.getAttribute("_installed")){var A,_;m.mouseover(function(){if(A=(new Date).getTime(),b.parent.isLocked())return!1;var e=s(this);return e.addClass("hover-item"),!1}).mouseout(function(){if(b.parent.isLocked())return!1;var e=s(this);return e.removeClass("hover-item"),_=(new Date).getTime(),c.log.send({name:"gridListHover",value:_-A}),!1}),m.bind("click dblclick",function(e){var t=(new Date).getTime();if(b.parent.isLocked())return!1;var i,a=s(this),r=parseInt(a.attr("_position"),10),m=a.index(),g=r*I+m,f=b.getElementsData()[g],p=b.isItemChecked(g),y=!1;if(e.shiftKey){b.setItemsChecked(!1);var C=u,k=g;if(k>C)for(;k>=C;)b.setItemChecked(C,!0),C++;else if(C>k)for(;C>=k;)b.setItemChecked(C,!0),C--;else b.setItemChecked(C,!0);w(b.getCheckedIndexs(),d),h=g}else{if(!e.ctrlKey){if(f.isdir)return b.setItemsChecked(!1),filename=f.server_filename,b.parent.cache.cacheName===o.SEARCH||b.parent.cache.cacheName===o.SEARCHGLOBAL||b.parent.cache.cacheName===o.SEARCHPATH?n.assignUrlHash("list/path="+encodeURIComponent(f.path)+"&vmode="+n.getCurrentParams().vmode):b.parent.addHistory(f.server_filename,f.server_filename),!1;var L=a.data("plugin");if(L&&L.length)return l.trigger("plugin:"+L,{filesList:[f]}),!1;u=g,i=b.getCheckedIndexs(),i.length>0&&(p===!1||p&&i.length>1)&&(b.setItemsChecked(!1),y=!0),p&&i.length>1&&(p=!1)}h=g,v=null,b.setItemChecked(g,!p),y?b.requestLayout():p?a.removeClass("item-active"):a.addClass("item-active")}var A=(new Date).getTime();return c.log.send({name:"gridListSingleSel",value:A-t}),!1}).delegate(".checkbox","click",function(e){var t=(new Date).getTime();if(b.parent.isLocked())return!1;e.stopPropagation();var i=s(this).closest(".grid-view-item"),a=parseInt(i.attr("_position"),10),n=i.index(),r=a*I+n,l=b.isItemChecked(r);b.setItemChecked(r,!l),u=r,l?i.removeClass("item-active"):i.addClass("item-active");var o=(new Date).getTime();c.log.send({name:"gridListMultiSel",value:o-t})}).delegate(".checkbox","dblclick",function(e){e.stopPropagation()}),r.setAttribute("_installed",1)}var S=a.getInfo(f.path,f.isdir);m.find(".playIcon").remove(),"fileicon-large-video"===S.largeIcon&&(m.find(".fileicon").append('<span class="playIcon"></span>'),m.mouseenter(function(){s(this).find(".playIcon").show()}).mouseleave(function(){s(this).find(".playIcon").hide()})),m.find(".fileicon").attr("class","fileicon "+S.largeIcon),f.isdir||S.plugin?(m.addClass("open-enable"),m.data("plugin",S.plugin)):(m.removeClass("open-enable"),m.data("plugin",""));var j,x,T=m.find(".fileicon img");T.removeAttr("src"),4!==f.category&&f.thumbs&&f.thumbs.url1?(x=f.thumbs.url1.replace("size=c140_u90","size=c180_u194"),(j=p.loadedImgMap[x])?(T.removeAttr("_src").attr("src",j.src).css({left:j.left,top:j.top,visibility:"visible"}),T.parent().attr("class","fileicon")):T.removeAttr("src").attr("_src",x).css("visibility","hidden")):T.removeAttr("_src").removeAttr("src").css("visibility","hidden"),m.find(".filename").html(S.name).attr("title",S.fileName).data("filename",f.server_name)}if(y.length!=I)for(var H=y.length;I>H;++H)k[H].style.display="none";return g},p={lazyLoadImagePlugin:null,loadedImgMap:{},init:function(){var e=this;this.lazyLoadImagePlugin=new r({succ:e.imgLoadedSuccessFunc,fail:e.imgLoadedFailFunc,context:e})},imgLoadedSuccessFunc:function(e,t){e=s(e);var i,a=0,n=0,r=e.width(),l=e.height();r>0&&l>0&&(a=(90-r)/2,n=(92-l)/2),i={left:a,top:n,visibility:"visible"},e.css(i).removeAttr("_src");var o=e.attr("src");if(!o)return!1;var d=o.replace(/http:\/\/d[0-9]\./,"http://d.");i.src=o,this.loadedImgMap[d]=i,e.parent().attr("class","fileicon"),c.log.send({name:"s_imgLoad",value:t})},imgLoadedFailFunc:function(e){e=s(e),e.removeAttr("src"),e.removeAttr("_src")},imgPreLoadcallback:function(){},loadBeforeCheck:function(){},load:function(e){this.lazyLoadImagePlugin.changeImages(e.find(".thumb[_src]"))}};p.init();var y=-1,C=function(){var e=this,t=e.parent;clearTimeout(y),y=setTimeout(function(){p.load(t.$gridViewContainer)},200)};i.exports={getView:f,buildView:m,onScroll:C,clear:g}});
;define("disk-system:widget/system/fileService/asynFileManager/asynFileManagerView.js",function(e,i,n){var s=(e("base:widget/libs/jquerypacket.js"),e("system-core:system/uiService/dialog/dialog.js")),a=e("base:widget/tools/tools.js"),t=function(){var e={},i={},n=function(){i.init()};return e.showException=function(e){var n=e.title||"确定",a=e.errorList?(e.flagRepeat?i.buildRepeatErrorList:i.buildErrorList).call(null,e.errorList,e.repeatToMsg,e.repeatFrmMsg):"",t=e.checkboxMsg?i.buildRepeatCheckboxContent(e.checkboxMsg,e.checkboxChecked):"",l=['<div class="dialog-asyn-view">',"<h4>"+e.contentTitle+"</h4>",a,t,"</div>"],o=function(){i.resetDialog(),i.hiddenDialog(),e.okCall(i.getCheckStatus())},r=function(){e.cancelCall(),i.resetDialog(),i.hiddenDialog()},c=[];e.plusText&&c.push({type:"big",color:"blue",name:"confirm",title:e.plusText,click:function(){i.resetDialog(),i.hiddenDialog(),e.plusCall(i.getCheckStatus())}}),e.okText&&c.push({type:"big",color:"blue",name:"confirm",title:e.okText,click:function(){o()}}),c.push({type:"big",name:"cancel",title:e.cancelText,click:function(){r()}});var u={title:n,body:l.join(""),buttons:c,onClose:function(){r()}};i.dialog=new s(u),i.hackDialog(),i.dialog.show(),i.bindEvent()},i.dialog=null,i.bindEvent=function(){var e=i.dialog.$dialog.find(".asyn-view-checkbox");e.click(function(){e.toggleClass("on")})},i.getCheckStatus=function(){var e=i.dialog.$dialog.find(".asyn-view-checkbox");return e.hasClass("on")},i.buildErrorList=function(e){var n,s=[],t=e.length>10?!0:!1,l=t?10:e.length;if(e.length&&e.server_filename&&e.isdir){s.push('<ul class="asyn-view-content asyn-view-repeat-content">');for(var o=0;l>o;o++)n=e[o],n.server_filename=n.from,n.isdir=0,s.push('<li><span class="global-icon-16 global-icon-16-'+a.encodeHTML(i.getSuffixByFile(n))+'"></span>'+a.encodeHTML(i.getFileNameByPath(n.from))+" </li>");t&&s.push('<li class="asyn-view-more global-clearfix"><span class="asyn-view-point"></span><span class="asyn-view-point"></span><span class="asyn-view-point"></span></li>'),s.push("</ul>")}return s.join("")},i.buildRepeatErrorList=function(e,n,s){var a=[],t=e.to_meta,l=e.from_meta;return t.path=e.to,l.path=e.from,t.server_filename=i.getFileNameByPath(t.path),l.server_filename=i.getFileNameByPath(l.path),a.push('<div class="asyn-view-content">'),a.push(i.buildRepeatItemErrorList(t,n)),a.push(i.buildRepeatItemErrorList(l,s)),a.push("</div>"),a.join("")},i.buildRepeatItemErrorList=function(e,n){var s=[];return s.push('<div class="asyn-view-content-item">'),s.push('<span class="asyn-view-tip-msg">'+n+"</span>"),s.push('<div class="asyn-view-tip-info">'),s.push('<span class="asyn-view-tip-icon global-icon-16 global-icon-16-'+a.encodeHTML(i.getSuffixByFile(e))+'"></span>'),s.push('<span class="asyn-view-tip-name">'+a.encodeHTML(e.server_filename)+"</span>"),s.push("</div>"),s.push('<span class="asyn-view-tip-date">'),1!==parseInt(e.isdir,10)&&s.push("大小："+a.toFriendlyFileSize(e.size)+"&nbsp;&nbsp;"),s.push("修改日期："+a.parseDate(e.mtime)+"</span>"),s.push("</div>"),s.join("")},i.buildRepeatCheckboxContent=function(e,i){var n=[];return n.push('<div class="asyn-view-checkbox '+(i?"on":"")+'">'),n.push('<span class="global-icon-checkbox"></span>'),n.push(e),n.push("</div>"),n.join("")},i.getSuffixByFile=function(e){var i,n="";return 1===parseInt(e.isdir,10)?n="dir":(i=e.server_filename+"",n=a.getFileCategory(i)),n},i.getFileNameByPath=function(e){e=e||"","/"===e[e.length-1]&&(e=e.substring(0,e.length-1));var i=e.lastIndexOf("/");return e.substring(i+1)},i.q={asynViewClass:"alert-dialog-asyn-view"},i.init=function(){},i.hackDialog=function(){i.dialog&&i.dialog.$dialog.addClass(i.q.asynViewClass)},i.resetDialog=function(){i.dialog&&i.dialog.$dialog.removeClass(i.q.asynViewClass)},i.hiddenDialog=function(){i.dialog&&i.dialog.hide()},n.apply(e,arguments),e};n.exports=new t});
;define("disk-system:widget/system/errorMsg/errorMsg.js",function(e,o,i){var r=window.yunData,a=function(){var e="multi-file";0===location.pathname.indexOf("/disk/home")&&(e="disk-home");var o=location.protocol+"//yun.baidu.com/buy/center?tag=1&from="+e,i="购买会员";return!r||1!==+r.ISVIP&&1!==+r.ISVIP||(o=location.protocol+"//yun.baidu.com/buy/center?tag=2&from="+e,i="购买容量"),'你的空间不足了哟，赶紧<a target="_blank" href="'+o+'">'+i+"</a>吧"}(),t={0:"成功","-1":"用户名和密码验证失败","-2":"备用","-3":"用户未激活（调用init接口）","-4":"COOKIE中未找到host_key&user_key（或BDUSS）","-5":"host_key和user_key无效","-6":"登录失败，请重新登录","-7":"文件或目录名错误或无权访问","-8":"该目录下已存在此文件","-9":"文件被所有者删除，操作失败","-10":a,"-11":"父目录不存在","-12":"设备尚未注册","-13":"设备已经被绑定","-14":"帐号已经初始化","-21":"预置文件无法进行相关操作","-22":"被分享的文件无法重命名，移动等操作","-23":"数据库操作失败，请联系netdisk管理员","-24":"要取消的文件列表中含有不允许取消public的文件。","-25":"非公测用户","-26":"邀请码失效","-102":"云冲印文件7日内无法删除",1:"服务器错误 ",2:"接口请求错误，请稍候重试",3:"一次操作文件不可超过100个",4:"新文件名错误",5:"目标目录非法",6:"备用",7:"NS非法或无权访问",8:"ID非法或无权访问",9:"申请key失败",10:"创建文件的superfile失败",11:"user_id(或user_name)非法或不存在",12:"部分文件已存在于目标文件夹中",13:"此目录无法共享",14:"系统错误",15:"操作失败",102:"无权限操作该目录",103:"提取码错误",104:"验证cookie无效",201:"系统错误",202:"系统错误",203:"系统错误",204:"系统错误",205:"系统错误",301:"其他请求出错",501:"获取的LIST格式非法",618:"请求curl返回失败",619:"pcs返回错误码",600:"json解析出错",601:"exception抛出异常",617:"getFilelist其他错误",211:"无权操作或被封禁",404:"秒传md5不匹配 rapidupload 错误码",406:"秒传创建文件失败 rapidupload 错误码",407:"fileModify接口返回错误，未返回requestid rapidupload 错误码",1024:"云冲印购物车文件15日内无法删除",31080:"我们的服务器出错了，稍候试试吧",31021:"网络连接失败，请检查网络或稍候再试",31075:"一次支持操作999个，减点试试吧",31116:'你的空间不足了哟，赶紧<a href="//yun.baidu.com/buy/center?tag=2&from=multi-file">购买空间</a>吧',112:'页面已过期，请<a href="javascript:window.location.reload();"">刷新</a>后重试',111:"当前还有未完成的任务，需完成后才能操作","-32":a};i.exports=t});
;define("disk-system:widget/system/fileService/asynFileManager/asynFileManager.js",function(e,a,t){var s=e("base:widget/libs/jquerypacket.js"),r=e("base:widget/storage/storage.js"),o=e("system-core:context/context.js").instanceForSystem,i=e("disk-system:widget/system/fileService/asynFileManager/asynFileManagerView.js"),l=e("disk-system:widget/system/errorMsg/errorMsg.js");o.extend({errorMsg:function(e){return"number"==typeof e||"string"==typeof e?l[e]:void 0}});var n=function(e){this.config=e,this.tiping=!1};n.moveFiles=function(e,a,t){c.doCommonTest(e,"move")&&c.doMoveCopyThing("move",e,a,t)},n.copyFiles=function(e,a,t){c.doCommonTest(e,"copy")&&c.doMoveCopyThing("copy",e,a,t)},n.deleteFiles=function(e,a){c.doCommonTest(e,"delete")&&(c.doDeleteThing("delete",e,a),this.operating=!0)},n.deleteFileSync=function(e,a){c.doCommonTest(e,"delete")&&s.post("/api/filemanager?opera=delete&async=0",{filelist:s.stringify(e)},function(e){e=s.parseJSON(e),e&&0===e.errno?a(1,e):a(0,e)}).error(function(e){var t=s.parseJSON(e.responseText);a(0,t)})},n.rename=function(e,a,t){c.doCommonTest(e,"rename")&&c.doRename("rename",e,a,t)},n.transferFiles=function(){},n.resolveHasTask=function(e,a,t){var s={},r={},o={};o.taskid=parseInt(e,10),s.operate=a,r.operate=a,r.callback=t,r.async=1,c.doMoveCopySuccCall(o,s,r)},n.transferFile=function(){},n.restore=function(e){var a="restore";c.doCommonTest(e.fidlist,a)&&(c.data.selectedFiles=e.selectedFiles,c.getData(a,e,c.doSuccessCall,c.doFailCall))};var c={};c.data={},c.QUERY_TIMEER=1e3,c.getFileNameByPath=function(e){e=e||"";var a=e.lastIndexOf("/");return e.substring(a+1)},c.getDirFromPath=function(e){return e=e||"",e.substring(0,e.lastIndexOf("/"))},c.doCommonTest=function(e,a){var t=e&&e.length>0;return o.ui.tip(t?{mode:"loading",msg:"正在"+c.getOperateName(a)+"文件，请稍候&hellip;",autoClose:!1}:{mode:"caution",msg:"请选择要"+c.getOperateName(a)+"的文件"}),t},c.doMoveCopyThing=function(e,a,t,r){var o,i,l={},n=[];t="/"===t?"":t;for(var p=0,d=a.length;d>p;p++)o=a[p],i={path:o.path,dest:t,newname:c.getFileNameByPath(o.path)},n.push(i);l.filelist=s.stringify(n),l.list=n,l.callback=r,c.getData(e,l,c.doSuccessCall,c.doFailCall)},c.doDeleteThing=function(e,a,t){var r={};r.filelist=s.stringify(a),r.list=a,r.callback=t,c.getData(e,r,c.doSuccessCall,c.doFailCall)},c.doRename=function(e,a,t,r){var o={};o.filelist=s.stringify([{path:a,newname:t}]),o.callback=r,c.getData(e,o,c.doSuccessCall,c.doRenameFailCall)},c.doSuccessCall=function(e,a,t){c.doMoveCopySuccCall(e,a,t)},c.doFailCall=function(e,a,t){if(2===t.async||12!==e.errno&&-8!==e.errno&&-9!==e.errno||e.info&&e.info[0]&&111===e.info[0].errno){var r,i=e.errno,l="文件"+c.getOperateName(t.operate)+"失败，请稍候再试",n=3;if(12===i&&"delete"===t.operate?r=l:(12===i&&e.info&&e.info[0]&&e.info[0].errno&&(i=e.info[0].errno),102===i&&e.info&&e.info[0]&&e.info[0].errno&&(i=102===e.info[0].errno?"-102":e.info[0].errno),r=3===i?"一次操作数量不可以超过"+(e.limit||500)+"个":o.errorMsg(i)||l),e.flagNetError){if(n=0,!e.flagNetErrorProcess){var p=t.list,d=[];if("delete"===t.operate)for(var u=0,f=p.length;f>u;u++)d.push({from:p[u]});else if("restore"===t.operate){if(c.data.selectedFiles)for(var u=0;u<c.data.selectedFiles.length;u++){var g=c.data.selectedFiles[u];d.push({from:g.path})}}else for(var u=0,f=p.length;f>u;u++)d.push({from:p[u].path});return c.hideTips(),void c.showOtherErrorAsynView("failnet",d,t.operate,a,t)}r="任务进度查询失败，请稍候重试"}c.showErrorCloseTips(r),c.callTaskOverCallBack(n,t.callback,e,a,t)}else{if(a.async=2,a.callback=t.callback,"restore"===t.operate)a.url=t.url,a.fidlist=s.stringify(e.faillist);else{var h=e.info,m=[];if(h&&h.length>0)for(var u=0,f=h.length;f>u;u++)0===h[u].errno&&m.push(h[u].path);if(m.length>0&&t.list&&t.list.length>0)if("delete"===t.operate)for(var k=t.list.length-1;k>=0;k--)s.inArray(t.list[k],m)>=0&&t.list.splice(k,1);else for(var k=t.list.length-1;k>=0;k--)s.inArray(t.list[k].path,m)>=0&&t.list.splice(k,1);a.filelist=s.stringify(t.list)}c.getData(t.operate,a,c.doSuccessCall,c.doFailCall)}},c.doRenameFailCall=function(e,a,t){if(e.flagNetError){var s="网络异常，重名失败，稍后重试下吧";c.showErrorCloseTips(s)}else 12===e.errno?c.showRenameAsynView(e,a,t):c.callTaskOverCallBack(0,t.callback,e,a,t)},c.doMoveCopySuccCall=function(e,a,t){e.taskid>0?(c.setTaskProcess(e.taskid,0),c.taskMap.result=e,c.taskMap.params=a,c.taskMap.otherParams=t,r&&r.setItem&&e.taskid&&t.operate&&r.setItem(c.getTaskKey(),e.taskid+"_"+t.operate),c.startGetQueryData(t.operate,e.taskid,c.processSuccCall,c.processFailCall,a)):(c.showSuccTips("文件"+c.getOperateName(t.operate)+"成功"),c.callTaskOverCallBack(1,t.callback,e,a,t))},c.processSuccCall=function(e,a,t){if(0!==e.task_errno)if(c.hideTips(),-32===e.task_errno)e.errno=e.task_errno,c.doFailCall(e,a,t);else switch(t.operate){case"delete":c.showDeleteAsynView(e,a,t);break;case"rename":c.showRenameAsynView(e,a,t);break;default:c.showAsynView(e,a,t)}else if("pending"===e.status)n.tiping||c.showProcessTips("正在"+c.getOperateName(t.operate)+"文件，请稍候&hellip;",0),c.startGetQueryData(t.operate,t.taskid,c.processSuccCall,c.processFailCall,a);else if("running"===e.status){var s=0;s=e.progress?Math.min(Math.max(parseInt(e.progress,10),0),100):c.getTaskProcess(e.taskid),c.setTaskProcess(e.taskid,s),n.tiping||c.showProcessTips("正在"+c.getOperateName(t.operate)+"文件，请稍候&hellip;",s),c.startGetQueryData(t.operate,t.taskid,c.processSuccCall,c.processFailCall,a)}else"success"===e.status&&(r&&r.removeItem&&r.removeItem(c.getTaskKey()),c.showSuccTips("文件"+c.getOperateName(t.operate)+"成功"),"restore"===t.operate&&(e=c.taskMap.ignoreList),c.callTaskOverCallBack(1,c.getLastCallback(),e,a,t))},c.processFailCall=function(e,a,t){e.flagNetErrorProcess=1,c.doFailCall(e,a,t)},c.getData=function(e,a,t,s){if("restore"===e)c.getRestoreAndDeleteData(e,a,t,s);else{var r={},o=1;r.operate=e,r.callback=a.callback,r.list=a.list,delete a.callback,delete a.list,a.async&&(o=a.async,r.async=o,delete a.async),o=2,c.fetchData("/api/filemanager?opera="+e+"&async="+o,a,t,s,r)}},c.getRestoreAndDeleteData=function(e,a,t,s){var r=a.fidlist?{fidlist:a.fidlist}:{filelist:a.filelist},o=a;o.operate=e;var i=a.url+"&async="+a.async;c.fetchData(i,r,t,s,o)},c.startGetQueryData=function(e,a,t,s,r){setTimeout(function(){c.getQueryData(e,a,t,s,r)},c.QUERY_TIMEER)},c.getQueryData=function(e,a,t,s,r){var o={};o.operate=e,o.taskid=a,o.callback=c.getLastCallback(),c.fetchData("/share/taskquery?taskid="+a,r,t,s,o)},c.fetchData=function(e,a,t,r,i){s.post(e,a,function(l,n,c){if(l&&0===l.errno){t(l,a,i);var p=/taskid=(\d+)&*/i;o.log.send({type:"async",op:"async",action:i.operate,url:"//update.pan.baidu.com/statistics",product:"pan",success:1,taskid:l.taskid||(p.test(e)?e.match(p)[1]:0),ajaxerrno:l.errno,ajaxerrmsg:o.errorMsg(l.errno),ajaxstatus:c.status||0,ajaxurl:encodeURIComponent(e),ajaxparam:s.stringify(a),ajaxdata:s.stringify(l),file:s.stringify(a.filelist)})}else{r(l,a,i);var p=/taskid=(\d+)&*/i;o.log.send({type:"async",op:"async",action:i.operate,url:"//update.pan.baidu.com/statistics",product:"pan",success:0,taskid:l.taskid||(p.test(e)?e.match(p)[1]:0),ajaxerrno:l.errno,ajaxerrmsg:o.errorMsg(l.errno)||"未知错误",ajaxstatus:c.status||0,ajaxurl:encodeURIComponent(e),ajaxparam:s.stringify(a),ajaxdata:s.stringify(l),file:s.stringify(a.filelist)})}},"json").error(function(t,l,n){var c;try{c=s.parseJSON(t.responseText)}catch(p){}c||(c={}),c.flagNetError=1,r(c,a,i);var d=/taskid=(\d+)&*/i;o.log.send({type:"async",op:"async",action:i.operate,url:"//update.pan.baidu.com/statistics",product:"pan",success:0,taskid:c.taskid||(d.test(e)?e.match(d)[1]:0),ajaxerrno:c.errno||31021,ajaxerrmsg:o.errorMsg(c.errno||31021),ajaxstatus:n.status||0,ajaxurl:encodeURIComponent(e),ajaxparam:s.stringify(a),ajaxdata:s.stringify(c),file:s.stringify(a.filelist)})})},c.hideTips=function(){o.ui.hideTip()},c.showSuccTips=function(e){o.ui.tip({mode:"success",msg:e})},c.showErrorTips=function(e){o.ui.tip({mode:"caution",msg:e})},c.showLoadingTips=function(e){o.ui.tip({mode:"loading",msg:e,autoClose:!1})},c.showProcessTips=function(e,a){var t='<span class="asyn-tip-process" style="display: inline-block;width: 73px;height: 8px;line-height: 8px;background: #efe0a9;margin: 0 5px;border-radius: 4px;overflow:hidden;-moz-box-shadow:0px 1px 0px #d7ca98 inset;-webkit-box-shadow:0px 1px 0px #d7ca98 inset;box-shadow:0px 1px 0px #d7ca98 inset;"><span class="asyn-tip-process-inner" style="display: inline-block;background: #26ba6c;height: 8px;line-height: 8px;font-size: 0;text-align: left;-moz-box-shadow:0px 1px 0px #d7ca98 inset;-webkit-box-shadow:0px 1px 0px #d7ca98 inset;box-shadow:0px 1px 0px #d7ca98 inset;float: left;width:'+a+'%"></span></span>';o.ui.tip({mode:"none",msg:'<span style="padding-left: 15px;"></span>'+e+t+a+"%",autoClose:!1,hasClose:!1})},c.showErrorCloseTips=function(e){o.ui.tip({mode:"caution",msg:e,autoClose:!1,hasClose:!0})},c.taskMap={},c.setTaskProcess=function(e,a){var t=c.taskMap[e];t||(t={},c.taskMap[e]=t),t.process=a},c.getTaskProcess=function(e){var a=c.taskMap[e],t=0;return a&&(t=a.process||0),t},c.getLastCallback=function(){var e=c.taskMap;return e.otherParams&&e.otherParams.callback?e.otherParams.callback:null},c.getOperateName=function(e){var a=c.taskMap,t="操作";switch(e||a.otherParams&&a.otherParams.operate&&(e=a.otherParams.operate),e){case"copy":t="复制";break;case"move":t="移动";break;case"delete":t="删除";break;case"transfer":t="转存";break;case"rename":t="重命名";break;case"restore":t="还原"}return t},c.addTaskObj=function(e,a,t,s,r,o,i){var l=c.taskMap;l.currentTypeIndex=e||0,l.currentIndex=a||0,l.defaultList=t,l.repeatFileList=s,l.repeatFolderList=r;var n=l.notFoundList;n instanceof Array||(n=[],l.notFoundList=n),Array.prototype.push.apply(n,o);var p=l.otherList;p instanceof Array||(p=[],l.otherList=p),Array.prototype.push.apply(p,i)},c.hasNext=function(){var e,a=c.taskMap,t=a.currentTypeIndex,s=a.currentIndex;if(0===t)e=a.repeatFileList;else{if(1!==t)return!1;e=a.repeatFolderList}return s>=e.length?(a.currentTypeIndex++,a.currentIndex=0,0===t&&a.repeatFolderList.length>0?!0:!1):!0},c.doNext=function(){if(c.hasNext()){var e,a,t,s,r=c.taskMap,o=r.currentTypeIndex,i=r.currentIndex;0===o?(e=r.repeatFileList,s=0):(e=r.repeatFolderList,s=1),a=e.length-i-1,t=e[r.currentIndex],r.currentIndex++,c.showAsynViewItem(t,a,s)}else c.doAllDone()},c.doNextAll=function(e){for(var a,t=c.taskMap,s=t.currentTypeIndex,r=t.currentIndex,o=0===s?t.repeatFileList:t.repeatFolderList,i=r,l=o.length;l>i;i++)a=o[i],a.from_meta.isdir&&"overwrite"===e?a.ignore=1:a.ondup=e;t.currentIndex=o.length,0===s?c.doNext():c.doAllDone()},c.doRetryTask=function(){o.ui.tip({mode:"loading",msg:"正在"+c.getOperateName()+"文件，请稍候&hellip;",autoClose:!1});var e=c.taskMap;c.doCommonDone(e,e.otherList,c.getLastCallback()),e.otherList=[]},c.doRetryDeleteTask=function(){o.ui.tip({mode:"loading",msg:"正在"+c.getOperateName()+"文件，请稍候&hellip;",autoClose:!1});for(var e=c.taskMap,a=e.otherParams,t=e.otherList,r=[],i={},l=0,n=t.length;n>l;l++)r.push(t[l].path);e.otherList=[],i.list=r,i.filelist=s.stringify(r),i.async=2,i.callback=a.callback,c.getData(a.operate,i,c.doSuccessCall,c.doFailCall)},c.doNetErrorRetryTask=function(e,a,t,s){o.ui.tip({mode:"loading",msg:"正在"+c.getOperateName()+"文件，请稍候&hellip;",autoClose:!1}),t.async=s.async,"restore"===a?t.url=s.url:(t.list=s.list,delete t.fidlist),t.callback=s.callback,c.getData(a,t,c.doSuccessCall,c.doFailCall)},c.doAllDone=function(){var e=c.taskMap,a=e.defaultList,t=e.repeatFileList,s=e.repeatFolderList,r=[],o=(e.otherParams,c.getLastCallback());Array.prototype.push.apply(r,a),Array.prototype.push.apply(r,t),Array.prototype.push.apply(r,s),c.doCommonDone(e,r,o)},c.doCommonDone=function(e,a,t){o.ui.tip({mode:"loading",msg:"正在"+c.getOperateName()+"文件，请稍候&hellip;",autoClose:!1});for(var i,l,n=e.otherParams,p=[],d={},u=[],f=[],g=0,h=a.length;h>g;g++)i=a[g],i.ignore?u.push(i.from):(l=c.getDirFromPath(i.to),l="/"===l?"":l,p.push({path:i.from,dest:l,newname:c.getFileNameByPath(i.from),ondup:i.ondup||"fail"}),"restore"===n.operate&&i.fs_id&&f.push({fid:i.fs_id,ondup:i.ondup||"fail"}));if(c.taskMap.ignoreList=u,p.length>0)d.async=2,d.callback=n.callback,"restore"===n.operate?(d.url=n.url,d.filelist=s.stringify(f)):(d.filelist=s.stringify(p),d.list=p),c.getData(n.operate,d,c.doSuccessCall,c.doFailCall);else{r&&r.removeItem&&r.removeItem(c.getTaskKey());var m=e.repeatFileList.length+e.repeatFolderList.length;e.ignoreList.length<m?c.showSuccTips("文件"+c.getOperateName()+"成功"):c.hideTips(),c.callTaskOverCallBack(1,t,e.result,e.params,e.otherParams)}},c.doAllNotFound=function(){var e=c.taskMap,a=e.notFoundList;return a instanceof Array&&a.length>0?(c.showOtherErrorAsynView("notfound",a,e.otherParams.operate,e.params,e.otherParams),e.notFoundList=[],!0):!1},c.doAllFail=function(){var e=c.taskMap,a=e.otherList;return a instanceof Array&&a.length>0?(c.showOtherErrorAsynView("fail",a,e.otherParams.operate,e.params,c.getLastCallback()),!0):!1},c.showDeleteAsynView=function(e,a,t){if(!e.list||e.list.length<=0)return delete e.errno,void c.doFailCall(e,a,t);for(var s,r=e.list,o=[],i=[],l=0,n=r.length;n>l;l++)s=r[l],s.from=s.path,-9===s.error_code?o.push(s):i.push(s);c.addTaskObj(0,0,[],[],[],o,i),c.doNext()},c.showRenameAsynView=function(e,a,t){if(12===e.errno||-8===e.errno||-30===e.task_errno){var s={title:"提示",contentTitle:"此目录下已存在同名文件，是否要保存两个文件",okText:"保留两个文件",cancelText:"取消",okCall:function(){a.ondup="newcopy",a.callback=t.callback,a.async=2,c.getData("rename",a,c.doSuccessCall,c.doRenameFailCall)},cancelCall:function(){var s=c.taskMap;s.otherParams=t,s.result=e,s.params=a,c.callTaskOverCallBack(2,c.getLastCallback(),e,a,t)}};c.hideTips(),i.showException(s)}else delete e.errno,c.doFailCall(e,a,t)},c.showAsynView=function(e,a,t){if(!e.list||e.list.length<=0)return delete e.errno,void c.doFailCall(e,a,t);var s,r=e.list,o=[],i=[],l=[],n=[],p=[];if(r instanceof Object){for(var d=0,u=r.length;u>d;d++)s=r[d],-8===s.error_code?s.from_meta&&s.to_meta&&(s.from_meta.isdir&&s.to_meta.isdir?l.push(s):s.from_meta.isdir||s.to_meta.isdir?(s.ondup="newcopy",o.push(s)):i.push(s)):-9===s.error_code?n.push(s):p.push(s);c.addTaskObj(0,0,o,i,l,n,p),c.doNext()}},c.showOtherErrorAsynView=function(e,a,t,s,r){var o={};if(o.title="提示","restore"===r.operate)for(var l=this.data.selectedFiles,n=0;n<l.length;n++)for(var p=l[n],d=0;d<a.length;d++){var u=a[d];p.fs_id===u.fs_id&&(u.from=p.server_filename,u.to=p.server_filename,u.isdir=p.isdir)}("fail"===e||"failnet"===e)&&(o.contentTitle='网络异常，<span class="asyn-red">'+a.length+"</span>个文件"+c.getOperateName(t)+"失败，是否重试？",o.okText="重试",o.cancelText="取消"),"fail"===e?(o.okCall="delete"===t?function(){c.doRetryDeleteTask()}:function(){c.doRetryTask()},o.cancelCall=function(){c.taskMap.otherList=[],c.callTaskOverCallBack(1,c.getLastCallback())}):"failnet"===e?(o.okCall=function(){c.doNetErrorRetryTask(a,t,s,r)},o.cancelCall=function(){}):(o.cancelText="我知道了",o.contentTitle='有<span class="asyn-red">'+a.length+"</span>个文件的源文件找不到了，操作未完成",o.cancelCall=function(){c.callTaskOverCallBack(1,c.getLastCallback())}),o.flagRepeat=!1,o.errorList=a,i.showException(o)},c.showAsynViewItem=function(e,a,t){var s=e.from_meta,r=(e.to_meta,{}),o=t?"夹":"",l=c.getOperateName();if(r.title=l+"文件",r.contentTitle=l+"的位置已经包含了同名的文件"+o+"，请选择你的操作：",r.plusText=s.isdir?"跳过":"替换文件",r.plusCall=function(a){s.isdir&&(e.ignore=1),e.ondup="overwrite",a?c.doNextAll(e.ondup):c.doNext()},r.okCall=function(a){e.ondup="newcopy",a?c.doNextAll(e.ondup):c.doNext()},r.cancelCall=function(){var e=c.taskMap,a=e.otherParams,t=e.result,s=e.params;c.callTaskOverCallBack(2,c.getLastCallback(),t,s,a)},r.okText="保留两个文件"+o,r.cancelText="取消",a>0&&(r.checkboxMsg='为其余的<span class="asyn-red">'+a+"</span>个重名文件"+o+"都执行此操作"),r.flagRepeat=!0,r.repeatToMsg="已有文件"+o+"：",r.repeatFrmMsg="正在"+l+"的文件"+o+"：","还原"===l&&this.data.selectedFiles)for(var n=this.data.selectedFiles,p=0;p<n.length;p++){var d=n[p];d.fs_id===e.fs_id&&(e.from=d.path,e.to=d.path)}r.errorList=e,i.showException(r)},c.callTaskOverCallBack=function(e,a,t,s,o){return c.doAllFail()?void c.hideTips():(c.doAllNotFound()&&c.hideTips(),"function"==typeof a&&a.call(null,e,t,s,o,c.taskMap.ignoreList),void((1===e||2===e||3===e)&&r&&r.removeItem&&r.removeItem(c.getTaskKey())))},c.getTaskKey=function(){return"asynfilemanager_"+(yunData.MYNAME||"").replace(/@/g,"")},t.exports=n});
;define("disk-system:widget/system/fileService/fileManagerApi/fileManagerApi.js",function(e,r,t){var a=e("base:widget/libs/jquerypacket.js"),i=e("system-core:context/context.js").instanceForSystem,s=e("system-core:system/baseService/message/message.js"),n=e("disk-system:widget/system/fileService/asynFileManager/asynFileManager.js"),o=e("disk-system:widget/system/errorMsg/errorMsg.js");i.extend({errorMsg:function(e){return"number"==typeof e||"string"==typeof e?o[e]:void 0}});var l={FILE_NAME_REG:/[\\\/\:\*\?"<>\|]/i,resolveFileName:function(e){var r="";if(0===e.indexOf("/")&&(e=e.slice(1)),l.FILE_NAME_REG.test(e)&&(r="文件名不能包含以下字符：<,>,|,*,?,,/"),!r)if(e.length>0){for(var t=0,a=0;t<e.length;t++)e.charCodeAt(t)<128?a++:a+=2;a>255&&(r="文件(夹)名称长度不能超过255字节")}else r="文件(夹)名称不能为空，请输入文件名称";return r},resolveNewName:function(e,r,t){var a=e.substring(0,e.lastIndexOf("/"))+"/",i=r;return t&&(i=a+i),i}},c={COPY:"copy",MOVE:"move",DELETE:"delete",UPLOAD:"upload",createDirFlag:!1,sendFileMoveCopyApi:function(e,r,t,s,n){for(var o,l,c=[],g=null,f=0,p=r.length;p>f;f++)g=r[f].path,o=i.tools.baseService.parseDirPath(g),l=i.tools.baseService.parseDirFromPath(g),c.push({path:o,dest:t,newname:l});a.post("/api/filemanager?channel=chunlei&clienttype=0&web=1&opera="+e,{filelist:a.stringify(c)},s).error(n)},sendCreateNewFileApi:function(e,r,t,s,n,o){var c,g,f=i.tools.baseService.parseDirFromPath(e),p="";if(l.FILE_NAME_REG.test(f))return p="文件名不能包含以下字符：<,>,|,*,?,,/",o(p),!1;if(f.length>0){for(g=0,c=0;g<f.length;g++)f.charCodeAt(g)<128?c++:c+=2;c>255&&(p="文件(夹)名称长度不能超过255字节",o(p))}else p="文件(夹)名称不能为空，请输入文件名称",o(p);p||a.post("/api/create?a=commit",{path:e,isdir:t,size:r,block_list:s?'["'+s+'"]':"[]",method:"post"},n)},createNewDir:function(e,r){var t=this;if(t.createDirFlag!==!0){t.createDirFlag=!0;var s=i.tools.baseService.parseDirFromPath(e,!0),n="";n=l.resolveFileName(s),n?(r(1,n),t.createDirFlag=!1):a.post("/api/create?a=commit",{path:e,isdir:1,block_list:"[]"},function(e){var s;try{s=a.parseJSON(e)}catch(o){}s=s||{},s&&0==s.errno?r(0,"创建文件夹成功",s):(n=i.errorMsg(s.errno)||"发生未知错误，请稍后重试",r(1,n,s)),t.createDirFlag=!1}).error(function(e){var s;try{s=a.parseJSON(e.responseText)}catch(o){}s=s||{},n=i.errorMsg(s.errno)||"发生未知错误，请稍后重试",r(1,n,s),t.createDirFlag=!1})}},deleteFiles:function(e,r,t){var a=t?n.deleteFileSync:n.deleteFiles;a.call(null,e,function(e,t){if(1===e)s.trigger("quota-change"),r(0,"删除成功",t);else{t=t||{};var a=i.errorMsg(t.errno)||"发生未知错误，请稍后重试";r(1,a,t)}})},reName:function(e,r,t){var a="",s=this;s.createDirFlag!==!0&&(s.createDirFlag=!0,a=l.resolveFileName(t),a?(r(1,a),s.createDirFlag=!1):n.rename.call(null,e,l.resolveNewName(e,t),function(e,t){1===e||2===e?(t.status=e,r(0,"重命名成功",t),s.createDirFlag=!1):(a=-8===t.errno||-9===t.errno?"名称已在使用，请使用其他名称":i.errorMsg(t.errno)||"重命名失败，请稍候重试",r(1,a,t),s.createDirFlag=!1)}))}};t.exports=c});
;define("disk-system:widget/system/util/selection.js",function(t,e,n){function a(t,e,n){function a(){if(e===n){var a=!(!window.attachEvent||-1!==navigator.userAgent.indexOf("Opera"));a&&window.setTimeout(function(){t.blur(),window.setTimeout(function(){t.focus()},0)},0)}}if(t){if(e=0>e?0:e,n=e>n?e:n,t.setSelectionRange)return t.focus(),t.setSelectionRange(e,n),void a();if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveStart("character",e),r.moveEnd("character",n-e),r.select(),a()}}}function r(t){var e={text:"",start:0,end:0};if(t.setSelectionRange)return e.start=t.selectionStart,e.end=t.selectionEnd,e.text=e.start!==e.end?t.value.substring(e.start,e.end):"",e;if(document.selection){var n,a=document.selection.createRange(),r=document.body.createTextRange();r.moveToElementText(t),e.text=a.text,e.bookmark=a.getBookmark();try{for(n=0;r.compareEndPoints("StartToStart",a)<0&&0!==a.moveStart("character",-1);n++)"\n"===t.value.charAt(n)&&n++;e.start=n,e.end=e.text.length+e.start}catch(o){var c=document.selection.createRange();c.setEndPoint("StartToStart",t.createTextRange()),e.end=c.text.length,e.start=e.end-a.text.length}}return e}n.exports={setSelectionRange:a,getSelectionRange:r}});
;define("disk-system:widget/system/fileService/createNewDir/createNewDir.js",function(e,i,t){var s=e("base:widget/libs/jquerypacket.js"),n=e("base:widget/tools/tools.js"),o=e("disk-system:widget/system/fileService/fileManagerApi/fileManagerApi.js"),a=e("system-core:system/uiService/tip/tip.js"),r=e("disk-system:widget/system/util/selection.js"),c=e("base:widget/tools/service/tools.date.js"),h=function(e,i){this.$container=s(e),this.config=i||{},this.path="",this.parentPath="",this.filename="",this.$newDirDom=this.initDom(),this.$box=this.$newDirDom.find(".box"),this.bindEvent()};h.prototype.flagExists=function(){return"block"===this.$newDirDom.css("display")},h.prototype.isTypeList=function(){return"block"===this.$container.find(".list-view-container").css("display")},h.prototype.focus=function(e){e&&this.$box.val(s.trim(e));var i=s.trim(this.$box.val()),t=i.lastIndexOf(".");0>=t&&(t=i.length),r.setSelectionRange(this.$box[0],0,t)},h.prototype.initDom=function(){var e=l.dom();return this.$container.append(e),this.$container.find(".module-edit-name")},h.prototype.bindEvent=function(){var e=this;this.$newDirDom.delegate("span","click",function(){var i=s(this);return i.hasClass("sure")?e.sure():i.hasClass("cancel")&&e.cancel(),!1}).delegate(".box","keydown",function(i){13===i.keyCode?e.sure():27===i.keyCode&&e.cancel()})},h.prototype.cancel=function(){"function"==typeof this.config.cancelFunc&&this.config.cancelFunc.call(null),this.hide()},h.prototype.sure=function(){if(this.rename){if(this.filename===s.trim(this.$box.val()))return void this.cancel();this.sendNewDir(this.path,s.trim(this.$box.val()))}else{var e=("/"===this.parentPath?"":this.parentPath)+"/"+s.trim(this.$box.val()),i=e.substring(e.lastIndexOf("/")+1);this.sendNewDir(e,i)}},h.prototype.sendSuccess=function(e,i){"function"==typeof this.config.successFunc&&this.config.successFunc.call(null,e,i),this.hide(i)},h.prototype.sendNewDir=function(e,i){var t=this;a.show({mode:"loading",msg:this.rename?"正在重命名，请稍候&hellip;":"正在创建文件夹，请稍候&hellip;",autoClose:!1});var s=this.rename?o.reName:o.createNewDir;s.call(null,e,function(e,s,n){if(1===e)a.show({mode:"caution",msg:s}),t.focus();else{if(2!==n.status&&a.show({mode:"success",msg:s}),t.rename){var o=n.list&&n.list[0]||n.info&&n.info[0];if(2===n.status)if(o.from)var r=o.from||i;else var r=o.path||i;else if(o.to)var r=o.to||i;else var r=o.path||i;i=r.substring(r.lastIndexOf("/")+1)}t.sendSuccess(i,n)}},i)},h.prototype.show=function(e){this.path=e.path,this.rename=e.rename,this.parentPath=n.parseFullDirFromPath(this.path),this.filename=n.parseDirFromPath(this.path),this.viewClassName=e.viewClassName,this.$newDirDom.addClass(this.viewClassName),this.config.cancelFunc=e.cancelFunc,this.config.successFunc=e.successFunc,this.cacheMod=e.cacheMod,e.position&&this.$newDirDom.css(e.position),this.rename?("searchGlobal"==this.cacheMod?this.$newDirDom.addClass("searchGlobal-edit-name-mode"):this.$newDirDom.removeClass("searchGlobal-edit-name-mode"),this.$container.addClass("module-edit-name-mode")):this.$container.removeClass("module-edit-name-mode"),this.$newDirDom.show(),this.focus(this.filename)},h.prototype.hide=function(e){if(this.viewClassName&&this.$newDirDom.removeClass(this.viewClassName),this.$newDirDom.removeClass("searchGlobal-edit-name-mode"),e&&!this.rename){var i=e.path.substring(e.path.lastIndexOf("/")+1),t="-"===e.mtime?e.mtime:c.parseDate(e.mtime);this.$newDirDomNode=this.isTypeList()?this.$container.find('dd[_position="0"]'):this.$container.find('.grid-view-item[_position="0"]').eq(0),this.$newDirDomNode.find(".filename").attr("title",i).text(i),this.$newDirDomNode.find(".ctime").text(t),delete this.$newDirDomNode}this.$newDirDom.hide()};var l={dom:function(){return['<div class="module-edit-name">','<div class="new-dir-item">','<input node-type="new-dir-box" class="box" type="text" value="" />','<span node-type="new-dir-sure" class="sure"></span>','<span node-type="new-dir-cancel" class="cancel"></span>',"</div>","</div>"].join("")}};t.exports=h});
;define("disk-system:widget/system/fileService/fileDelete/fileDelete.js",function(e,t,i){var n=e("disk-system:widget/system/fileService/fileManagerApi/fileManagerApi.js"),r=e("system-core:context/context.js").instanceForSystem,a=function(e,t,i){var n="",a=o.isNotDeleteByPaths(e);if(a)return n="预置文件不可以删除",r.ui.tip({mode:"caution",msg:n}),void t.call(null,1,n);var s=r.ui.confirm({title:"确认删除",body:o.getTip(e),extra:u.getExtra(),onSure:function(){s.hide(),o.doDelete(e,t,i)},onCancel:function(){s.hide()}});s.show()},s=function(e){return!e instanceof Array&&(e=[e]),o.isNotDeleteByPaths(e)},l={"/apps":!0},o={defaultFunc:function(){},getPartFileTipByPath:function(e){var t="",i="你选择的文件包含第三方应用文件，";return e+="/",-1!==e.indexOf("/apps/联通冲印/")?t=i+"删除后将导致联通冲印服务读取数据异常":-1!==e.indexOf("/apps/album/")?t="你选择的文件包含百度相册中的文件，删除后百度相册中的文件也将同步删除":-1!==e.indexOf("/我的分享/")?t="该文件已经分享给你的朋友们了，删除后将无法再被查看":-1!==e.indexOf("/apps/")&&(t=i+"删除后该应用中的文件也将同步被删除"),t},getPartFileTipByPaths:function(e){for(var t="",i=0,n=e.length;n>i&&!(t=o.getPartFileTipByPath(e[i]));i++);return t},getTip:function(e){var t=o.getPartFileTipByPaths(e),i="";return i=t?t+"<br/>是否继续？":"确认要把所选文件放入回收站吗？<br/>",i+u.middleText},isNotDeleteByPaths:function(e){for(var t=!1,i=0,n=e.length;n>i;i++)if(l[e[i]]){t=!0;break}return t},doDelete:function(e,t,i){n.deleteFiles(e,function(e,i,n){0===e?(r.ui.tip({mode:"success",msg:i}),t.call(null,0,i,n)):t.call(null,1,i,n)},i)}},u={middleText:"",extra:"<div class='dialog-extra-body'><em class='extra-picture'></em>开通超级会员，立享回收站文件30天保存期限<button onclick='javascript:window.open(\"/buy/center?tag=8&form=deletefile\",\"_blank\");' class='extra-button' title='立即开通'>立即开通</button></div>",memberStatus:[10,15,30],MemberType:{NOT_MEMBER:0,ORDINARY_MEMBER:1,SUPER_MEMBER:2},isSuperMember:!1,getMemberLevel:function(){return"1"===String(window.yunData.ISSVIP)?this.MemberType.SUPER_MEMBER:window.yunData.ISVIP||0},init:function(){var e=this.getMemberLevel(),t=this.memberStatus[e];this.middleText="删除的文件可在"+t+"天内通过回收站还原",this.isSuperMember=this.getMemberLevel()===this.MemberType.SUPER_MEMBER},getExtra:function(){return this.isSuperMember?"":this.extra}};u.init(),i.exports={deleteFiles:a,canDelete:s}});
;define("disk-system:widget/system/fileService/fileMoveCopy/fileMoveCopy.js",function(e,t,i){var s=e("system-core:context/context.js").instanceForSystem,a=e("disk-system:widget/system/fileService/asynFileManager/asynFileManager.js"),o=e("system-core:system/baseService/message/message.js"),n="",r=e("base:widget/storage/storage.js"),l=function(e){a.tiping=e};s.extend({ui:{treeDialog:function(t){e.async("disk-system:widget/system/uiService/fileTreeDialog/fileTreeDialog.js",function(e){t===!1?e.hide():e.show(t)})}}});var c=function(e,t){var i,a,o,n,r=0,l=[];for(r;r<e.length;r++)if(i=e[r],a=i.path,o=s.tools.baseService.parseFullDirFromPath(a)||"/",n=1===parseInt(i.isdir,10),n&&t!==a&&0!==(t+"/").indexOf(a+"/")&&o!==t||!n&&o!==t)l[l.length]={path:e[r].path,dest:t,newname:s.tools.baseService.parseDirFromPath(e[r].path)};else if(n){l=[];break}return l},u=function(e,t,i,n,r){var l,c;return"copy"===e?(l="复制",c=a.copyFiles):"move"===e&&(l="移动",c=a.moveFiles),t.length<=0?(s.ui.tip({mode:"caution",msg:"不能将文件"+l+"到自身或其子目录下"}),!1):void c.call(null,t,i,function(t,s,a,l,c){1===t?(o.trigger("quota-change"),n.call(null,e,i,c)):r.call(null,e,i)})},m={copy:"复制到",move:"移动到"};i.exports={showDialog:function(e,t,i,a){var o={title:m[t],confirm:function(o){s.ui.treeDialog(!1);var n=c(e,o);u(t,n,o,i,a)}};s.ui.treeDialog(o)},moveTo:function(e,t,i,s){var a=c(e,t);u("move",a,t,i,s)},manageStatus:function(){var e=!1,t=!!r.getItem("asynfilemanager_"+(yunData.MYNAME||"").replace(/@/g,""));return t?(n&&clearTimeout(n),l(!0),n=setTimeout(function(){l(!1)},2e3),s.ui.tip({mode:"caution",msg:"当前还有未完成的任务，需完成后才能操作"}),e=!0):e=!1,e},resolveHasTask:a.resolveHasTask}});
;define("disk-system:widget/pageModule/list/list-view-empty/list-view-empty.js",function(e,o,t){var d=e("base:widget/libs/jquerypacket.js"),i=e("base:widget/hash/hash.js"),n={dom:{module:"div.module-list",searchEmptyModule:"div.empty-search-container",viewEmptyModule:"div.module-list-view-empty",noResultTcode:'a[node-type~="no-result-twocode-btn"]',noResultTcodePic:'div[node-type~="no-result-twocode-pic"]',noResultTcodeClose:'a[node-type~="no-result-twocode-close"]',newDirBox:'input[node-type~="new-dir-box"]',newDir:'div[node-type~="new-dir"]'},bindEvent:function(){var e=!1,o=d(n.dom.module);o.delegate(n.dom.noResultTcode,"mouseover",function(){d(n.dom.noResultTcodePic).show()}),o.delegate(n.dom.noResultTcodePic,"mouseover",function(){e=!0}),o.delegate(n.dom.noResultTcodePic,"mouseleave",function(){d(n.dom.noResultTcodePic).hide()}),o.delegate(n.dom.noResultTcode,"mouseout",function(){setTimeout(function(){e||(d(n.dom.noResultTcodePic).hide(),e=!1)},200)}),o.delegate(n.dom.noResultTcodeClose,"click",function(){d(n.dom.noResultTcodePic).hide()})},tmpl:{emptyViewContainer:'<div class="clearfix module-list-view-empty" style="" node-type="module"><div node-type="new-dir" class="item global-clearfix" style="display: none;"><div class="col c1" style="width: 60%;"><span class="chk"><span class="chk-ico"></span></span><span class="ico global-icon-16 global-icon-16-dir"></span><div class="edit-name" style="display: block;"><input node-type="new-dir-box" class="box" type="text" value=""><span node-type="new-dir-sure" class="sure"></span><span node-type="new-dir-cancel" class="cancel"></span></div></div><div class="col" style="width: 16%">-</div><div class="col" style="width: 23%">-</div></div><div class="no-result-file-download"><div class="no-result-file-caption"></div><div class="no-result-title no-result-file-bottom"><a hidefocus="true" class="no-result-download-phone" href="http://pan.baidu.com/download#android" target="_blank">手机版下载</a><a hidefocus="true" class="no-result-download-twocode" node-type="no-result-twocode-btn" href="javascript:void(0);">二维码下载</a><a hidefocus="true" class="no-result-download-ipad" href="http://pan.baidu.com/download#ipad" target="_blank">iPad版下载</a><a hidefocus="true" class="no-result-download-pc" href="http://pan.baidu.com/download" target="_blank">PC版下载</a><div class="no-result-file-twocode" node-type="no-result-twocode-pic"><a hidefocus="true" node-type="no-result-twocode-close" href="javascript:void(0);">关闭</a></div></div></div></div>',emptySearchContainer:'<div class="empty-search-container"><div class="search-empty-box"><div class="search-empty-text"><i class="search-little-icon"></i>你的网盘中，没有找到相应内容</div></div></div>'},util:{render:function(){d(n.tmpl.emptyViewContainer).appendTo(n.dom.module),d(n.tmpl.emptySearchContainer).appendTo(n.dom.module)}},init:function(){n.bindEvent()}};d(document).ready(function(){n.init()});var s={emptyView:function(){var e=i.get("search/key")||i.get("search/vmode")&&i.get("key");return e?n.tmpl.emptySearchContainer:n.tmpl.emptyViewContainer}};t.exports=s});
;define("disk-system:widget/pageModule/list/listInit.js",function(e,t,i){var a=e("base:widget/libs/jquerypacket.js"),r=e("system-core:context/context.js"),n=e("disk-system:widget/pageModule/list/list-view/list-view-builder.js"),s=e("disk-system:widget/pageModule/list/grid-view/grid-view-builder.js"),o=e("system-core:system/cache/listCache/cacheManage.js"),c=e("disk-system:widget/system/fileService/createNewDir/createNewDir.js"),l=e("disk-system:widget/system/fileService/fileDelete/fileDelete.js"),d=e("disk-system:widget/system/fileService/fileMoveCopy/fileMoveCopy.js"),u=e("system-core:data/faceData.js").getData(),g=e("system-core:system/baseService/message/message.js"),h=e("base:widget/historyManager/historyManager.js"),f=e("base:widget/tools/tools.js"),m=e("base:widget/storage/storage.js"),v=e("disk-system:widget/pageModule/list/list-view-empty/list-view-empty.js"),y=e("disk-system:widget/system/uiRender/buttonBox/buttonBox.js"),p="list",C="dir",w="category",k="search",b=".module-list",P="module-list-multselected",B={listViewContainer:".list-view",gridViewContainer:".grid-view",listViewItem:".list-view-item",gridViewItem:".grid-view-item"},I=a(b),S=!0,M=0,D=function(){var e={defaultViewModle:p};e.historyConfig=x(),e.listConfig=F(),e.listViewBuilder=L(),e.gridConfig=V(),e.gridViewBuilder=E(),e.listToolsConfig=T();var t=r.instanceForSystem.ui.list(b,e);r.setList(t);var i=e.listToolsConfig;i.container=t.listHeader.getOperateContainer();var a=new y(i);return t.setListTools(a),t},_={3:"全部图片",2:"全部音乐",4:"全部文档",1:"全部视频",7:"全部种子",6:"其他文件"},x=function(){var e={};return e},F=function(){var e={defaultScroll:!0};return e},L=function(){return n},V=function(){var e={defaultScroll:!0,columnWidth:146};return e},E=function(){return s},T=function(){var e=u.getButton("listTools"),t={name:"listTools",limit:8,outSize:36,resize:!0,buttons:e};return t},A=D();A.onListOrderChange=function(e,t){var i="localorder_"+(yunData.MYNAME||"").replace(/@/g,"");if(e){var a=e+"_"+t;"undefined"!=typeof localStorage&&localStorage.setItem(i,a)}else if("undefined"!=typeof localStorage&&"function"==typeof localStorage.getItem){var r,a=localStorage.getItem(i),n=h.getCurrentParams();if("undefined"!=typeof n&&"3"===n.type)return null;if(a&&2===(r=a.split("_")).length){var r=a.split("_"),s=parseInt(r[1],10),o={item:r[0],desc:s};return o}return null}};var j=function(e){e&&-1==e.errno?r.instanceForSystem.ui.tip({msg:'由于您的帐号存在违规行为，帐号已被封禁。<a href="http://help.baidu.com/add?prod_id=48">申诉</a>',mode:"caution",autoClose:!1,hasClose:!0}):e&&e.errno&&r.instanceForSystem.ui.tip({msg:r.instanceForSystem.errorMsg(e.errno)||"网络错误，请稍候重试",mode:"caution",autoClose:!1,hasClose:!0}),A.updateLoadingTips(2,0),A.listEmptyTip(A.$emptyTips)},H=function(){var e,t,i=A.onListOrderChange();i&&(e=i.item,t="number"==typeof i.desc?i.desc:1);var a={api:"/api/list",params:{order:e||"time",desc:void 0!==t?t:1,showempty:0,web:1},limit:100,currentPage:0,listKey:"list",getParamsBykey:function(e){return{dir:e}},getPageParams:function(e,t){return{page:e+1,num:t}},getKeyByParams:function(e){return e.dir},failCallBack:function(e,t){j(e,t)}};return a},K=function(){var e,t,i=A.onListOrderChange();i&&(e=i.item,t="number"==typeof i.desc?i.desc:1);var a={api:"/api/categorylist",params:{order:e||"time",desc:void 0!==t?t:1,showempty:0,web:1},limit:100,currentPage:0,listKey:"info",getParamsBykey:function(e){return{category:e}},getPageParams:function(e,t){return{page:e+1,num:t}},getKeyByParams:function(e){return e.category},failCallBack:function(e,t){j(e,t)}};return a},N=function(){var e={api:"/api/search",params:{recursion:1,order:"time",desc:1,showempty:0,web:1},limit:100,currentPage:0,listKey:"list",getParamsBykey:function(e){return{key:e}},getPageParams:function(e,t){return{page:e+1,num:t}},getKeyByParams:function(e){return e.key},failCallBack:function(e,t){j(e,t)}};return e},O=function(){var e={api:"/api/filemetas",params:{recursion:1,order:"time",desc:1,showempty:0,web:1},limit:100,currentPage:0,listKey:"info",getParamsBykey:function(e){return{target:a.stringify([e])}},getPageParams:function(e,t){return{page:e+1,num:t}},getKeyByParams:function(e){return e.target},failCallBack:function(e,t){j(e,t)}};return e},$=function(){var e={api:"/api/textsearch",params:{recursion:1,order:"time",desc:1,showempty:0,web:1},limit:100,currentPage:0,listKey:"list",getParamsBykey:function(e){return{key:e}},getPageParams:function(e,t){return{start:e*t,limit:t}},getKeyByParams:function(e){return e.key},failCallBack:function(e,t){j(e,t)}};return e},Y=h.getDefault(),z=new o("list",H(),""),R=new o("category",K(),""),G=new o("searchPath",O(),""),W=new o("searchGlobal",$(),""),q=new o("search",N(),"");g.listen("system-show-view-mode",function(e){return A.isLocked()?void(e.returnValue=!1):void St(e.type)}),g.listen("header-search",function(e){e+="",e?It(e):Bt(["/"])}),A.onViewModuleChange=function(e){g.trigger("system-update-view-mode",{type:e}),A.listHeader.changeVmode({type:e})};var Q=new c(b),U=function(){(new Date).getTime();if(Q.flagExists())return void Q.focus();var e={path:"/-",server_filename:"-",isdir:1,server_mtime:"-"};A.setItemsChecked(!1,!0),A.cache.addDataBefore(e),A.refreshList();var t=A.cache.getKey(),i=t,a=A.cache.cacheName;t="/"===t?"":t,t+="/新建文件夹",it.flagAdding=!0;var n={viewClassName:A.isGridMode()?"module-edit-name-grid":"",path:t,position:{left:0,top:73},successFunc:function(e,t){X(a,i,t)},cancelFunc:function(){J()}};Q.show(n),A.lock(!0);var s=(new Date).getTime();r.instanceForSystem.log.send({name:"listInsertItem",value:s-s})},J=function(){it.flagAdding=!1,A.lock(!1),A.cache.removeByIndex(0),A.refreshList()},X=function(e,t,i){it.flagAdding=!1,A.lock(!1),A.setItemsChecked(!1,!0),o.replaceSingleCache(e,t,i)};g.listen("system-newdir",function(){U()});var Z=function(){it.flagEditing=!1,A.lock(!1),A.setItemsChecked(!1);var e=xt.deleteCacheByMode(lt,A.cache,[]);A.getCurrentView().updateBackedData(e.list)},et=function(){it.flagEditing=!1,A.lock(!1)},tt=function(e,t){if(Q.flagExists())return void Q.focus();it.flagEditing=!0;var i=e.path,a={rename:!0,viewClassName:A.isGridMode()?"module-edit-name-grid":"",path:e.path,position:t,successFunc:function(t){var a=f.parseFullDirFromPath(e.path),r=a+"/"+t;e.path=r;var n=!1;e.server_filename&&t&&e.server_filename.lastIndexOf(".")!==t.lastIndexOf(".")&&(n=!0),e.server_filename=t,e.highlighting&&e.highlighting.filename&&(e.highlighting.filename=t),Z(e,i,a,n)},cancelFunc:function(){et()},cacheMod:A.cache.cacheName};Q.show(a),A.lock(!0)},it={flagEditing:!1,flagAdding:!1};g.listen("system-rename",function(e){var t=d.manageStatus();if(!t&&!A.isLocked()){var i=e.position,r=e.list;if(!i){var n=A.getCheckedItems();n.length===r.length&&r[0]===A.getCheckedItems()[0]&&(i=A.getCheckedIndexs())}if(i&&i.length>0){A.fixTargetPositionVisible(i[0]);var s=A.getDomByPosition(i[0]);if(!s)return;var o=I.offset(),c=a(s).offset(),l=c.left-o.left-10,u=c.top-o.top;A.isGridMode()&&(u-=4),tt(r[0],{left:l,top:u})}}});var at=function(e){var t,i=e&&e.path;"undefined"!=typeof e&&e.all===!0?xt.removeCacheAll():e&&e.flagChangeSuffix||("undefined"!=typeof i&&(i=i||"/",xt.removeCache(i)),lt===p?(t=h.getCurrentParams(),i=t.path||"/",i&&xt.removeCache(i)):lt===w?xt.removeCategoryCache():lt===k&&xt.removeSearchCache()),A.setItemsChecked(!1,!0),A.refreshList()};g.listen("system-refresh",function(e){at(e)});var rt=function(e,t,i){for(var a=[],r=0,n=e.length;n>r;r++)a.push(e[r].path);t instanceof Array||(t=A.cache.getIndexsByFiles(e)),l.deleteFiles(a,function(t,a,r){if(0===t){var r=xt.deleteCacheByMode(lt,A.cache,e);A.setItemsChecked(!1,!0),A.updateLoadingTips(r.hasMore?1:2,r.list.length),A.getCurrentView().updateBackedData(r.list)}"function"==typeof i&&i.call(null,t,a)})};g.listen("system-delete",function(e){var t=d.manageStatus();if(!t&&!A.isLocked()){var i=e.list;i&&i.length>0&&rt(i,A.getCheckedIndexs())}});var nt=function(e){if("move"===e){var t=xt.deleteCacheByMode(lt,A.cache,ot);A.setItemsChecked(!1,!0),A.updateLoadingTips(t.hasMore?1:2,t.list.length),A.getCurrentView().updateBackedData(t.list)}else var t=xt.deleteCacheByMode(lt,A.cache,[])},st=function(){},ot=[];g.listen("system-copy",function(e){var t=d.manageStatus();if(!t&&!A.isLocked()){var i=e.list;ot=i,i&&i.length>0&&d.showDialog(i,"copy",nt,st)}}),g.listen("system-move",function(e){var t=d.manageStatus();if(!t&&!A.isLocked()){var i=e.list;ot=i,i&&i.length>0&&d.showDialog(i,"move",nt,st)}}),A.onCheckeChanged=function(e){e>1?I.addClass(P):I.removeClass(P)},A.onLockChanged=function(){},A.onLoadedCallBack=function(e){S&&(M=+new Date,S=!1,setTimeout(function(){"undefined"!=typeof alog&&"undefined"!=typeof alog.fire&&(alog("speed.set","c_pd",M),alog.fire("mark"))},1500));var t=this.cache.cacheName;if("searchPath"===t&&a(A.getDomByPosition(0)).trigger("dblclick"),"searchGlobal"===t&&0===e.length){var i=h.getCurrentParams().key,r=this.cache.getCache();if(!(r&&r[i]&&r[i].list.length)){lt=k;var i=h.getCurrentParams().key;if(A.changeCache(q),i+=""){var n=["",i],s=["全部文件",'搜索："'+i+'"'];A.changeHistory(n,s)}else Bt(["/"]);ct()}}g.trigger("after-list-loaded")},A.mapFirstFileByCategory=function(e,t){var i=null;if(e.length<=0)return i;i={};var r=A.getFirstPosition();if(0>r)return i;for(var n,s,o=A.getDomByPosition(r),c=null;null!==o&&e.length>0;){if(c=A.getElementDataByPosition(r),c&&!c.isdir&&c.server_filename&&(n=f.getFileCategory(c.server_filename))&&n&&(n="."+n,!i[n]&&(s=a.inArray(n,e))>=0&&(e.splice(s,1),t.call(null,n,a(o)))))return;o=A.getDomByPosition(++r)}},A.getIndexsByFiles=function(e){return A.cache.getIndexsByFiles(e)},A.remove=function(e,t){rt(e,null,t)},A.removeCacheByPath=function(e){xt.removeCache(e)};var ct=function(){L().clear(),E().clear()},lt=p,dt=function(e,t){var i=h.buildHistory(e,t);Y.addHistory(i)},ut=function(e,t){var i=e.vmode;A.setViewModule("grid"===i?"grid":"list",t),mt()},gt=function(e,t){return g.trigger("system-change-toolbar",{module:A.cache.cacheName}),"category"===e&&3===t?void r.instanceForSystem.toolbar.showTimelineDom():void r.instanceForSystem.toolbar.showDefault()},ht=function(){var e,t,i=A.onListOrderChange();i&&(e=i.item,t="number"==typeof i.desc?i.desc:1);var a=[{order:e||"time",desc:void 0!==t?t:1,operateOrderKey:function(){},columns:[{name:"文件名",key:"name",checkbox:!0,width:60},{name:"大小",key:"size",width:16},{name:"修改日期",key:"time",width:23}],module:["list","category"]},{order:"time",desc:1,columns:[{name:"文件名",key:"name",checkbox:!0,width:60,order:!1},{name:"大小",key:"size",width:16,order:!1},{name:"修改日期",key:"time",width:13,order:!1},{name:"所在目录",key:"path-info",width:10,order:!1}],module:["searchPath","searchGlobal","search"]}];return a},ft=function(e){for(var t=ht(),i=A.cache&&A.cache.cacheName,r=e.cacheName,n=null,s=[],o=0;o<t.length;o++){if(n=t[o],s=n.module,-1!==a.inArray(i,s)&&-1!==a.inArray(r,s)&&"category"!==r)return;if(-1!=a.inArray(r,s))return A.changeHeaderConfig(n),e.config.params.order=n.order,void(e.config.params.desc=n.desc)}},mt=function(){Q&&(it.flagEditing||it.flagAdding)&&Q.cancel()},vt=function(e){L().clear();var t=e.path;"undefined"==typeof t&&(t=""),ut(e),wt(t),gt("list",t),ct()},yt=function(e){dt(p,e)},pt=function(e){var t=e.type,i=parseInt(t,10);ut(e),kt(i),gt("category",i),ct()},Ct=function(e){var t=e.key,i=e.searchpath;g.trigger("header-search-val",t),ut(e),i?bt(t,i):Pt(t),gt("search",t),ct()},wt=function(e){lt=p,ft(z),A.changeCache(z),"/"===e&&(e=""),/\S\/+$/.test(e)&&(e=e.replace(/\/+$/,""));var t=e.split("/"),i=t.slice();t[0]="/",i[0]="全部文件",A.changeHistory(t,i)},kt=function(e){lt=w,ft(R),A.changeCache(R);var t=_[e];if(t){var i=[e],a=[t];A.changeHistory(i,a)}else Bt(["/"])},bt=function(e,t){if(lt=k,ft(G),A.changeCache(G),e+=""){var i=["",t],a=["全部文件",'搜索："'+e+'"'];A.changeHistory(i,a)}else Bt(["/"])},Pt=function(e){if(lt=k,+yunData.ISYEARVIP?(ft(W),A.changeCache(W)):(ft(q),A.changeCache(q)),!+yunData.ISYEARVIP)var t=function(e){return a('<div node-type="upload-bar" class="upload-bar global-clearfix search-toolbar"><a node-type="btn-close" href="javascript:void(0);" class="close"></a><span node-type="ico-s" class="ico-s ico-search"></span><span node-type="msg-text" class="text">全文检索特权上线啦！成为<a class="vip-help" href="/buy/center?tag=4#FAQ_YEARVIP" style="text-decoration: underline;" target="_blank">年费会员</a>即可搜索office、pdf等文档里面的文字了</span><a class="g-button download" node-type="download-link" href="/buy/center?tag=1&usertype='+e+'&from=search"><span class="g-button-right"><span class="text">购买年费会员</span></span></a></div>')};if(!+yunData.ISYEARVIP){var i,n,s;+yunData.ISVIP?(s=3,n=m.getItem("search_vip_guide3_"+yunData.MYNAME),i=t("vip")):(s=1,n=m.getItem("search_vip_guide1_"+yunData.MYNAME),i=t("novip")),n||(i.find(".close").click(function(){m.setItem("search_vip_guide"+s+"_"+yunData.MYNAME,1),r.instanceForSystem.toolbar.prevDom(!1)}),r.instanceForSystem.toolbar.prevDom(i,!0))}if(e+=""){var o=["",e],c=["全部文件",'搜索："'+e+'"'];A.changeHistory(o,c)}else Bt(["/"])};A.extend({getCheckMsg:function(e){return"已选中"+e+"个文件/文件夹"},resizeScrollBar:function(e){var t=this.$container;if("number"==typeof e||"string"==typeof e?t.height(e):e=t.height(),0===e)throw"[Error] list container's height is 0, need to set";t.height(e);var i=this.listHeader.hasInit===!1?0:43;"none"===t.find(".module-history-list").css("display")?(t.find(".module-list-view").height(e-i).find(".scrollbar-tracker").height(e-i-2-26),t.find(".module-grid-view").height(e-i).find(".scrollbar-tracker").height(e-i-2-26)):(t.find(".module-list-view").height(e-73).find(".scrollbar-tracker").height(e-73-2-26),t.find(".module-grid-view").height(e-73).find(".scrollbar-tracker").height(e-73-2-26))}}),A.addHistory=function(e){var t=A.getHistoryIds();t=t?t.slice():[],t.push(e),Bt(t)},A.goHistory=function(e,t){var i=h.getCurrentParams(),a={};i.vmode&&(a.vmode=i.vmode),t?/\S\/+$/.test(t)&&(t=t.replace(/\/+$/,"")):t="/",a.path=t,dt(e,a)};var Bt=function(e){lt=p,1!==e.length&&(e[0]="");var t=h.getCurrentParams(),i={};t.vmode&&(i.vmode=t.vmode);var a=e.join("/");/\S\/+$/.test(a)&&(a=a.replace(/\/+$/,"")),i.path=a,dt(lt,i)},It=function(e){lt=k;var t=h.getCurrentParams(),i={};t.vmode&&(i.vmode=t.vmode),i.key=e,dt(lt,i)},St=function(e){var t=h.getCurrentParams();t.vmode="grid"===e?"grid":"list",dt(lt,t)};A.getHistoryList().goToHistory=function(e){if(!(e>=this.historyList.length||0>e)){if(lt===k)return g.trigger("header-search-val",""),void Bt(["/"]);var t=this.historyList.slice();t.splice(e,this.historyList.length),Bt(t)}},Y.listen(p,vt),Y.listen(C,yt),Y.listen(w,pt),Y.listen(k,Ct);var Mt=function(){var e=h.getCurrentHash();return e&&e.length>1&&e[1]&&(e[0]===p&&e[1]&&e[1].path||e[0]===w&&e[1]&&e[1].type||e[0]===k&&e[1]&&e[1].key||e[0]===C&&e[1]&&e[1].path)?(lt=e[0],!0):!1};Mt()?h.interpretCurrentWindow():A.addHistory("/","全部文件");var Dt=function(){mt();var e=a(window).height()-I.offset().top;A.resize(e)};A.listHeader.canTriggerOrder=function(){return it.flagEditing||it.flagAdding?!1:!0},A.cancelEidtingDir=function(){mt()},A.cancelFilesSelect=function(){I.find(".list-view-item").removeClass("item-active"),I.find(".grid-view-item").removeClass("item-active"),A.setItemsChecked(!1,!0)};var _t=function(){var e=-1;a(window).resize(function(){clearTimeout(e),e=setTimeout(function(){Dt()},300)})};_t();var xt={getCache:function(){return o.getCache()},deleteCacheByMode:function(e,t,i){var a=t.getDataByKey();this.removeCacheAll();for(var r=a&&a.list,n=!1,s="",o="",c=r.length,l=c-1;l>=0;l--){for(var d=i.length,u=d-1;u>=0;u--)s=i[u],o=s.path||s,r[l].path==o&&(i.splice(u,1),n=!0);n&&(r.splice(l,1),n=!1)}return a.list=r,xt.getCache()[t.cacheName].data[t.getKey()]=a,a},removeCacheByPath:function(e){var t=this.getCache(),i={};t&&t.list&&t.list.data&&(i=t.list.data),i[e]&&delete i[e]},removeCacheAll:function(){var e=this.getCache();for(var t in e)e.hasOwnProperty(t)&&e[t]&&e[t].data&&(e[t].data={})},removeCache:function(e,t,i){var a=this.getCache(),r={};a&&a.list&&a.list.data&&(r=a.list.data),this.removeSubFiles(r,e),"move"===t&&this.removeSubFiles(r,i),this.removeOtherListCache()},removeSubFiles:function(e,t){t="/"===t?t:t+"/";for(var i in e)e.hasOwnProperty(i)&&0===(i+"/").indexOf(t)&&delete e[i]},removeOtherListCache:function(){this.removeCategoryCache(),this.removeSearchCache(),this.removeTreeCache()},removeCategoryCache:function(){this.removeCacheByKey("category")},removeSearchCache:function(){this.removeCacheByKey("search")},removeTreeCache:function(){this.removeCacheByKey("tree")},removeCacheByKey:function(e){var t=this.getCache();t&&t[e]&&t[e].data&&(t[e].data={})}};e.async("disk-system:widget/pageModule/mouse-utils/mouse-select.js",function(e){new e({$dom:a(B.listViewContainer),item:B.listViewItem,viewMod:"list",selectClass:"item-active",list:A,canSelect:function(){return A.isLocked()?!1:void 0}}),new e({$dom:a(B.gridViewContainer),item:B.gridViewItem,vieMod:"grid",selectClass:"item-active",list:A,canSelect:function(){return A.isLocked()?!1:void 0}})});var Ft=function(e){var t=A.getCheckedItems();ot=t,d.moveTo(t,e.path,nt,st)};e.async("disk-system:widget/pageModule/mouse-utils/mouse-drag.js",function(e){new e({$dom:a(B.listViewContainer),item:B.listViewItem,viewMod:"list",selectClass:"item-active",list:A,onDragEndCallback:Ft}),new e({$dom:a(B.gridViewContainer),item:B.gridViewItem,viewMod:"grid",selectClass:"item-active",list:A,onDragEndCallback:Ft})});var Lt=function(e){"move"===e||"delete"===e?(xt.removeCache(A.cache.getKey(),e),A.refreshList()):(xt.removeCacheByKey("list"),A.refreshList())};setTimeout(function(){if("undefined"!=typeof localStorage&&"function"==typeof localStorage.getItem){var e,t="asynfilemanager_"+(yunData.MYNAME||"").replace(/@/g,""),i=localStorage.getItem(t);i&&2===(e=i.split("_")).length&&(localStorage.removeItem(t),d.resolveHasTask(e[0],e[1],function(e,t,i,a){1!==e&&3!==e||!a||Lt(a.operate)}))}},1500),A.listEmptyTip=function(e){A.$listHeader.hide(),e.html(v.emptyView).show()};var Vt=function(){var e=document.referrer,t="fm_self",i=/(http|https)\:\/\/(tieba|hao123)\.baidu\.com/gi,a=/(http|https)\:\/\/www\.hao123\.com/gi;return"string"==typeof e&&e.length>0&&(t=i.test(e)?"fm_"+RegExp.$2:a.test(e)?"fm_hao123":-1!==e.indexOf("http://www.baidu.com/s?wd=")?"fm_baidups":"fm_not_proved"),t};r.instanceForSystem.log.sendUserReport(Vt()),i.exports=A});
;define("disk-system:widget/pageModule/contextMenu/contextMenu.js",function(e){var t=e("base:widget/libs/jquerypacket.js"),i=e("system-core:system/uiService/rMenu/rMenu.js"),n=(e("base:widget/tools/tools.js"),e("disk-system:widget/pageModule/list/listInit.js")),o=e("system-core:system/baseService/message/message.js"),r=e("system-core:data/faceData.js").getData(),a=(e("system-core:data/regedit.js"),{target:"#layoutMain"}),s={top:[{title:"查看",variableMenu:function(){var e=[{title:"列表",keyboard:"l"},{title:"缩略图",keyboard:"g"}];return n.isGridMode()?(e[1].icon=["icon-menu-point","icon-menu-point-hover"],e[0].action=function(){o.trigger("system-show-view-mode",{type:"list"})}):(e[0].icon=["icon-menu-point","icon-menu-point-hover"],e[1].action=function(){o.trigger("system-show-view-mode",{type:"grid"})}),e},keyboard:"v"},{title:"排序方式",nextMenu:[{title:"名称",action:function(){n.updateOrder("name")}},{title:"大小",action:function(){n.updateOrder("size")}},{title:"修改日期",action:function(){n.updateOrder("time")}}],keyboard:"o"},{title:"刷新",action:function(){o.trigger("system-refresh")},keyboard:"e"}],middle:[{title:"重新加载页面",action:function(){window.location.reload()},keyboard:"r"},{title:"新建文件夹",icon:"icon-menu-createfolder",action:function(){o.trigger("system-newdir")},display:function(){var e=location.hash;return 1===e.indexOf("list")?!0:"disable"},keyboard:"e"}],bottom:[[{title:"增值服务",icon:"icon-menu-vip",action:function(){window.open(location.protocol+"//yun.baidu.com/buy/center?from=rmenu")},keyboard:"e"}]]},u=function(){if(null!==u.result)return u.result;for(var e=r.contextMenu.blank.sort(function(e,t){return e.index>t.index}),t=function(e,t){if(void 0===e.nextMenu&&void 0===e.variableMenu&&void 0===e.length){if(void 0===e.action)e.action=function(){o.trigger("plugin:"+t)};else if("string"==typeof e.action){var i=e.action;e.action=function(e){o.trigger("plugin:"+t,{run:i,dom:e})}}}else if("string"==typeof e.variableMenu){var i=e.variableMenu;e.variableMenu=function(e,n){o.trigger("plugin:"+t,{dom:e,format:n,run:i})}}},i=0,n=e.length;n>i;i++)if(delete e[i].index,"middle"===e[i].position?s.middle.push(e[i]):"bottom"===e[i].position?s.bottom.push(e[i]):s.top.push(e[i]),e[i].length)for(var a=0,c=e[i].length;c>a;a++)t(e[i][a],e[i].pluginId);else t(e[i],e[i].pluginId);return s.top.push(s.middle),u.result=s.top.concat(s.bottom),u.result};u.result=null,i.bind(t(a.target)[0],u(),{beforeMenu:function(){return t(this).hasClass("module-edit-name")||t(this).closest(".module-edit-name").length?!1:(n.cancelEidtingDir(),void n.cancelFilesSelect())},afterMenu:function(){n.lock(!0)},menuHide:function(){n.lock(!1)}})});
;define("disk-system:widget/pageModule/list/listMenu.js",function(e){var i=e("base:widget/libs/jquerypacket.js"),t=e("system-core:system/uiService/rMenu/rMenu.js"),s=e("base:widget/tools/tools.js"),n=e("disk-system:widget/pageModule/list/listInit.js"),r=e("system-core:data/faceData.js").getData(),l=(e("system-core:data/regedit.js"),e("system-core:system/baseService/message/message.js")),o=void 0,a={listTarget:".list-view-container",gridTarget:".grid-view-container"},d=function(e){return"object"==typeof e&&e.server_filename&&(e=e.server_filename),s.getFileCategory(e)},f={top:[{title:"打开",action:function(){n.isGridMode()?i(this).closest(".grid-view-item").find(".filename").trigger("click"):i(this).closest(".list-view-item").find(".filename").trigger("click")},display:function(){if(n.getCheckedIndexs().length>1)return"disable";var e=i(this).closest(".list-view-item");return n.isGridMode()&&(e=i(this).closest(".grid-view-item")),e.length&&!e.hasClass("open-enable")?"disable":void 0},keyboard:"o"}],middle:[],bottom:[]},u=function(){if(null!==u.result)return u.result;for(var e=r.contextMenu.file.sort(function(e,i){return e.index-i.index}),i=function(e){var i=e.filesType,t=n.getCheckedItems(),s=!1;if("number"==typeof e.filesLimit&&t.length>e.filesLimit)s=!0;else if("string"==typeof e.filesLimit&&0===e.filesLimit.indexOf(">")){var r=parseInt(e.filesLimit.substring(1));t.length<=r&&(s=!0)}if(s===!1)for(var l=0,o=t.length;o>l;l++){var a=d(t[l]),f=t[l].path.substring(t[l].path.lastIndexOf("/")+1);if((!a||1==t[l].isdir)&&"string"==typeof e.filesType&&"*"!==e.filesType){s=!0;break}if("string"==typeof e.filesType&&"*"!==e.filesType&&-1===i.indexOf(a)){s=!0;break}if(e.excludeDirType&&-1!=e.excludeDirType.indexOf(f)){s=!0;break}}if(e.templateVar)for(var u in e.templateVar)if(e.templateVar.hasOwnProperty(u)&&yunData[u]!=e.templateVar[u]){s=!0;break}return s===!0?"disable"===e.disabled?"disable":!1:!0},t=function(e,t){if(void 0===e.nextMenu&&void 0===e.variableMenu&&void 0===e.length){if(void 0===e.action)e.action=function(){l.trigger("plugin:"+t)};else if("string"==typeof e.action){var s=e.action;e.action=function(e){l.trigger("plugin:"+t,{run:s,dom:e})}}}else if("string"==typeof e.variableMenu){var s=e.variableMenu;e.variableMenu=function(e,i){l.trigger("plugin:"+t,{dom:e,format:i,run:s})}}("string"==typeof e.filesType&&"*"!==e.filesType||"string"==typeof e.excludeDirType)&&(e.display=function(){return i(e)})},s=0,o=e.length;o>s;s++)if(delete e[s].index,"middle"===e[s].position?f.middle.push(e[s]):"bottom"===e[s].position?f.bottom.push(e[s]):f.top.push(e[s]),e[s].length)for(var a=0,c=e[s].length;c>a;a++)t(e[s][a],e[s].pluginId);else t(e[s],e[s].pluginId);return f.top.push(f.middle),u.result=f.top.concat(f.bottom),u.result};u.result=null,t.bind(i(a.listTarget)[0],u(),{beforeMenu:function(){var e=i(this).closest(".list-view-item")[0];if(!e)return!1;n.cancelEidtingDir();var t=parseInt(e.getAttribute("_position"));o=t,n.isItemChecked(t)||(n.setSingleItemChecked(t,!0),i(this).closest(".list-view-container").is(":visible")?i(this).closest(".module-list-view").find(".list-view-item").removeClass("item-active"):i(this).closest(".module-grid-view").find(".grid-view-item").removeClass("item-active"),i(e).addClass("item-active")),i(e).removeClass("hover-item")},afterMenu:function(){n.lock(!0)},menuHide:function(){n.lock(!1)}}),t.bind(i(a.gridTarget)[0],u(),{beforeMenu:function(){var e=i(this).closest(".grid-view-item")[0];if(!e)return!1;n.cancelEidtingDir();var t=parseInt(e.getAttribute("_position")),s=i(e).index();o=n.getGridPostiion(t,s),n.isItemChecked(o)||(n.setSingleItemChecked(o,!0),i(this).closest(".module-grid-view").find(".grid-view-item").removeClass("item-active"),i(e).addClass("item-active")),i(e).removeClass("hover-item")},afterMenu:function(){n.lock(!0)},menuHide:function(){n.lock(!1)}})});
;define("disk-system:widget/pageModule/mouse-utils/mouse-drag.js",function(t,i,e){function o(t){this.md=new n(t.$dom),this.$dom=t.$dom,this.item=t.item,this.viewMod=t.viewMod,this.selectClass=t.selectClass,this.list=t.list,this.onDragEndCallback=t.onDragEndCallback,this.cacheList=[],this._init()}{var n=t("base:widget/mouse-utils/mouse-drag.js");t("disk-system:widget/system/fileService/fileMoveCopy/fileMoveCopy.js")}o.prototype._init=function(){var t=this;t.onStart(),t.onSelect()},o.prototype.onStart=function(){var t=this;t.md.onStart=function(i){var e,o,n,s,a=t.$dom.find(t.item);return n=$(i.target),s=n.closest(t.item),o=s.attr("_position"),e="list"===t.viewMod?o:o*t.list.getColumnsCount()+s.index(),1!==a.length&&s.hasClass(t.selectClass)?(t.cacheList=a,t.md.setNum(t.list.getCheckedIndexs().length),!0):!1}},o.prototype.onSelect=function(){var t=this;t.md.onSelect=function(i){"list"===t.viewMod?t.listViewDrag(i):t.gridViewDrag(i)}},o.prototype.listViewDrag=function(t){var i,e,o,n,s,a,r=this;for(e=0;e<r.cacheList.length;e++)if(a=$(r.cacheList[e]),o=a.attr("_position"),!r.list.isItemChecked(o)){if(n=a.offset(),s=a.outerHeight(),n.top<t.top&&n.top+s>t.top)return i=a.data("id"),void(r.md.onDragEnd=function(){var t=r.list.getCurrentView().getElementDataByPosition(o);return t.isdir?("function"==typeof r.onDragEndCallback&&r.onDragEndCallback.call(r,t),void(r.md.onDragEnd=void 0)):!1});r.md.onDragEnd=void 0}},o.prototype.gridViewDrag=function(t){var i,e,o,n,s,a,r,d=this;for(e=0;e<d.cacheList.length;e++){r=$(d.cacheList[e]);var l=r.closest(d.item);if(o=r.attr("_position")*d.list.getColumnsCount()+l.index(),!d.list.isItemChecked(o)){if(n=r.offset(),s=r.outerHeight(),a=r.outerWidth(),n.top<t.top&&n.top+s>t.top&&n.left<t.left&&n.left+a>t.left)return i=r.data("id"),void(d.md.onDragEnd=function(){var t=d.list.getCurrentView().getElementDataByPosition(o);return t.isdir?("function"==typeof d.onDragEndCallback&&d.onDragEndCallback.call(d,t),void(d.md.onDragEnd=void 0)):!1});d.md.onDragEnd=void 0}}},e.exports=o});
;define("disk-system:widget/pageModule/mouse-utils/mouse-select.js",function(t,e,o){function i(t){this.ms=new s(t.$dom),this.$dom=t.$dom,this.item=t.item,this.viewMod=t.viewMod,this.selectClass=t.selectClass,this.list=t.list,this.canSelect=t.canSelect||null,this.cacheList=[],this.positionArray=[],this._init()}var s=t("base:widget/mouse-utils/mouse-selection.js");i.prototype._init=function(){var t=this;t.onStart(),t.onSelect(),t.onEnd()},i.prototype.onStart=function(t){var e=this;e.ms.onStart=function(o){if(null!==e.canSelect&&"function"==typeof e.canSelect&&e.canSelect()===!1)return!1;var i,s,n,l,r=e.$dom.find(e.item);return n=$(o.target),l=n.closest(e.item),s=l.attr("_position"),i="list"===e.viewMod?s:s*e.list.getColumnsCount()+l.index(),e.positionArray=[],l.hasClass(e.selectClass)?!1:(e.cacheList=r,"function"==typeof t&&t(o),!0)}},i.prototype.onSelect=function(t){var e=this;e.ms.onSelect=function(o){"list"===e.viewMod?e.listMouseSelect(o):e.gridMouseSelect(o),"function"==typeof t&&t(o)}},i.prototype.onEnd=function(t){var e=this;e.ms.onEnd=function(){e.list.setEachItemChecked(e.positionArray,!0),e.positionArray=[],"function"==typeof t&&t()}},i.prototype.listMouseSelect=function(t){var e,o,i,s,n,l=this;for(e=0;e<l.cacheList.length;e++)if(n=$(l.cacheList[e]),o=n.attr("_position"),i=n.offset(),s=n.outerHeight(),i.top<t.top&&i.top+s>t.top||i.top>t.top&&i.top+s<t.top+t.height||i.top<t.top+t.height&&i.top+s>t.top+t.height){var r=l.positionArray.indexOf(o);-1===r&&l.positionArray.push(o),n.addClass(l.selectClass)}else{n.removeClass(l.selectClass);var r=l.positionArray.indexOf(o);r>-1&&l.positionArray.splice(r,1)}},i.prototype.gridMouseSelect=function(t){var e,o,i,s,n,l,r=this;for(e=0;e<r.cacheList.length;e++)if(n=$(r.cacheList[e]),o=parseInt(n.attr("_position"))*r.list.getColumnsCount()+n.index(),i=n.offset(),s=n.outerHeight(),l=n.outerWidth(),(i.top<t.top&&i.top+s>t.top||i.top>t.top&&i.top+s<t.top+t.height||i.top<t.top+t.height&&i.top+s>t.top+t.height)&&(i.left<t.left&&i.left+l>t.left||i.left>t.left&&i.left+l<t.left+t.width||i.left<t.left+t.width&&i.left+l>t.left+t.width)){var p=r.positionArray.indexOf(o);-1===p&&r.positionArray.push(o),n.addClass(r.selectClass)}else{n.removeClass(r.selectClass);var p=r.positionArray.indexOf(o);p>-1&&r.positionArray.splice(p,1)}},o.exports=i});
;define("disk-system:widget/pageModule/pluginPage/pluginPage.js",function(e){var s=e("base:widget/libs/jquerypacket.js"),t=e("base:widget/tools/tools.js"),g=e("system-core:system/baseService/message/message.js"),a=decodeURIComponent(decodeURIComponent(t.getParam("pluginName"))),i=t.getParam("pluginGroup"),o=t.getParam("autoExcute");"true"===o?g.trigger("plugin:"+a+"@"+i):window.loadPlugin=function(e){if(e){try{e=s.parseJSON(e)}catch(t){}g.trigger("plugin:"+a+"@"+i,{filesList:e,flag:"BDYGJ"})}}});
;define("disk-system:widget/pageModule/toolbar/toolbar.js",function(e){var i=e("base:widget/libs/jquerypacket.js"),t=e("system-core:system/baseService/message/message.js"),o=(e("base:widget/storage/storage.js"),e("system-core:data/faceData.js").getData()),s=e("system-core:context/context.js"),d=e("disk-system:widget/system/uiRender/buttonBox/buttonBox.js"),n=i(".module-toolbar"),r={listGridSwitch:".list-grid-switch",listSwitch:".list-switch",gridSwitch:".grid-switch",prevDom:"div.prev-dom",afterDom:"div.after-dom",defaultDom:"div.default-dom",userDom:"div.user-dom",timeLineDom:"div.yun-pic-bar"},a=(new d({name:"tools",container:n.find(".bar"),buttons:o.getButton("tools"),limit:4}),function(e){"undefined"!=typeof localStorage&&localStorage.setItem("chooseviewtype",e)});n.on("click",r.listSwitch,function(){if(!i(this).parent().hasClass("list-switched-on")){var e={type:"list"};a("list"),t.trigger("system-show-view-mode",e)}}),n.on("click",r.gridSwitch,function(){if(!i(this).parent().hasClass("grid-switched-on")){var e={type:"grid"};a("grid"),t.trigger("system-show-view-mode",e)}}),t.listen("system-update-view-mode",function(e){var i=n.find(r.listGridSwitch);"list"===e.type?i.addClass("list-switched-on").removeClass("grid-switched-on"):i.removeClass("list-switched-on").addClass("grid-switched-on")});var m=!1,l=!1;s.extend({toolbar:{afterDom:function(e,t){if(e){if(l)return;t===!0&&(l=!0),n.find(r.afterDom).html("").append(e).show()}else e===!1?(n.find(r.afterDom).html(""),l=!1):n.find(r.afterDom).hide();i(window).trigger("resize")},prevDom:function(e,t){if(e){if(m)return;t===!0&&(m=!0),n.find(r.prevDom).html("").append(e).show()}else e===!1?(n.find(r.prevDom).html(""),m=!1):n.find(r.prevDom).hide();i(window).trigger("resize")},showDefault:function(){n.find(r.userDom).hide(),n.find(r.defaultDom).show(),n.find(r.prevDom).children().length&&n.find(r.prevDom).show(),n.find(r.afterDom).children().length&&n.find(r.afterDom).show(),n.find(r.timeLineDom).hide(),n.removeClass("module-toolbar-hackbg")},setDom:function(e){n.find(r.defaultDom).hide(),n.find(r.prevDom).hide(),n.find(r.afterDom).hide(),n.find(r.timeLineDom).hide(),n.find(r.userDom).html("").append(e).show(),n.removeClass("module-toolbar-hackbg"),i(window).trigger("resize")},showTimelineDom:function(){n.find(r.defaultDom).hide(),n.find(r.prevDom).hide(),n.find(r.afterDom).hide(),n.find(r.userDom).hide(),n.find(r.timeLineDom).show(),n.addClass("module-toolbar-hackbg"),i(window).trigger("resize")}}})});
;define("disk-system:widget/system/baseService/payFactory/service/payBase.js",function(o,t,e){var i=function(){};i.prototype.toPay=function(){this.$form&&(window.console&&console.log(this.$form.serialize()),$("#"+this.formId).submit())},i.prototype.buildForm=function(){throw new Error('The method "buildForm" must be inherited !')},i.prototype.setFormItem=function(o,t){this.$form&&this.$form.find('input[name="'+o+'"]').val(t)},e.exports=i});
;define("disk-system:widget/system/baseService/payFactory/service/payUtil.js",function(t,e,n){var s=(t("base:widget/libs/jquerypacket.js"),t("system-core:context/context.js")),i={creatBid:function(){return(new Date).getTime()+""+Math.round(9999*Math.random())},timeFormat:function(t,e){var n=new Date(1e3*parseFloat(t)),s=n.getMonth()+1,i=n.getDate(),a=n.getHours(),o=n.getMinutes(),r=n.getSeconds();return+e?n.getFullYear()+"-"+(String(s).length<2?"0"+s:s)+"-"+(String(i).length<2?"0"+i:i)+" "+(String(a).length<2?"0"+a:a)+":"+(String(o).length<2?"0"+o:o)+":"+(String(r).length<2?"0"+r:r):n.getFullYear()+"-"+(String(s).length<2?"0"+s:s)+"-"+(String(i).length<2?"0"+i:i)},toLogin:function(){var e=s.instanceForSystem.ui.tip({mode:"loading",msg:"请稍候..."});t.async("base:widget/passAPI/passAPI.js",function(t){e.hideTip(),t.promise.done(function(){t.passAPI.PassportInit.netdiskLogin({reload:!0}),t.passAPI.PassLoginDialog.onLoginSuccessCallback=function(){t.passAPI.PassportInit.hide()}})})}};n.exports=i});
;define("disk-system:widget/system/baseService/payFactory/service/payVip.js",function(t,e,i){var s=t("base:widget/libs/jquerypacket.js"),r=t("disk-system:widget/system/baseService/payFactory/service/payBase.js"),o=t("disk-system:widget/system/baseService/payFactory/service/payUtil.js"),m=t("system-core:context/context.js"),a=function(t){this.$form=null,this.serverTime=t.serverTime,this.isVip=t.isVip,this.dqStateCode=t.dqStateCode?t.dqStateCode:"",this.vipStartTime=t.vipStartTime,this.addFormItems=t.addFormItems,this.formId=t.formId||a.DEFAULT_FORM_ID,this.productName=t.productName||a.DEFAULT_PRODUCT_NAME,this.init()};a.LOG_CODE_IS_VIP="99_109_139",a.LOG_CODE_IS_NO_VIP="99_100_138",a.API_ACTION_PAY="/rest/2.0/membership/product",a.ACTION_MODE="_target",a.DEFAULT_FORM_ID="payVipForm",a.PACKAGE_LIST=[{product_name:"vip1_1m",product_id:"13216777582222349574"},{product_name:"vip1_3m",product_id:"7322772448495138379"},{product_name:"vip1_6m",product_id:"7349836666708701604"},{product_name:"vip1_1y",product_id:"145433372644027012"}],a.DEFAULT_PRODUCT_NAME=a.PACKAGE_LIST[2].product_name,a.prototype=new r,s.extend(a.prototype,{rePay:function(){if(!this.$form)throw new Error("The $form is must !")},buildForm:function(){var t=['<form target="'+a.ACTION_MODE+'" method="get" action="'+a.API_ACTION_PAY+'" id="'+this.formId+'" style="display:none;">','<input name="method"/>','<input name="product_name"/>','<input name="start"/>','<input name="business_no"/>','<input name="buy_way"/>','<input name="sign"/>','<input name="dqStatCode"/>',"</form>"];this.$form=s(t.join("")),s("body").append(this.$form)}}),s.extend(a.prototype,{init:function(){s("#"+this.formId).get(0)&&s("#"+this.formId).remove(),this.buildForm(),this.setFormItemsFromConfig(),this.setFormItems()},setFormItems:function(){this.setFormItem("method","purchase"),this.setFormItem("business_no",o.creatBid()),this.setFormItem("sign",""),this.setFormItem("product_name",this.productName),this.setFormItem("start",this.vipStartTime),this.setFormItem("buy_way",this.isVip?1:0),this.setFormItem("dqStatCode",this.dqStateCode?this.dqStateCode:"")},setFormItemsFromConfig:function(){if(this.addFormItems)for(var t in this.addFormItems)this.$form.append('<input name="'+t+'" value="'+this.addFormItems[t]+'" />')},fetchUserInfo:function(t){this.ajaxUserInfo(t)},ajaxUserInfo:function(t){var e=this;s.ajax({url:"/rest/2.0/membership/user?method=query",type:"GET",timeout:1e4,cache:!1,async:!1,dataType:"JSON",success:function(i){e.doVipDuration(i.product_infos,t)},error:function(){m.instanceForSystem.ui.tip({mode:"caution",msg:"网络错误，请稍候重试"})}})},doVipDuration:function(t,e){for(var i,s=[],r=t,o=0;o<r.length;o++)i=r[o],/vip1/gi.test(i.product_name)&&s.push(i);if(0!=s.length)var m=parseFloat(s[0].start_time),a=parseFloat(s[0].end_time);for(var n=0;n<s.length;n++)m=parseFloat(s[n].start_time)>m?m:parseFloat(s[n].start_time),a=parseFloat(s[n].end_time)<a?a:parseFloat(s[n].end_time);e&&"function"==typeof e&&e({currentVipStartTime:m,currentVipEndTime:a})}}),i.exports=a});
;define("disk-system:widget/system/baseService/payFactory/service/payCapacity.js",function(t,e,i){var r=t("base:widget/libs/jquerypacket.js"),o=t("disk-system:widget/system/baseService/payFactory/service/payBase.js"),s=t("disk-system:widget/system/baseService/payFactory/service/payUtil.js"),n=t("system-core:context/context.js"),a=function(t){this.$form=null,this.serverTime=t.serverTime,this.isVip=t.isVip,this.quotaStartTime=t.quotaStartTime,this.formId=t.formId||a.DEFAULT_FORM_ID,this.productId=t.productId||a.DEFAULT_PRODUCT_ID,this.buyWay=t.buyWay||a.MODE_BUY_WAY_DEFAULT,this.dqStateCode=t.dqStateCode?t.dqStateCode:"",this.init()};a.API_ACTION_PAY="/rest/2.0/membership/product",a.ACTION_MODE="_target",a.DEFAULT_FORM_ID="payQuotaForm",a.MODE_BUY_WAY_RENEW=1,a.MODE_BUY_WAY_COMPOSITION=2,a.MODE_BUY_WAY_DEFAULT=a.MODE_BUY_WAY_RENEW,a.PACKAGE_LIST=[{product_name:"15GB",product_id:"4880050357179372399"},{product_name:"30GB",product_id:"13566730592746897967"},{product_name:"50GB",product_id:"1669981989677457522"},{product_name:"100GB",product_id:"17280046393110397375"}],a.DEFAULT_PRODUCT_ID=a.PACKAGE_LIST[2].product_id,a.prototype=new o,r.extend(a.prototype,{rePay:function(){if(!this.$form)throw new Error("The $form is must !")},buildForm:function(){var t=['<form target="'+a.ACTION_MODE+'" method="get" action="'+a.API_ACTION_PAY+'" id="'+this.formId+'" style="display:none;">','<input name="method">','<input name="business_no">','<input name="sign">','<input name="product_id">','<input name="start">','<input name="buy_way">','<input name="dqStatCode">','<input name="pay_way">','<input name="vcode_str">',"</form>"];this.$form=r(t.join("")),r("body").append(this.$form)}}),r.extend(a.prototype,{init:function(){r("#"+this.formId).get(0)&&r("#"+this.formId).remove(),this.buildForm(),this.setFormItems()},setFormItems:function(){this.setFormItem("method","purchase"),this.setFormItem("business_no",s.creatBid()),this.setFormItem("sign",""),this.setFormItem("product_id",this.productId),this.setFormItem("start",this.quotaStartTime),this.setFormItem("buy_way",this.buyWay),this.setFormItem("dqStatCode",this.dqStateCode)},ajaxCurrenUserQouta:function(){var t=this;r.ajax({url:"/api/quota",type:"GET",timeout:1e4,cache:!0,async:!1,dataType:"JSON",success:function(e){t.checkUserProduct(e)},error:function(){n.instanceForSystem.ui.tip({mode:"caution",msg:"网络错误，请稍候重试"})}})},checkUserProduct:function(){var t=function(t){for(var e,i=0,r=0,o=t.length;o>r;r++)e=t[r],e.end_time>i&&(i=e.end_time);return i};return function(e,i){for(var r=e.product_infos,o=[],s=0;s<a.PACKAGE_LIST.length;s++)for(var n=a.PACKAGE_LIST[s].product_id,d=0;d<r.length;d++)e.currenttime>r[d].end_time||n==r[d].product_id&&o.push(e.product_infos[d]);var m=t(o);i&&"function"==typeof i&&i({currentQuotaStartTime:m})}}()}),i.exports=a});
;define("disk-system:widget/system/baseService/payFactory/service/payActivity.js",function(t,e,i){var s=t("base:widget/libs/jquerypacket.js"),o=function(){};s.extend(o.prototype,{rePay:function(){if(!this.$form)throw new Error("The $form is must !")},buildForm:function(){var t=['<form target="'+o.ACTION_MODE+'" method="get" action="'+o.API_ACTION_PAY+'" id="'+this.formId+'" style="display:none;">','<input name="method"/>','<input name="product_name"/>','<input name="start"/>','<input name="business_no"/>','<input name="buy_way"/>','<input name="sign"/>','<input name="dqStatCode"/>',"</form>"];this.$form=s(t.join(""))}}),s.extend(o.prototype,{init:function(){this.buildForm(),this.setFormItemsFromConfig(),this.setFormItems()},setFormItems:function(){this.setFormItem("method","purchase"),this.setFormItem("business_no",payUtil.creatBid()),this.setFormItem("sign",""),this.setFormItem("product_name",this.productName),this.setFormItem("start",this.vipStartTime),this.setFormItem("buy_way",this.isVip?1:0),this.setFormItem("dqStatCode",this.dqStateCode?this.dqStateCode:"")},setFormItemsFromConfig:function(){if(this.addFormItems)for(var t in this.addFormItems)this.$form.append('<input name="'+t+'" value="'+this.addFormItems[t]+'" />')},fetchUserInfo:function(t){this.ajaxUserInfo(t)},ajaxUserInfo:function(t){var e=this;s.ajax({url:"/rest/2.0/membership/user?method=query",type:"GET",timeout:1e4,cache:!1,async:!1,dataType:"JSON",success:function(i){e.doVipDuration(i.product_infos,t)},error:function(){Toast.obtain.useToast({toastMode:Toast.obtain.MODE_LOADING,msg:"网络错误，请稍候重试",sticky:!1,closeType:!1})}})},doVipDuration:function(t,e){for(var i,s=[],o=t,r=0;r<o.length;r++)i=o[r],/vip1/gi.test(i.product_name)&&s.push(i);if(0!=s.length)var n=parseFloat(s[0].start_time),a=parseFloat(s[0].end_time);for(var m=0;m<s.length;m++)n=parseFloat(s[m].start_time)>n?n:parseFloat(s[m].start_time),a=parseFloat(s[m].end_time)<a?a:parseFloat(s[m].end_time);e&&"function"==typeof e&&e({currentVipStartTime:n,currentVipEndTime:a})}}),i.exports=o});
;define("disk-system:widget/system/baseService/payFactory/payFactory.js",function(e,i,s){var t=(e("base:widget/libs/jquerypacket.js"),e("disk-system:widget/system/baseService/payFactory/service/payVip.js")),r=e("disk-system:widget/system/baseService/payFactory/service/payCapacity.js"),o=e("disk-system:widget/system/baseService/payFactory/service/payActivity.js"),a=e("disk-system:widget/system/baseService/payFactory/service/payUtil.js"),y={};y.Mode_Vip=1,y.Mode_Quota=2,y.Mode_Activity=3,y.createPayService=function(e){var i;if(!e.mode)throw new Error("The mode of pay is must !");if(!e.isLogin)throw new Error("The isLogin of pay is must !");if(e.isLogin===!1)return void a.toLogin();switch(e.mode){case y.Mode_Vip:if(void 0===e.isVip)throw new Error("The isVip of config is must !");if(!e.serverTime)throw new Error("The serverTime of config is must !");i=new t(e);break;case y.Mode_Quota:i=new r(e);break;case y.Mode_Activity:i=new o(e);break;default:throw new Error("The mode of pay is empty ! Please check the mode !")}return i},s.exports=y});
;define("disk-system:widget/system/util/events.js",function(e,t,s){var i=e("base:widget/libs/underscore.js"),n={eventNameSplitter:/\s+/,on:function(e,t,s){var n=this,r=null;if(i.isFunction(t)?null:t=this[t],!t)throw new Error('no "callback" specified using Events');return this._events||(this._events={}),i.each(e.split(this.eventNameSplitter),function(e){e.length&&(this._events[e]||(this._events[e]=[]),this._events[e].push(function(){t.apply(s||n,arguments)}),this._earlyTriggers||(this._earlyTriggers={}),this._earlyTriggers[e]&&(r||(r=[]),r.push({eventName:e,data:this._earlyTriggers[e]}),delete this._earlyTriggers[e]))},n),i.each(r,function(e){i.each(e.data,function(t){i.each(this._events[e.eventName],function(e){e.apply(void 0,t)})},this)},this),i.pendingCalls=null,n},trigger:function(e){var t=Array.prototype.slice.call(arguments,1);this._events&&this._events[e]?i.each(this._events[e],function(e){e.apply(void 0,t)}):(this._earlyTriggers||(this._earlyTriggers={}),this._earlyTriggers[e]||(this._earlyTriggers[e]=[]),this._earlyTriggers[e].push(t))},listenTo:function(e,t,s){e.on(t,s,this)}};s.exports=n});
;define("disk-system:widget/system/uiRender/layout/layout.js",function(t,e,i){var n=t("base:widget/libs/jquerypacket.js"),o=t("base:widget/libs/underscore.js"),s=t("system-core:system/baseService/message/message.js"),a=t("disk-system:widget/system/util/events.js"),r=function(t,e){if(this.layoutElement=t instanceof n?t:n(t),e||(e={}),e.putSubIn){if(this.contentElement=e.putSubIn instanceof n?e.putSubIn:n(e.putSubIn),!this.contentElement.length)throw new Error('Layout error: "putSubIn" not found in DOM')}else this.contentElement=this.layoutElement;if(e.listenTo){if(void 0===e.listenTo.layoutElement)throw new Error("listenTo must be an instance of Layout");this.listenToMainLayout(e.listenTo)}e.hasSubLayout&&this.onAddingSubLayout()};o.extend(r.prototype,a,{onMainLayoutChange:function(t,e){"top"===t||"bottom"===t?e=e[1]:("right"===t||"left"===t)&&(e=e[0]);var i=this.layoutElement.css(t);e=parseInt(i,10)+parseInt(e,10),isNaN(e)||this.layoutElement.css(t,e+"px")},listenToMainLayout:function(t){this.listenTo(t,"top right bottom left","onMainLayoutChange")},onAddingSubLayout:function(){this.on("top left",function(t,e){this.contentElement.prepend(e)}),this.on("bottom right",function(t,e,i){if(i){this.absoluteContainer||"bottom"!==t||(this.absoluteContainer=n("<div>").appendTo(this.contentElement).addClass("aside-absolute-container").css({visibility:"hidden",position:"absolute",width:"100%"}));var o=this.absoluteContainer.height();this.absoluteContainer.append(e),this.absoluteContainer.height(o+e.height())}else this.contentElement.append(e)})}});var u={initLayouts:function(){var t=this;this.app=new r("#layoutApp"),this.aside=new r("#layoutAside",{hasSubLayout:!0,putSubIn:n(".module-aside")}),this.main=new r("#layoutMain",{hasSubLayout:!0}),s.listen("aside-render-finish",function(){var e=t.aside.contentElement,i=t.aside.layoutElement.css("bottom");i=parseInt(i,10),isNaN(i)&&(i=0);var o=e.find(".aside-absolute-container");if(o.length){var s=e.offset(),a=n(window),r=function(){var t=n(window).height();window.setTimeout(function(){o.css("visibility","visible"),t-s.top-i-o.height()<540?(o.css("top","460px"),o.css("bottom","auto")):(o.css("top","auto"),o.css("bottom","67px"))},0)};r(),n(window).bind("resize",r)}if(n.browser.msie===!0&&6==n.browser.version){var u=n("#layoutApp"),a=n(window),h=function(){var t=a.height();u.height(t)};n(window).bind("resize",h),h()}})},addLayout:function(t){if(!t.area)throw new Error("no area property, ERROR!");var e=t.size.split("*");if(2!==e.length)throw new Error("wrong size property: ERROR!");var i=this._createSubLayout({width:e[0],height:e[1],bg:t.background,pos:t.position,area:t.area,absolute:t.absolute,containerId:t.containerId});"app"===t.area?this.app.layoutElement.append(i):this[t.area].trigger(t.position,t.position,i,t.absolute),s.trigger("plugin:"+t.pluginId,{$container:i})},removeSubLayout:function(){},_createSubLayout:function(t){var e=document.createElement("div");return"app"!==t.area&&(e.style.width=t.width,e.style.height=t.height,e.style.background=t.bg),t.containerId&&(e.id=t.containerId),t.absolute&&(e.style.position="absolute"),t.absolute&&(this[t.area][t.pos+"Offset"]||(this[t.area][t.pos+"Offset"]=0),e.style[t.pos]=this[t.area][t.pos+"Offset"]+"px",this[t.area][t.pos+"Offset"]+=parseInt(t.height,10)),n(e)}};u.initLayouts(),i.exports=u});
;define("disk-system:widget/system/uiRender/paint/paint.js",function(e){var s=(e("base:widget/libs/jquerypacket.js"),e("base:widget/libs/underscore.js")),t=e("system-core:data/faceData.js").getData(),a=e("disk-system:widget/system/uiRender/layout/layout.js"),i=!1;i&&console.log(t),s.each(t.interface,function(e){e.delay!==!0&&a.addLayout(e)})});
;define("disk-system:widget/system/uiService/fileTree/fileTree.js",function(e,t,a){var r=e("base:widget/libs/jquerypacket.js"),i=e("system-core:context/context.js").instanceForSystem,n=e("system-core:system/baseService/message/message.js"),o=e("system-core:system/cache/listCache/cacheManage.js"),s=e("disk-system:widget/system/errorMsg/errorMsg.js");i.extend({errorMsg:function(e){return"number"==typeof e||"string"==typeof e?s[e]:void 0}});var l=function(){this._mHandleListener=disk.obtainId(),this._vHost=null,this._vTreeViewCache={},this._vInit=!1,this._vUlContent="",this._vInnerHtml="",this._vSelectPath="/",this._vSelectDom="",this._vError=!0;var e=this;this.folderCache=new o("tree",this.folderCacheConfig),n.listen("system-folder-tree-cache-update",function(t){if(e.folderCache){if("rename"===t.action||"delete"===t.action)return e.clearSelfPathCache(t.file.path),e.clearParentPathCache(t.file.path),void e.clearChildPathCache(t.file.path);if("cut"===t.action){if(!t.file.toPath||!t.file.fromPath)throw new Error("you need to have toPath or fromPath for cut event");return e.clearParentPathCache(t.file.toPath),e.clearParentPathCache(t.file.fromPath),e.clearSelfPathCache(t.file.fromPath),void e.clearChildPathCache(t.file.fromPath)}if("copy"===t.action){if(!t.file.toPath)throw new Error("you need to have toPath for copy event");return void e.clearParentPathCache(t.file.toPath)}if("newdir"===t.action){var a=e.getParentPath(t.file.path);return void(e.folderCache.data[a]?e.folderCache.addDataBefore({path:t.file.path,fs_id:t.file.fs_id,dir_empty:1}):(a=e.getParentPath(a),e.clearParentPathCache(a)))}}})};l.ROOT=0,l.NORMAL=1,l.PARTICULAR_DIR_MAP={"/":"/全部文件","/apps":"/我的应用数据","/百度云收藏":"/百度云收藏","/来自PC的备份文件":"/来自PC的备份文件","/我的分享":"/我的分享","/我的作品":"/我的作品"},l.prototype.clearParentPathCache=function(e){var t=this.getParentPath(e);self.folderCache.data[t]&&(self.folderCache.updateKey(t),self.folderCache.clearCache())},l.prototype.clearSelfPathCache=function(){self.folderCache.data[parentPath]&&(self.folderCache.updateKey(parentPath),self.folderCache.clearCache())},l.prototype.clearChildPathCache=function(e){for(var t in self.folderCache.data)self.folderCache.data.hasOwnProperty(t)&&0===t.indexOf(e+"/")&&self.folderCache.data[t]&&(self.folderCache.updateKey(t),self.folderCache.clearCache())},l.prototype.getParentPath=function(e){var t=e.slice(0,e.lastIndexOf("/"));return t=t.length?t:t="/"},l.prototype.folderCacheConfig={api:"/api/list",params:{folder:1,order:"time",desc:1,showempty:0,web:1},limit:500,currentPage:0,listKey:"list",getParamsBykey:function(e){return{dir:e}},getPageParams:function(e,t){return{page:e,num:t}},getKeyByParams:function(e){return e.dir},failCallBack:function(e,t,a){a=a.params,a.fileTreeView._errorToast(e),a.host.parent().find(".minus").removeClass("treeview-leaf-loading")}},l.prototype.parseNameFromPath=function(e){return e.substring(e.lastIndexOf("/")+1,e.length)},l.prototype.changePath=function(e){return this.parseNameFromPath(l.PARTICULAR_DIR_MAP[e]?l.PARTICULAR_DIR_MAP[e]:e)},l.prototype.build=function(e){var t=(new Date).getTime();this._vHost=e&&e.host,this._vInit?this._vError&&(this._vHost.innerHTML="",this._init()):this._init();var a=(new Date).getTime()-t;i.log.send({name:"fileTreeRender",value:a})},l.prototype._init=function(){var e=document.createElement("ul");return e.className="treeview treeview-content "+this._mHandleListener,this._vHost.appendChild(e),e.innerHTML=this._tpl({nodeRoot:!0,minus:!0,pdleft:0,nodeOn:!0,path:"/"}),this._vInit=!0,this._buildTreeView({dir:"/",pl:15}),{pane:e}},l.prototype.getSelectPath=function(){return this._getPath(r(".treeview-node-on"))},l.prototype._buildTreeView=function(e){var t=this,a="",i=e.dir||"/",n=e.host||r(".treeview-root-content"),o=e.pl;n.parent().find(".minus").addClass("treeview-leaf-loading"),this.folderCache.updateKey(i),this.folderCache.getCacheData(-1,function(e){t._vError=!0,t._vTreeViewCache=e;for(var r=0;r<t._vTreeViewCache.length;r++)a+=t._tpl({dirEmpty:t._vTreeViewCache[r].dir_empty,pdleft:o,path:t._vTreeViewCache[r].path});n.html(a).attr("_pl",o),t.handleEvent(),n.parent().find(".minus").removeClass("treeview-leaf-loading")},{host:n,fileTreeView:t})},l.prototype._tpl=function(e){var t="",a=e.pdleft,r=e.path,i=e.dirEmpty?"treenode-empty":"",n=e.nodeOn?"treeview-node-on":"",o=e.nodeRoot?"treeview-root":"",s=e.nodeRoot?"treeview-root-content":"",l=e.minus?"minus":"",h=e.minus?"_minus":"",d=e.minus?"":"treeview-collapse",c=["<li>",'<div class="treeview-node %dirEmpty% %node-on% %node-root% %_minus%" _pl="%pl%" style="padding-left:%pl%">','<span class="treeview-node-handler">','<em class="b-in-blk plus icon-operate %minus%" ></em>','<dfn class="b-in-blk treeview-ic"></dfn>','<span class="treeview-txt" node-path="%nodePath%">%fileName%</span>',"</span>","</div>",'<ul class="treeview %node-root-cont% treeview-content %collapse%" _pl="%pl2%"></ul>',"</li>"];return t=c.join("").replace(/%fileName%/g,this.changePath(r)).replace(/%nodePath%/g,r).replace(/%node-on%/g,n).replace(/%collapse%/g,d).replace(/%pl%/g,a+"px").replace(/%pl2%/g,a+15+"px").replace(/%node-root%/g,o).replace(/%minus%/g,l).replace(/%_minus%/g,h).replace(/%node-root-cont%/g,s).replace(/%dirEmpty%/g,i)},l.prototype.handleEvent=function(){var e=this;r(".treeview-node").off().on({mouseenter:function(){r(this).addClass("treeview-node-hover")},mouseleave:function(){r(this).removeClass("treeview-node-hover")},click:function(){var t=r(this).hasClass("_minus"),a=r(this).hasClass("treeview-node-on"),i=r(this).hasClass("treenode-empty"),n=r(this).attr("_pl"),o=(r(this).hasClass("waitHandle"),e._getPath(r(this))),s=r(this).next("ul");a||(r(".treeview-node-on").removeClass("treeview-node-on"),r(this).addClass("treeview-node-on")),a&&t||i?(r(this).removeClass("_minus").find(".plus").removeClass("minus"),s.addClass("treeview-collapse")):(r(this).addClass("_minus").find(".plus").addClass("minus"),s.removeClass("treeview-collapse")),0!==r(this).next("ul").children().length||i||e._buildTreeView({dir:o,host:s,pl:parseInt(n)+15})}})},l.prototype._getPath=function(e){var t=this,a=e,r=parseInt(a.attr("_pl"))/15-1,i=[];return-1==r?i="/":void 0!=a.find(".treeview-txt").attr("node-path")?i=a.find(".treeview-txt").attr("node-path"):void 0==a.find(".treeview-txt").attr("node-path")?(a=a.parent().parent(),i=a.prev().find(".treeview-txt").attr("node-path")):i="/",t._vSelectPath=i,t._vSelectPath},l.prototype._errorToast=function(e){var t=i.errorMsg(e.errno)||"列表加载失败，请稍后重试&hellip;";this._vError=!1;i.ui.tip({mode:"failure",msg:t});return!1},l.obtain=new l,a.exports=l.obtain});
;define("disk-system:widget/system/uiService/fileTree/createFolder.js",function(e,t,s){var n=e("base:widget/libs/jquerypacket.js"),i=e("system-core:context/context.js").instanceForSystem,r=e("disk-system:widget/system/fileService/fileManagerApi/fileManagerApi.js"),a=e("disk-system:widget/system/uiService/fileTree/fileTree.js"),l=function(){this._mConfirmById=disk.obtainId(),this._mCancleById=disk.obtainId(),this._mInputById=disk.obtainId(),this._mSingle=!1,this._mInsertDom="",this._mEmpty=!1};l.ILLEGAL_CHARS=/[\\\/\:\*\?"<>|]/gi,l.obtain="",l.prototype={reBuild:function(e){if(!e||!e.insertDom)throw Error('you need to specify "insertDom"');if(this._mInsertDom=e.insertDom,!e||!e.container)throw new Error('you need to specify "container"');this._mContainer=e.container,this._createDom()},_restNewFolder:function(){var e=this,t=n("."+e._mInputById).val(),s=e.path+"/"+t;n("#plus-createFolder").find(".sprite-ic2").addClass("treeview-leaf-loading"),r.createNewDir(s,function(s,r,l){if(0!==s){{i.ui.tip({mode:"caution",msg:r})}return!1}0===l.path.indexOf(i.list.getCurrentPath())&&(i.list.removeCacheByPath(i.list.getCurrentPath()),i.list.addItemToFirst(void 0),i.list.refresh()),t=l.name||l.path,t=t.substring(t.lastIndexOf("/")+1),n("#plus-createFolder").remove(),n(".treeview-node-on").removeClass("treeview-node-on"),e._mInsertDom.append(e._listTpl(l.path)),a.handleEvent()})},_createDom:function(){var e=this;document.getElementById("plus-createFolder")&&n("#plus-createFolder").remove(),e._mInsertDom.prev().hasClass("treenode-empty")?(e._mInsertDom.append(e._folderTpl()).removeClass("treeview-collapse").prev().removeClass("treenode-empty").addClass("_minus").find("em").addClass("minus"),e._mEmpty=!0):(e._mInsertDom.prev().addClass("_minus").find(".plus").addClass("minus"),e._mInsertDom.removeClass("treeview-collapse"),e._mInsertDom.append(e._folderTpl()),e._mEmpty=!1),e._setOffset(),e._handleInit(),e.path=a.getSelectPath(),a.handleEvent()},_setOffset:function(){var e=n("#plus-createFolder").position().top;e=this._mContainer.scrollTop()+e-211,this._mContainer.scrollTop(e)},_cancleDom:function(){_this=this;var e=n("#plus-createFolder");_this._mEmpty?(e.parent().prev().addClass("treeview-node-on"),e.remove(),_this._mInsertDom.addClass("treeview-collapse").prev().addClass("treenode-empty").removeClass("_minus").find("em").removeClass("minus")):(e.parent().prev().addClass("treeview-node-on"),e.remove())},_folderTpl:function(){var e=parseInt(this._mInsertDom.attr("_pl")),t=['<li id="plus-createFolder">','<div class="treeview-node treenode-empty" _pl="'+e+'" style="padding-left:'+e+'px">','<span class="treeview-node-handler">','<em class="b-in-blk plus sprite-ic2 "></em>','<dfn class="b-in-blk treeview-ic"></dfn>','<span class="plus-create-folder">','<input class="input '+this._mInputById+'" type="text" value="新建文件夹">','<span class="sure '+this._mConfirmById+'"></span>','<span class="cancel '+this._mCancleById+'"></span>',"</span>","</span>","</div>",'<ul class="treeview treeview-content treeview-collapse"  _pl="'+(e+15)+'"></ul>',"</li>"];return t=t.join("")},_listTpl:function(e){var t=parseInt(this._mInsertDom.attr("_pl")),s=["<li>",'<div class="treeview-node treenode-empty treeview-node-on" _pl="'+t+'" style="padding-left:'+t+'px">','<span class="treeview-node-handler">','<em class="b-in-blk plus sprite-ic2 "></em>','<dfn class="b-in-blk treeview-ic"></dfn>','<span class="treeview-txt" node-path="'+e+'">'+i.tools.baseService.toEntity(e.substring(e.lastIndexOf("/")+1))+"</span>","</span>","</div>",'<ul class="treeview treeview-content treeview-collapse" _pl="'+(t+15)+'"></ul>',"</li>"];return s=s.join("")},_handleInit:function(){var e=this;n("."+e._mInputById).select().focus().on({blur:function(){},keyup:function(t){13==t.keyCode&&e._restNewFolder()}}),n("."+e._mConfirmById).click(function(){e._restNewFolder()}),n("."+e._mCancleById).click(function(){e._cancleDom()})}},l.obtain=l.obtain||new l,s.exports=l.obtain});
;define("disk-system:widget/system/uiService/fileTreeDialog/fileTreeDialog.js",function(e,i,t){var o=(e("base:widget/libs/jquerypacket.js"),e("base:widget/libs/underscore.js")),n=e("disk-system:widget/system/uiService/fileTree/fileTree.js"),l=e("system-core:system/uiService/dialog/dialog.js"),s=e("system-core:context/context.js").instanceForSystem,r=function(){this.config={},this.dialog=null};r.singleton=null,r.obtain=function(){return null===r.singleton&&(r.singleton=new r),r.singleton},r.DIALOG_ID="fileTreeDialog",r.prototype.getFileTree=function(){n.build({host:this.dialog.$dialog.find(".file-tree-container")[0]})},r.prototype.setOptions=function(e){if(!e)throw new Error("[fileTreeDialog] must set options for FileTreeDialog");if(!e.title)throw new Error('[fileTreeDialog] title "'+e.title+'" should be set');if(this.config.title=e.title,!o.isFunction(e.confirm))throw new Error("[fileTreeDialog] confirm should be set");this.confirm=e.confirm,this.cancel=e.cancel},r.prototype.buildDialog=function(){var i=this;this.dialog=new l({id:r.DIALOG_ID,title:this.config.title,body:'<div class="file-tree-container"></div>',draggable:!0,position:{xy:"center"},buttons:[{name:"cancel",title:"取消",type:"big",padding:["50px","50px"],position:"right",click:function(){i.dialog.hide(),"function"==typeof i.cancel&&i.cancel()}},{name:"confirm",title:"确定",type:"big",color:"blue",padding:["50px","50px"],position:"right",click:function(){i.confirm(n.getSelectPath())}},{title:"新建文件夹",icon:"icon-newdir",type:"big",position:"left",click:function(){var t=i.dialog.$dialog,o=i.dialog.$dialog.find(".treeview-node-on");e.async("disk-system:widget/system/uiService/fileTree/createFolder.js",function(e){e.reBuild({insertDom:o.next(".treeview-content"),container:t.find(".file-tree-container")})})}}]})},r.prototype.changeTitle=function(){this.config.title&&this.dialog.title(this.config.title)},r.prototype.show=function(e){var i=(new Date).getTime();this.setOptions(e),this.dialog||this.buildDialog(),this.changeTitle(),this.dialog.show(),this.getFileTree();var t=(new Date).getTime()-i;return s.log.send({name:"dialogShow-file",value:t}),this},r.prototype.hide=function(){return this.dialog.hide(),this},t.exports=r.obtain()});
;define("disk-system:widget/system/uiService/navigator/navigator.js",function(e,i,s){var t=(e("base:widget/libs/jquerypacket.js"),{});s.exports=t});
;define("disk-system:widget/system/uiService/passAPI/passAPI.js",function(o,n,s){var i=o("base:widget/libs/jquerypacket.js"),t={},e=t.PassLoginDialog=function(){};e._mLoginStatic=0,e.reload=!1,e.singleton=null,e.obtain=function(){return e.singleton?e.singleton:e.singleton=new e},e.onLoginSuccessCallback=function(){disk.DEBUG&&console.log("login hide!")},e.onLoginHideCallback=function(){disk.DEBUG&&console.log("login hide!")};var a=i.ajax({async:!0,url:location.protocol+"//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),dataType:"script",success:function(){var o=encodeURIComponent(location.href);t.PassportInit=passport.pop.init({apiOpt:{staticPage:location.protocol+"//"+location.host+"/res/static/thirdparty/pass_v3_jump.html",product:"netdisk",u:location.href,overseas:1,memberPass:!0,safeFlag:0},cache:!1,registerLink:"https://passport.baidu.com/v2/?reg&regphone=1&overseas=1&tpl=netdisk&u="+o,authsite:["tsina","qzone","renren"],authsiteCfg:{act:"implicit"},onLoginSuccess:function(o){yunData.LOGINSTATUS=1,o.returnValue=e.reload,e.reload&&window.location.reload(),e.onLoginSuccessCallback(o)},onHide:function(){},onShow:function(){},tangram:!0}),t.PassportInit.netdiskLogin=function(o){var n=o.reload;e.reload=n,setTimeout(function(){t.PassportInit.show()},100)}}});s.exports={promise:a,passAPI:t}});
;define("disk-system:widget/system/uiService/twoDimension/twoDimension.js",function(t,e,n){var i=t("base:widget/libs/jquerypacket.js"),o=t("system-core:context/context.js").instanceForSystem,a=function(t){this._mCoor=[],this.action(t),this._init()};a.iframeId=disk.obtainId(),a.getIframeObj=function(){var t=i("#"+a.iframeId);return t.length||(i(document.body).append("<iframe src='about:blank' id='"+a.iframeId+"' class='iframe_two_dimension_code' frameborder='0'></iframe>"),t=i("#"+a.iframeId)),t},a.Templates={bottom_msg:this.imgDes||"扫描或点击二维码立即安装",main_html:function(t,e,n,i,o,a){return'<div id="'+t+'" class="dialog_two_dimension_code"><div class="inner_two_dimension_code"><div class="two_dimension_code_'+a+("down"==a?" rotate-3":"")+'"></div><div title="'+i+'" class="two_dimension_code_main" ></div></div></div>'},click_url:location.protocol+"//pan.baidu.com/download"},a.prototype.action=function(t){i("#"+t.id).remove();var e=this;e.target=t.target||null,e.topOffset=t.topOffset||0,e.leftOffset=t.leftOffset||0,e.imgSrc=t.imgSrc||"",e.imgTit=t.imgTit||"",e._targetId=t.id||disk.obtainId(),e.flagAddIframe=t.flagAddIframe||!1,e.imgDes=t.imgDes||a.Templates.bottom_msg,e.clickUrl=t.clickUrl||a.Templates.click_url,e.panl=null,e.arrowPos=t.arrowPos||"top",e.changetextdec=t.changetextdec||!1,e.showsource=t.showsource||"",this.hoverCallBack=t.hoverCallBack||null,this.leaveCallBack=t.leaveCallBack||null,e.panlclick=t.panlclick,e._prebuild(),e.bindEvent()},a.prototype._prebuild=function(){var t=this;i(document.body).append(a.Templates.main_html(t._targetId,t.imgSrc,t.imgDes,t.imgTit,t.bottomMsg,t.arrowPos)),t.panl=i("#"+t._targetId);var e=function(e){(1==e.complete||"complete"==e.readyState||"loaded"==e.readyState)&&(t.panl.find(".two_dimension_code_main").html("").append(e).find("img").css("marginTop",10),t.panl.find(".inner_two_dimension_code").append('<div class="two_dimension_code_bottom">'+t.imgDes+"</div>"))},n=function(){t.panl.find(".two_dimension_code_main").html("生成失败，<a href='javascript:void(0);' class='retryBtn'>重试一下</a>"),t.panl.find(".retryBtn").click(function(){o()})},o=function(){t.panl.find(".two_dimension_code_main").html("正在生成二维码……"),t.panl.find(".two_dimension_code_bottom").remove();var i=new Image;i.src=t.imgSrc||"",i.onload=function(){e(i)},i.onerror=function(){n(i)}};return o(),{pane:t.panl[0]}},a.prototype.bindEvent=function(){var t=this;t.target&&t.target.mouseover(function(){t.changetextdec||t.changeUnderLine(!0),t.setVisible(!0)}).mouseout(function(){t.changeUnderLine(!1),t.setVisible(!1)}),t.panl&&t.panl.mouseover(function(){t.changetextdec||t.changeUnderLine(!0),"function"==typeof t.hoverCallBack&&t.hoverCallBack(),t.setVisible(!0)}).mouseleave(function(){t.changeUnderLine(!1),t.setVisible(!1),"function"==typeof t.leaveCallBack&&t.leaveCallBack()})},a.prototype.setLocation=function(t,e){var n=this;e=Math.max(0,e),n.panl[0].style.left=t+"px",n.panl[0].style.top=e+"px",n._mCoor[0]=t,n._mCoor[1]=e},a.prototype._init=function(){var t=this,e=function(){var e={type:"twodimensioncode",clienttype:"0",currentUrl:encodeURIComponent(window.location.href)};o.log.send(e),window.open(t.clickUrl)};t.panlclick||(t.panl&&t.panl.click(function(){e()}),t.target&&t.target.click(function(){e()})),i("#retryBtn").click(function(){retry()})},a.prototype.changeUnderLine=function(t){var e=this,n=t?"underline":"none",i=e.target;"A"==i.attr("tagName")?i.css("textDecoration",n):i.find("a").css("textDecoration",n)},a.prototype.getPosi=function(){var t=this,e=t.target.width()+parseInt(t.target.css("paddingLeft"),10),n=(t.target.height(),t.target.offset()),i=n.left,o=n.top+t.topOffset+21;return i+=e-t.panl.width()+t.leftOffset,{x:i,y:o}},a.prototype.setVisible=function(t){var e,n=this;t&&n.target&&(e=this.getPosi(),n.setLocation(e.x,e.y)),"down"==n.arrowPos&&(i(".dialog_two_dimension_code").css("paddingBottom","9px"),i(".iframe_two_dimension_code").css("height","200px")),n.flagAddIframe&&a.getIframeObj().css(t?{left:e.x,top:e.y,zIndex:888,display:"block"}:{display:"none"}),n.panl[0].style.display=t?"block":"none"},a.prototype.addAnalytics=function(){},n.exports=a});
;define("disk-system:widget/system/uiService/userService/getData.js",function(e,t,a){"use strict";var c=e("base:widget/libs/jquerypacket.js"),s=e("system-core:context/context.js").instanceForSystem,n=function(e){c.ajax({type:e.type||"get",url:e.url,dataType:e.dataType||"json",timeout:3e3,data:c.extend(e.data,{t:(new Date).getTime()}),success:function(t){var a=null;try{a=c.parseJSON(t)||t}catch(s){}0===a.errno?"function"==typeof e.succCallback&&e.succCallback.call(e.succCallback,a):l(e.failCallback,a)}}).error(function(t){var a=null,s=null;t&&(a=t.error_code,s=t.responseText);try{s=c.parseJSON(t.responseText)}catch(n){}l(e.failCallback,s)})},l=function(e,t){"function"==typeof e?e.call(e,t):(disk.DEBUG&&console.log(""),s.ui.tip({mode:"caution",msg:"网络错误，请稍候重试"}))};a.exports=n});
;define("disk-system:widget/system/uiService/userService/addFriendService.js",function(e,i,n){"use strict";var c,t=e("base:widget/libs/jquerypacket.js"),o=e("disk-system:widget/system/uiService/userService/getData.js"),r=e("system-core:context/context.js").instanceForSystem,a=function(e){this.member=e.member,this.verifyCancelFunc=e.verifyCancelFunc,this.whenVerifyCodeDialog=e.whenVerifyCodeDialog,this.addSuccFunc=e.addSuccFunc,this.flagFirst=!0,this.vcode=null,this.input=null,this.$shareDailog=t("#share")};a.ADD_FOLLOW="/mbox/relation/addfollow",a.prototype.addFollow=function(){var e=this,i={};i=null===e.vcode&&null===e.input?{uk:e.member.uk,type:"normal"}:{uk:e.member.uk,type:"normal",input:e.input,vcode:e.vcode},o({url:a.ADD_FOLLOW,data:i,succCallback:function(i){e.flagFirst=!0,"function"==typeof e.addSuccFunc?e.addSuccFunc.call(e.addSuccFunc,i):r.ui.tip({mode:"success",msg:"添加好友成功"})},failCallback:function(i){var n="网络错误，请稍候重试";i&&-19===i.errno?e.showVerifyDialog(i.img,i.vcode):(i&&2117===i.errno?n="好友超出限制了":i&&2118===i.errno?n="已经是好友":i&&2115===i.errno?n="不能添加自己为好友":e.flagFirst||"function"!=typeof e.verifyCancelFunc||e.verifyCancelFunc.call(e.verifyCancelFunc),r.ui.tip({mode:"caution",msg:n}))}})},a.prototype.showVerifyDialog=function(e,i){var n=this,t={img:e,vcode:i};c=r.ui.verify({title:"提示",hasError:this.flagFirst,onSure:function(e,i){n.input=i,n.vcode=e,n.addFollow(),c.hide()},onCancel:function(){"function"==typeof n.verifyCancelFunc&&n.verifyCancelFunc.call(n.verifyCancelFunc),n.flagFirst=!0,n.$shareDailog.show(),c.hide()}},t),c.show(),"function"==typeof n.whenVerifyCodeDialog&&n.whenVerifyCodeDialog.call(n.whenVerifyCodeDialog),n.flagFirst=!1},n.exports=a});
;define("disk-system:widget/system/uiService/userService/createGroupService.js",function(e,i,c){"use strict";var n,t=e("base:widget/libs/jquerypacket.js"),a=e("system-core:context/context.js").instanceForSystem,r=e("disk-system:widget/system/uiService/userService/getData.js"),o=function(e){this.data=e.data,this.verifyCancelFunc=e.verifyCancelFunc,this.whenVerifyCodeDialog=e.whenVerifyCodeDialog,this.addSuccFunc=e.addSuccFunc,this.addFailFunc=e.addFailFunc,this.flagFirst=!0,this.vcode=null,this.input=null,this.$shareDailog=t("#share")};o.createGroupUrl="/mbox/group/create",o.prototype.createGroup=function(){var e=this,i={};i=null===e.vcode&&null===e.input?e.data:t.extend(e.data,{input:e.input,vcode:e.vcode}),r({url:o.createGroupUrl,data:i,succCallback:function(i){e.flagFirst=!0,"function"==typeof e.addSuccFunc?e.addSuccFunc.call(e.addSuccFunc,i):a.ui.tip({mode:"sucess",msg:"创建群组成功"})},failCallback:function(i){var c="网络错误，请稍候重试";i&&-19===i.errno?e.showVerifyDialog(i.img,i.vcode):"function"==typeof e.addFailFunc?e.addFailFunc.call(e.addFailFunc,i):(i&&2101===i.errno?c="你已达到创建2000群上限":i&&2100===i.errno?c="用户都已经被添加过":i&&2119===i.errno?c="群成员已满":i&&-60===i.errno?c="群成员超过上限":i&&-20===i.errno?c="获取验证码失败":i&&-73===i.errno&&(c="创建群个数超过上限"),a.ui.tip({mode:"caution",msg:c}))}})},o.prototype.showVerifyDialog=function(e,i){var c=this,t=({scope:c,onSubmitFunc:function(e,n){c.input=n,c.vcode=i,c.createGroup()},onCancelFunc:function(){"function"==typeof c.verifyCancelFunc&&c.verifyCancelFunc.call(c.verifyCancelFunc),c.flagFirst=!0},flagFirst:c.flagFirst},{img:e,vcode:i});n=a.ui.verify({title:"提示",hasError:this.flagFirst,onSure:function(e,i){c.input=i,c.vcode=e,c.createGroup(),n.hide()},onCancel:function(){"function"==typeof c.verifyCancelFunc&&c.verifyCancelFunc.call(c.verifyCancelFunc),c.flagFirst=!0,c.$shareDailog.show(),n.hide()}},t),n.show(),"function"==typeof c.whenVerifyCodeDialog&&c.whenVerifyCodeDialog.call(c.whenVerifyCodeDialog),c.flagFirst=!1},c.exports=o});
;define("disk-system:widget/system/uiService/userService/searchUserService.js",function(e,i,c){"use strict";var s,t=e("base:widget/libs/jquerypacket.js"),n=e("system-core:context/context.js").instanceForSystem,r=e("disk-system:widget/system/uiService/userService/getData.js"),a=function(e){this.query=e.query,this.verifyCancelFunc=e.verifyCancelFunc,this.whenVerifyCodeDialog=e.whenVerifyCodeDialog,this.searchSuccFunc=e.searchSuccFunc,this.searchFailFunc=e.searchFailFunc,this.flagFirst=!0,this.vcode=null,this.input=null,this.$shareDailog=t("#share")};a.SEARCH_RUL="/api/user/search",a.prototype.searchUser=function(){this.flagFirst===!0&&n.ui.tip({mode:"loading",msg:"正在搜索用户",autoClose:!1});var e=this,i={};i=null===e.vcode&&null===e.input?e.query:t.extend(e.query,{input:e.input,vcode:e.vcode}),r({url:a.SEARCH_RUL,data:i,succCallback:function(i){e.flagFirst=!0,n.ui.hideTip(),"function"==typeof e.searchSuccFunc&&e.searchSuccFunc.call(e.searchSuccFunc,i)},failCallback:function(i){var c="网络错误，请稍候重试";n.ui.hideTip(),i&&-19===i.errno?e.showVerifyDialog(i.img,i.vcode):(i&&-80===i.errno&&(c="朋友虽好，可别贪多。明天再来搜吧"),n.ui.tip({mode:"caution",msg:c}),"function"==typeof e.searchFailFunc&&e.searchFailFunc.call(e.searchFailFunc,i))}})},a.prototype.showVerifyDialog=function(e,i){var c=this,t={img:e,vcode:i};s=n.ui.verify({title:"提示",hasError:this.flagFirst,onSure:function(e,i){c.vcode=e,c.input=i,c.searchUser(),s.hide()},onCancel:function(){"function"==typeof c.verifyCancelFunc&&c.verifyCancelFunc.call(c.verifyCancelFunc),c.flagFirst=!0,c.$shareDailog.show(),s.hide()}},t),s.show(),"function"==typeof c.whenVerifyCodeDialog&&c.whenVerifyCodeDialog.call(c.whenVerifyCodeDialog),c.flagFirst=!1},c.exports=a});
;define("disk-system:widget/system/util/contextExtend.js",function(t){var e=t("system-core:context/context.js").instanceForSystem,i=t("disk-system:widget/data/yunData.js"),n=t("disk-system:widget/system/fileService/fileOperate/fileOperate.js"),r=t("system-core:system/uiService/list/list.js"),o=t("system-core:system/uiService/dialog/dialog.js"),s=t("system-core:system/uiService/button/button.js"),u={buttonType:"big",buttonPadding:["50px","50px"],buttonColor:"blue"},a={paddingLeft:15,paddingRight:25,height:28};e.extend({file:{getIconAndPlugin:function(t,e,i){return n.getInfo(t,e,!1,i)},isOpenedFile:function(t,e){return n.isOpenedFile(t,e)},getFileInfo:function(t,e,i,r,o){return n.getInfo(t,e,i,r,o)}},data:{user:i.get(),quota:{get:function(){return[100,1e10]},update:function(t){t.call(null,100,1e10)},hasEnoughSpacing:function(){return window.yunData&&window.yunData.QUOTAINFOS?window.yunData.QUOTAINFOS.used<window.yunData.QUOTAINFOS.total:!0}}},ui:{list:function(t,e){var i=new r(t,e);return i.extend({resizeScrollBar:function(t){var e=this.$container;if("number"==typeof t||"string"==typeof t?e.height(t):t=e.height(),0===t)throw"[Error] list container's height is 0, need to set";e.height(t);var i=this.listHeader.hasInit===!1?0:43;"none"===e.find(".module-history-list").css("display")?(e.find(".module-list-view").height(t-i).find(".scrollbar-tracker").height(t-i-2-26),e.find(".module-grid-view").height(t-i).find(".scrollbar-tracker").height(t-i-2-26)):(e.find(".module-list-view").height(t-73).find(".scrollbar-tracker").height(t-73-2-26),e.find(".module-grid-view").height(t-73).find(".scrollbar-tracker").height(t-73-2-26))}}),i},confirm:function(t,e,i,n,r){return o.confirm.call(o,t,e,i,n,r,u)},alert:function(t,e){return o.alert.call(o,t,e,u)},verify:function(t,e,i,n,r){return o.verify.call(o,t,e,i,n,r,u)},button:function(t){return t.buttonDefaultConfig=a,new s(t)}}})});
;define("disk-system:widget/system/util/message.js",function(e,t,s){var n=e("base:widget/libs/underscore.js"),i="quota-change",r=function(){this.events={}};r.prototype={constructor:r,_define:function(e){"string"==typeof e&&(this.exist(e)||(this.events[e]={handlers:[]}))},exist:function(e){return this.events[e]?!0:!1},listen:function(e,t){if("string"!=typeof e)throw new Error("[message] The eventName must be a string !");this.exist(e)||this._define(e),"function"==typeof t&&this.events[e].handlers.push(t)},trigger:function(){var e=/^plugin\:.+$/;return function(t){if(e.test(t)===!0)return void r.doPlugins(t);if(this.exist(t)===!1)return void r.doPlugins(arguments);for(var s=this.events[t].handlers,n=[].slice.call(arguments,1),i=0,o=s.length;o>i;i++)s[i].apply(void 0,n)}}(),callPlugin:function(e,t){if("string"!=typeof e)throw new Error("[message] The pluginName must be a string !");r.trigger("plugin:"+e,t)},callSystem:function(e,t){if("string"!=typeof e)throw new Error("[message] The systemServiceName must be a string !");r.trigger(e,t)},listenSystem:function(e,t){if("string"!=typeof e||-1===i.indexOf(e))throw new Error("[message] Permission denied or the event name is error!");r.listen(e,t)}},n.extend(r,r.prototype,{events:{},pluginHandlers:[],checkFormatKey:function(e){var t,s;if(/_/g.test(e)===!0)throw new Error('[message.define] the key should not use "_"');if(/-/g.test(e)===!1)throw new Error('[message.define] the key should use "moduleName-method[-method[-method]]"');if(t=e.split("-"),s=t.shift(),/^[a-zA-Z]+$/.test(s)===!1)throw new Error('[message.define] the key should use "moduleName-method[-method[-method]]"');for(var n=0,i=t.length;i>n;n++)if(/^[a-z]+$/.test(t[n])===!1)throw new Error('[message.define] the key should use "moduleName-method[-method[-method]]"');return!0},doPlugins:function(e){var t=this.pluginHandlers;if(0!==t.length)for(var s=0,n=t.length;n>s;s++)t[s].apply(void 0,e)},trigger:function(e){if(this.exist(e)===!1)return void this.doPlugins(arguments);for(var t=this.events[e].handlers,s=[].slice.call(arguments,1),n=0,i=t.length;i>n;n++)t[n].apply(void 0,s);this.doPlugins(arguments)},manage:function(e){"function"==typeof e&&this.pluginHandlers.push(e)}}),s.exports=r});
;!function(){var n=window,e=n.document,o=require("base:widget/libs/jquerypacket.js"),t=require("base:widget/libs/underscore.js"),r=require("disk-system:widget/data/yunData.js").get(),i=require("system-core:system/baseService/message/message.js"),c=require("system-core:context/context.js"),a=require("disk-system:widget/system/util/pcsDownloadUtil.js"),s=require("base:widget/tools/tools.js");!function(e){void 0===e&&(e=n.disk={}),e.DEBUG=function(){var e=n.location.host;return n.console?"pan.baidu.com"===e||"lab.pan.baidu.com"===e?!1:!0:!1}(),e.uniqueId=0,e.obtainId=function(){return"_disk_id_"+ ++e.uniqueId},e.common={}}(n.disk);var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/~！@#￥%……&",f=String.fromCharCode,l=function(n){if(n.length<2){var e=n.charCodeAt(0);return 128>e?n:2048>e?f(192|e>>>6)+f(128|63&e):f(224|e>>>12&15)+f(128|e>>>6&63)+f(128|63&e)}var e=65536+1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320);return f(240|e>>>18&7)+f(128|e>>>12&63)+f(128|e>>>6&63)+f(128|63&e)},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,g=function(n){return(n+""+Math.random()).replace(d,l)},m=function(n){var e=[0,2,1][n.length%3],o=n.charCodeAt(0)<<16|(n.length>1?n.charCodeAt(1):0)<<8|(n.length>2?n.charCodeAt(2):0),t=[u.charAt(o>>>18),u.charAt(o>>>12&63),e>=2?"=":u.charAt(o>>>6&63),e>=1?"=":u.charAt(63&o)];return t.join("")},h=function(n){return n.replace(/[\s\S]{1,3}/g,m)},p=function(){return h(g((new Date).getTime()))},w=function(n,e){return e?p(String(n)).replace(/[+\/]/g,function(n){return"+"==n?"-":"_"}).replace(/=/g,""):p(String(n))};if(function(){o(document).ajaxSend(function(n,e,o){var t=w(c.instanceForSystem.tools.baseService.getCookie("BAIDUID"));o.url+=/\?/.test(o.url)?"&channel=chunlei&web=1&app_id=250528":"?channel=chunlei&web=1&app_id=250528",("script"!==o.dataType||o.cache!==!0)&&(o.url+="&bdstoken="+r.bdstoken+"&logid="+t),o.url+="/disk/plugin"===location.pathname?"&clienttype=8&version=4.9.9.9":"&clienttype=0"})}(),function(n){var e=n.async;n.async=function(n,o,t){e(n,function(){"function"==typeof o&&o.apply(this,arguments)},function(){"function"==typeof t&&t.apply(this,arguments)})}}(require),function(n){var e=n.location.host;"undefined"!=typeof n.console||"pan.baidu.com"!==e&&"yun.baidu.com"!==e||(n.console={log:function(){},assert:function(){},info:function(){},warn:function(){},error:function(){}})}(n),function(){o.browser.msie&&6===parseInt(o.browser.version,10)&&e.execCommand("backgroundimagecache",!1,!0)}(),function(n){n.trim||(n.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}(String.prototype),function(n){n.disk.logger=function(n){var e={debug:"DEBUG",info:"INFO",warn:"WARN",error:"ERROR",fatal:"FETAL"},t={blue:"#52A7A2",green:"#33B136",yellow:"#C3C852",red:"#971C1E",purple:"#8C2C85"},r=function(){var n=new Date,e=n.getMonth()+1,o=n.getDate(),t=n.getHours(),r=n.getMinutes(),i=n.getMinutes(),c=n.getMilliseconds();return n.getFullYear()+"-"+(String(e).length<2?"0"+e:e)+"-"+(String(o).length<2?"0"+o:o)+" "+(String(t).length<2?"0"+t:t)+":"+(String(r).length<2?"0"+r:r)+":"+(String(i).length<2?"0"+i:i)+"."+c},i=function(n,e){return o.browser.msie&&parseInt(o.browser.version,10)<=8?"[QA] ["+r()+"] ["+n+"]  - "+e:"%c[QA] ["+r()+"] ["+n+"]  - "+e};return disk.DEBUG?o.browser.msie&&parseInt(o.browser.version,10)<=8?{debug:function(o){n.log(i(e.debug,o))},info:function(o){n.log(i(e.info,o))},warn:function(o){n.log(i(e.warn,o))},error:function(o){n.log(i(e.error,o))},fatal:function(o){n.log(i(e.fatal,o))}}:{debug:function(o){n.log(i(e.debug,o),"color: "+t.blue)},info:function(o){n.log(i(e.info,o),"color: "+t.green)},warn:function(o){n.log(i(e.warn,o),"color: "+t.yellow)},error:function(o){n.log(i(e.error,o),"color: "+t.red)},fatal:function(o){n.log(i(e.fatal,o),"color: "+t.purple)}}:{debug:function(){},info:function(){},warn:function(){},error:function(){},fatal:function(){}}}(n.console)}(window),function(n){n.indexOf||(n.indexOf=function(n){return t.indexOf(this,n)},n.forEach||(n.forEach=function(n){return t.each(this,n)}))}(Array.prototype),function(n){n.disk.decorator={},function(){var e=function(n){var e=this;this.timers={},this.component=n;for(var o in this.component)"function"==typeof this.component[o]&&!function(n){e[n]=function(){var o,t,r,i=[].slice.call(arguments,0);e[n].isAsync=!1;for(var c=0,a=i.length;a>c;c++)if(t=i[c],"object"==typeof t){for(r in t)if("function"==typeof t[r]&&/asyncEnd\(/g.test(t[r])===!0){e[n].isAsync=!0;break}}else"function"==typeof t&&/asyncEnd\(/g.test(t)===!0&&(e[n].isAsync=!0);return e.startTimer(n),o=e.component[n].apply(e.component,arguments),e[n].isAsync||e.displayTime(n,e.getExecuteTime(n)),o}}(o)};e.prototype={startTimer:function(n){this.timers[n]=(new Date).getTime()},getExecuteTime:function(n){return(new Date).getTime()-this.timers[n]},displayTime:function(e,t){o.browser.msie&&parseInt(o.browser.version,10)<=8?n.console.log("[disk.decorator.Timer] "+e+": "+t+" ms"):n.console.log("%c[disk.decorator.Timer] "+e+": "+t+" ms","color: #029FE6")},asyncEnd:function(n){if(void 0===this[n])throw new Error("[disk.decorator.Timer][asyncEnd] The methodName of async is wrong.");if(this[n].isAsync!==!0)throw new Error("[disk.decorator.Timer][asyncEnd] If you use asyncEnd of Timer, the arguments of method should has a callback.");this.displayTime(n,this.getExecuteTime(n))}},n.disk.decorator.Timer=e}()}(window),function(){o.browser.msie===!0&&6==o.browser.version&&o("body").addClass("fixbug-ie6")}(),function(){var n=!1;i.listen("after-list-loaded",function(){n!==!0&&(a.initPcsDownloadCdnConnectivity(function(n){n&&(new c).file.watchCDNOfPCS(n)}),n=!0)})}(),function(){Object.freeze&&Object.freeze(navigator)}(),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),function(){for(var n=["Hm_lvt_773fea2ac036979ebb5fcc768d8beb67","Hm_lvt_b181fb73f90936ebd334d457c848c8b5","Hm_lvt_adf736c22cd6bcc36a1d27e5af30949e"],e="."+location.hostname,o=0;o<n.length;o++)s.setCookie(n[o],"",-1,"/",e)}(),"/disk/home"===location.pathname){var b=null,y=s.client().browserString,v=30,k=0,x=2e3;(-1!==y.indexOf("chrome")||-1!==y.indexOf("firefox")||-1!==y.indexOf("safari"))&&(b=setInterval(function(){var n=o("script"),e=n[n.length-1].src;(-1!==e.indexOf("mjaenbjdjmgolhoafkohbhhbaiedbkno")||-1!==e.indexOf("acgotaku311")||-1!==e.indexOf("BaiduExporter"))&&(c.instanceForSystem.log.send({name:"chrome-extension",sendServerLog:!0,value:y}),clearInterval(b)),++k>v&&clearInterval(b)},x),o(document).delegate("#export_menu","click",function(){c.instanceForSystem.log.send({name:"chrome-used",sendServerLog:!0,value:y})}))}}();